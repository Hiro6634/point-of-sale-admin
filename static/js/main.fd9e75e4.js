/*! For license information please see main.fd9e75e4.js.LICENSE.txt */
!function(){var e={757:function(e,t,n){e.exports=n(727)},110:function(e,t,n){"use strict";var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),y=0;y<o.length;++y){var m=o[y];if(!a[m]&&(!r||!r[m])&&(!v||!v[m])&&(!u||!u[m])){var g=h(n,m);try{c(t,m,g)}catch(k){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,y=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case y:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=y,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||w(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===y},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===k||e.$$typeof===b||e.$$typeof===m)},t.typeOf=w},309:function(e,t,n){"use strict";e.exports=n(746)},725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,a){for(var o,u,s=i(e),c=1;c<arguments.length;c++){for(var l in o=Object(arguments[c]))n.call(o,l)&&(s[l]=o[l]);if(t){u=t(o);for(var f=0;f<u.length;f++)r.call(o,u[f])&&(s[u[f]]=o[u[f]])}}return s}},888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),i=n(725),a=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var u=new Set,s={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)u.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function y(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new y(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new y(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new y(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new y(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new y(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new y(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new y(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new y(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new y(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function k(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(h.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,k);m[t]=new y(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,k);m[t]=new y(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,k);m[t]=new y(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new y(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new y(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=60103,E=60106,_=60107,S=60108,I=60114,T=60109,C=60110,A=60112,N=60113,O=60120,P=60115,D=60116,R=60121,L=60128,M=60129,F=60130,U=60131;if("function"===typeof Symbol&&Symbol.for){var j=Symbol.for;x=j("react.element"),E=j("react.portal"),_=j("react.fragment"),S=j("react.strict_mode"),I=j("react.profiler"),T=j("react.provider"),C=j("react.context"),A=j("react.forward_ref"),N=j("react.suspense"),O=j("react.suspense_list"),P=j("react.memo"),D=j("react.lazy"),R=j("react.block"),j("react.scope"),L=j("react.opaque.id"),M=j("react.debug_trace_mode"),F=j("react.offscreen"),U=j("react.legacy_hidden")}var V,B="function"===typeof Symbol&&Symbol.iterator;function z(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=B&&e[B]||e["@@iterator"])?e:null}function q(e){if(void 0===V)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||""}return"\n"+V+e}var H=!1;function W(e,t){if(!e||H)return"";H=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(s){var r=s}Reflect.construct(e,[],t)}else{try{t.call()}catch(s){r=s}e.call(t.prototype)}else{try{throw Error()}catch(s){r=s}e()}}catch(s){if(s&&r&&"string"===typeof s.stack){for(var i=s.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=u);break}}}finally{H=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?q(e):""}function G(e){switch(e.tag){case 5:return q(e.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return e=W(e.type,!1);case 11:return e=W(e.type.render,!1);case 22:return e=W(e.type._render,!1);case 1:return e=W(e.type,!0);default:return""}}function K(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case E:return"Portal";case I:return"Profiler";case S:return"StrictMode";case N:return"Suspense";case O:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case P:return K(e.type);case R:return K(e._render);case D:t=e._payload,e=e._init;try{return K(e(t))}catch(n){}}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Y(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function X(e){e._valueTracker||(e._valueTracker=function(e){var t=Y(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function J(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Y(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function $(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&$(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ue(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function ce(e,t){var n=Q(t.value),r=Q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",he="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,ye,me=(ye=function(e,t){if(e.namespaceURI!==he||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ye(e,t)}))}:ye);function ge(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ke={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ke.hasOwnProperty(e)&&ke[e]?(""+t).trim():t+"px"}function xe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ke).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ke[t]=ke[e]}))}));var Ee=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _e(e,t){if(t){if(Ee[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Se(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ie(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Te=null,Ce=null,Ae=null;function Ne(e){if(e=ri(e)){if("function"!==typeof Te)throw Error(o(280));var t=e.stateNode;t&&(t=ai(t),Te(e.stateNode,e.type,t))}}function Oe(e){Ce?Ae?Ae.push(e):Ae=[e]:Ce=e}function Pe(){if(Ce){var e=Ce,t=Ae;if(Ae=Ce=null,Ne(e),t)for(e=0;e<t.length;e++)Ne(t[e])}}function De(e,t){return e(t)}function Re(e,t,n,r,i){return e(t,n,r,i)}function Le(){}var Me=De,Fe=!1,Ue=!1;function je(){null===Ce&&null===Ae||(Le(),Pe())}function Ve(e,t){var n=e.stateNode;if(null===n)return null;var r=ai(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Be=!1;if(f)try{var ze={};Object.defineProperty(ze,"passive",{get:function(){Be=!0}}),window.addEventListener("test",ze,ze),window.removeEventListener("test",ze,ze)}catch(ye){Be=!1}function qe(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var He=!1,We=null,Ge=!1,Ke=null,Qe={onError:function(e){He=!0,We=e}};function Ye(e,t,n,r,i,a,o,u,s){He=!1,We=null,qe.apply(Qe,arguments)}function Xe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Je(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function $e(e){if(Xe(e)!==e)throw Error(o(188))}function Ze(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Xe(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return $e(i),e;if(a===r)return $e(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=a;break}if(s===r){u=!0,r=i,n=a;break}s=s.sibling}if(!u){for(s=a.child;s;){if(s===n){u=!0,n=a,r=i;break}if(s===r){u=!0,r=a,n=i;break}s=s.sibling}if(!u)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,at=!1,ot=[],ut=null,st=null,ct=null,lt=new Map,ft=new Map,ht=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":ut=null;break;case"dragenter":case"dragleave":st=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function yt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=pt(t,n,r,i,a),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function mt(e){var t=ni(e.target);if(null!==t){var n=Xe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Je(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function kt(e,t,n){gt(e)&&n.delete(t)}function bt(){for(at=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==ut&&gt(ut)&&(ut=null),null!==st&&gt(st)&&(st=null),null!==ct&&gt(ct)&&(ct=null),lt.forEach(kt),ft.forEach(kt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,bt)))}function xt(e){function t(t){return wt(t,e)}if(0<ot.length){wt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==ut&&wt(ut,e),null!==st&&wt(st,e),null!==ct&&wt(ct,e),lt.forEach(t),ft.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)mt(n),null===n.blockedOn&&ht.shift()}function Et(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _t={animationend:Et("Animation","AnimationEnd"),animationiteration:Et("Animation","AnimationIteration"),animationstart:Et("Animation","AnimationStart"),transitionend:Et("Transition","TransitionEnd")},St={},It={};function Tt(e){if(St[e])return St[e];if(!_t[e])return e;var t,n=_t[e];for(t in n)if(n.hasOwnProperty(t)&&t in It)return St[e]=n[t];return e}f&&(It=document.createElement("div").style,"AnimationEvent"in window||(delete _t.animationend.animation,delete _t.animationiteration.animation,delete _t.animationstart.animation),"TransitionEvent"in window||delete _t.transitionend.transition);var Ct=Tt("animationend"),At=Tt("animationiteration"),Nt=Tt("animationstart"),Ot=Tt("transitionend"),Pt=new Map,Dt=new Map,Rt=["abort","abort",Ct,"animationEnd",At,"animationIteration",Nt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ot,"transitionEnd","waiting","waiting"];function Lt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Dt.set(r,t),Pt.set(r,i),c(i,[r])}}(0,a.unstable_now)();var Mt=8;function Ft(e){if(0!==(1&e))return Mt=15,1;if(0!==(2&e))return Mt=14,2;if(0!==(4&e))return Mt=13,4;var t=24&e;return 0!==t?(Mt=12,t):0!==(32&e)?(Mt=11,32):0!==(t=192&e)?(Mt=10,t):0!==(256&e)?(Mt=9,256):0!==(t=3584&e)?(Mt=8,t):0!==(4096&e)?(Mt=7,4096):0!==(t=4186112&e)?(Mt=6,t):0!==(t=62914560&e)?(Mt=5,t):67108864&e?(Mt=4,67108864):0!==(134217728&e)?(Mt=3,134217728):0!==(t=805306368&e)?(Mt=2,t):0!==(1073741824&e)?(Mt=1,1073741824):(Mt=8,e)}function Ut(e,t){var n=e.pendingLanes;if(0===n)return Mt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,u=e.pingedLanes;if(0!==a)r=a,i=Mt=15;else if(0!==(a=134217727&n)){var s=a&~o;0!==s?(r=Ft(s),i=Mt):0!==(u&=a)&&(r=Ft(u),i=Mt)}else 0!==(a=n&~o)?(r=Ft(a),i=Mt):0!==u&&(r=Ft(u),i=Mt);if(0===r)return 0;if(r=n&((0>(r=31-Ht(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(Ft(t),i<=Mt)return t;Mt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Ht(t)),r|=e[n],t&=~i;return r}function jt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Vt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Bt(24&~t))?Vt(10,t):e;case 10:return 0===(e=Bt(192&~t))?Vt(8,t):e;case 8:return 0===(e=Bt(3584&~t))&&(0===(e=Bt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Bt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function Bt(e){return e&-e}function zt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function qt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Ht(t)]=n}var Ht=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Wt(e)/Gt|0)|0},Wt=Math.log,Gt=Math.LN2;var Kt=a.unstable_UserBlockingPriority,Qt=a.unstable_runWithPriority,Yt=!0;function Xt(e,t,n,r){Fe||Le();var i=$t,a=Fe;Fe=!0;try{Re(i,e,t,n,r)}finally{(Fe=a)||je()}}function Jt(e,t,n,r){Qt(Kt,$t.bind(null,e,t,n,r))}function $t(e,t,n,r){var i;if(Yt)if((i=0===(4&t))&&0<ot.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var a=Zt(e,t,n,r);if(null===a)i&&vt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=pt(a,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return ut=yt(ut,e,t,n,r,i),!0;case"dragenter":return st=yt(st,e,t,n,r,i),!0;case"mouseover":return ct=yt(ct,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return lt.set(a,yt(lt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ft.set(a,yt(ft.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;vt(e,r)}Lr(e,t,r,null,n)}}}function Zt(e,t,n,r){var i=Ie(r);if(null!==(i=ni(i))){var a=Xe(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=Je(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Lr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function un(){return!1}function sn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:un,this.isPropagationStopped=un,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var cn,ln,fn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=sn(hn),pn=i({},hn,{view:0,detail:0}),vn=sn(pn),yn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(cn=e.screenX-fn.screenX,ln=e.screenY-fn.screenY):ln=cn=0,fn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),mn=sn(yn),gn=sn(i({},yn,{dataTransfer:0})),kn=sn(i({},pn,{relatedTarget:0})),bn=sn(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=sn(wn),En=sn(i({},hn,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},In={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=In[e])&&!!t[e]}function Cn(){return Tn}var An=i({},pn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Nn=sn(An),On=sn(i({},yn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=sn(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Dn=sn(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=i({},yn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=sn(Rn),Mn=[9,13,27,32],Fn=f&&"CompositionEvent"in window,Un=null;f&&"documentMode"in document&&(Un=document.documentMode);var jn=f&&"TextEvent"in window&&!Un,Vn=f&&(!Fn||Un&&8<Un&&11>=Un),Bn=String.fromCharCode(32),zn=!1;function qn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Wn=!1;var Gn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Gn[e.type]:"textarea"===t}function Qn(e,t,n,r){Oe(r),0<(t=Fr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Yn=null,Xn=null;function Jn(e){Ar(e,0)}function $n(e){if(J(ii(e)))return e}function Zn(e,t){if("change"===e)return t}var er=!1;if(f){var tr;if(f){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){Yn&&(Yn.detachEvent("onpropertychange",ar),Xn=Yn=null)}function ar(e){if("value"===e.propertyName&&$n(Xn)){var t=[];if(Qn(t,Xn,e,Ie(e)),e=Jn,Fe)e(t);else{Fe=!0;try{De(e,t)}finally{Fe=!1,je()}}}}function or(e,t,n){"focusin"===e?(ir(),Xn=n,(Yn=t).attachEvent("onpropertychange",ar)):"focusout"===e&&ir()}function ur(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Xn)}function sr(e,t){if("click"===e)return $n(t)}function cr(e,t){if("input"===e||"change"===e)return $n(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},fr=Object.prototype.hasOwnProperty;function hr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!fr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function vr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?vr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function yr(){for(var e=window,t=$();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=$((e=t.contentWindow).document)}return t}function mr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gr=f&&"documentMode"in document&&11>=document.documentMode,kr=null,br=null,wr=null,xr=!1;function Er(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==kr||kr!==$(r)||("selectionStart"in(r=kr)&&mr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&hr(wr,r)||(wr=r,0<(r=Fr(br,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=kr)))}Lt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Lt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Lt(Rt,2);for(var _r="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Sr=0;Sr<_r.length;Sr++)Dt.set(_r[Sr],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ir="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ir));function Cr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,u,s,c){if(Ye.apply(this,arguments),He){if(!He)throw Error(o(198));var l=We;He=!1,We=null,Ge||(Ge=!0,Ke=l)}}(r,t,void 0,e),e.currentTarget=null}function Ar(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Cr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Cr(i,u,c),a=s}}}if(Ge)throw e=Ke,Ge=!1,Ke=null,e}function Nr(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Rr(t,e,2,!1),n.add(r))}var Or="_reactListening"+Math.random().toString(36).slice(2);function Pr(e){e[Or]||(e[Or]=!0,u.forEach((function(t){Tr.has(t)||Dr(t,!1,e,null),Dr(t,!0,e,null)})))}function Dr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Tr.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=oi(a),u=e+"__"+(t?"capture":"bubble");o.has(u)||(t&&(i|=4),Rr(a,e,i,t),o.add(u))}function Rr(e,t,n,r){var i=Dt.get(t);switch(void 0===i?2:i){case 0:i=Xt;break;case 1:i=Jt;break;default:i=$t}n=i.bind(null,t,n,e),i=void 0,!Be||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Lr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=ni(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}!function(e,t,n){if(Ue)return e(t,n);Ue=!0;try{Me(e,t,n)}finally{Ue=!1,je()}}((function(){var r=a,i=Ie(n),o=[];e:{var u=Pt.get(e);if(void 0!==u){var s=dn,c=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":s=Nn;break;case"focusin":c="focus",s=kn;break;case"focusout":c="blur",s=kn;break;case"beforeblur":case"afterblur":s=kn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Pn;break;case Ct:case At:case Nt:s=bn;break;case Ot:s=Dn;break;case"scroll":s=vn;break;case"wheel":s=Ln;break;case"copy":case"cut":case"paste":s=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=On}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Ve(p,h))&&l.push(Mr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(f=Xe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=mn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=On,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:ii(s),d=null==c?u:ii(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,ni(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Ur(d))p++;for(d=0,v=h;v;v=Ur(v))d++;for(;0<p-d;)l=Ur(l),p--;for(;0<d-p;)h=Ur(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Ur(l),h=Ur(h)}l=null}else l=null;null!==s&&jr(o,u,s,l,!1),null!==c&&null!==f&&jr(o,f,c,l,!0)}if("select"===(s=(u=r?ii(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var y=Zn;else if(Kn(u))if(er)y=cr;else{y=ur;var m=or}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(y=sr);switch(y&&(y=y(e,r))?Qn(o,y,n,i):(m&&m(e,u,r),"focusout"===e&&(m=u._wrapperState)&&m.controlled&&"number"===u.type&&ie(u,"number",u.value)),m=r?ii(r):window,e){case"focusin":(Kn(m)||"true"===m.contentEditable)&&(kr=m,br=r,wr=null);break;case"focusout":wr=br=kr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,Er(o,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":Er(o,n,i)}var g;if(Fn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Wn?qn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Vn&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Wn&&(g=rn()):(tn="value"in(en=i)?en.value:en.textContent,Wn=!0)),0<(m=Fr(r,k)).length&&(k=new En(k,e,null,n,i),o.push({event:k,listeners:m}),g?k.data=g:null!==(g=Hn(n))&&(k.data=g))),(g=jn?function(e,t){switch(e){case"compositionend":return Hn(t);case"keypress":return 32!==t.which?null:(zn=!0,Bn);case"textInput":return(e=t.data)===Bn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Wn)return"compositionend"===e||!Fn&&qn(e,t)?(e=rn(),nn=tn=en=null,Wn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Fr(r,"onBeforeInput")).length&&(i=new En("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Ar(o,t)}))}function Mr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Fr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ve(e,n))&&r.unshift(Mr(e,a,i)),null!=(a=Ve(e,t))&&r.push(Mr(e,a,i))),e=e.return}return r}function Ur(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function jr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Ve(n,a))&&o.unshift(Mr(n,s,u)):i||null!=(s=Ve(n,a))&&o.push(Mr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Vr(){}var Br=null,zr=null;function qr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Hr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Wr="function"===typeof setTimeout?setTimeout:void 0,Gr="function"===typeof clearTimeout?clearTimeout:void 0;function Kr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Qr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Yr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Xr=0;var Jr=Math.random().toString(36).slice(2),$r="__reactFiber$"+Jr,Zr="__reactProps$"+Jr,ei="__reactContainer$"+Jr,ti="__reactEvents$"+Jr;function ni(e){var t=e[$r];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[$r]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Yr(e);null!==e;){if(n=e[$r])return n;e=Yr(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[$r]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ai(e){return e[Zr]||null}function oi(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var ui=[],si=-1;function ci(e){return{current:e}}function li(e){0>si||(e.current=ui[si],ui[si]=null,si--)}function fi(e,t){si++,ui[si]=e.current,e.current=t}var hi={},di=ci(hi),pi=ci(!1),vi=hi;function yi(e,t){var n=e.type.contextTypes;if(!n)return hi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function mi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function gi(){li(pi),li(di)}function ki(e,t,n){if(di.current!==hi)throw Error(o(168));fi(di,t),fi(pi,n)}function bi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,K(t)||"Unknown",a));return i({},n,r)}function wi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,vi=di.current,fi(di,e),fi(pi,pi.current),!0}function xi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=bi(e,t,vi),r.__reactInternalMemoizedMergedChildContext=e,li(pi),li(di),fi(di,e)):li(pi),fi(pi,n)}var Ei=null,_i=null,Si=a.unstable_runWithPriority,Ii=a.unstable_scheduleCallback,Ti=a.unstable_cancelCallback,Ci=a.unstable_shouldYield,Ai=a.unstable_requestPaint,Ni=a.unstable_now,Oi=a.unstable_getCurrentPriorityLevel,Pi=a.unstable_ImmediatePriority,Di=a.unstable_UserBlockingPriority,Ri=a.unstable_NormalPriority,Li=a.unstable_LowPriority,Mi=a.unstable_IdlePriority,Fi={},Ui=void 0!==Ai?Ai:function(){},ji=null,Vi=null,Bi=!1,zi=Ni(),qi=1e4>zi?Ni:function(){return Ni()-zi};function Hi(){switch(Oi()){case Pi:return 99;case Di:return 98;case Ri:return 97;case Li:return 96;case Mi:return 95;default:throw Error(o(332))}}function Wi(e){switch(e){case 99:return Pi;case 98:return Di;case 97:return Ri;case 96:return Li;case 95:return Mi;default:throw Error(o(332))}}function Gi(e,t){return e=Wi(e),Si(e,t)}function Ki(e,t,n){return e=Wi(e),Ii(e,t,n)}function Qi(){if(null!==Vi){var e=Vi;Vi=null,Ti(e)}Yi()}function Yi(){if(!Bi&&null!==ji){Bi=!0;var e=0;try{var t=ji;Gi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),ji=null}catch(n){throw null!==ji&&(ji=ji.slice(e+1)),Ii(Pi,Qi),n}finally{Bi=!1}}}var Xi=w.ReactCurrentBatchConfig;function Ji(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var $i=ci(null),Zi=null,ea=null,ta=null;function na(){ta=ea=Zi=null}function ra(e){var t=$i.current;li($i),e.type._context._currentValue=t}function ia(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function aa(e,t){Zi=e,ta=ea=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Fo=!0),e.firstContext=null)}function oa(e,t){if(ta!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ta=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ea){if(null===Zi)throw Error(o(308));ea=t,Zi.dependencies={lanes:0,firstContext:t,responders:null}}else ea=ea.next=t;return e._currentValue}var ua=!1;function sa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ca(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function la(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fa(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ha(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function da(e,t,n,r){var a=e.updateQueue;ua=!1;var o=a.firstBaseUpdate,u=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var c=s,l=c.next;c.next=null,null===u?o=l:u.next=l,u=c;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==u&&(null===h?f.firstBaseUpdate=l:h.next=l,f.lastBaseUpdate=c)}}if(null!==o){for(h=a.baseState,u=0,f=l=c=null;;){s=o.lane;var d=o.eventTime;if((r&s)===s){null!==f&&(f=f.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(s=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,s);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(s="function"===typeof(p=v.payload)?p.call(d,h,s):p)||void 0===s)break e;h=i({},h,s);break e;case 2:ua=!0}}null!==o.callback&&(e.flags|=32,null===(s=a.effects)?a.effects=[o]:s.push(o))}else d={eventTime:d,lane:s,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(l=f=d,c=h):f=f.next=d,u|=s;if(null===(o=o.next)){if(null===(s=a.shared.pending))break;o=s.next,s.next=null,a.lastBaseUpdate=s,a.shared.pending=null}}null===f&&(c=h),a.baseState=c,a.firstBaseUpdate=l,a.lastBaseUpdate=f,Bu|=u,e.lanes=u,e.memoizedState=h}}function pa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var va=(new r.Component).refs;function ya(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ma={isMounted:function(e){return!!(e=e._reactInternals)&&Xe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hs(),i=ds(e),a=la(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),ps(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hs(),i=ds(e),a=la(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),ps(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hs(),r=ds(e),i=la(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),fa(e,i),ps(e,r,n)}};function ga(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!hr(n,r)||!hr(i,a))}function ka(e,t,n){var r=!1,i=hi,a=t.contextType;return"object"===typeof a&&null!==a?a=oa(a):(i=mi(t)?vi:di.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?yi(e,i):hi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ma,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ba(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ma.enqueueReplaceState(t,t.state,null)}function wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=va,sa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=oa(a):(a=mi(t)?vi:di.current,i.context=yi(e,a)),da(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ya(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ma.enqueueReplaceState(i,i.state,null),da(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var xa=Array.isArray;function Ea(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===va&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function _a(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Sa(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Gs(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function u(t){return e&&null===t.alternate&&(t.flags=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Xs(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Ea(e,t,n),r.return=e,r):((r=Ks(n.type,n.key,n.props,null,e.mode,r)).ref=Ea(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Js(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Qs(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Xs(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Ks(t.type,t.key,t.props,null,e.mode,n)).ref=Ea(e,null,t),n.return=e,n;case E:return(t=Js(t,e.mode,n)).return=e,t}if(xa(t)||z(t))return(t=Qs(t,e.mode,n,null)).return=e,t;_a(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?n.type===_?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case E:return n.key===i?l(e,t,n,r):null}if(xa(n)||z(n))return null!==i?null:f(e,t,n,r,null);_a(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return e=e.get(null===r.key?n:r.key)||null,r.type===_?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case E:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(xa(r)||z(r))return f(t,e=e.get(n)||null,r,i,null);_a(t,r)}return null}function v(i,o,u,s){for(var c=null,l=null,f=o,v=o=0,y=null;null!==f&&v<u.length;v++){f.index>v?(y=f,f=null):y=f.sibling;var m=d(i,f,u[v],s);if(null===m){null===f&&(f=y);break}e&&f&&null===m.alternate&&t(i,f),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m,f=y}if(v===u.length)return n(i,f),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<u.length;v++)null!==(y=p(f,i,v,u[v],s))&&(e&&null!==y.alternate&&f.delete(null===y.key?v:y.key),o=a(y,o,v),null===l?c=y:l.sibling=y,l=y);return e&&f.forEach((function(e){return t(i,e)})),c}function y(i,u,s,c){var l=z(s);if("function"!==typeof l)throw Error(o(150));if(null==(s=l.call(s)))throw Error(o(151));for(var f=l=null,v=u,y=u=0,m=null,g=s.next();null!==v&&!g.done;y++,g=s.next()){v.index>y?(m=v,v=null):m=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=m);break}e&&v&&null===k.alternate&&t(i,v),u=a(k,u,y),null===f?l=k:f.sibling=k,f=k,v=m}if(g.done)return n(i,v),l;if(null===v){for(;!g.done;y++,g=s.next())null!==(g=h(i,g.value,c))&&(u=a(g,u,y),null===f?l=g:f.sibling=g,f=g);return l}for(v=r(i,v);!g.done;y++,g=s.next())null!==(g=p(v,i,y,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?y:g.key),u=a(g,u,y),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,a,s){var c="object"===typeof a&&null!==a&&a.type===_&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case x:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(a.type===_){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}}else if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=Ea(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===_?((r=Qs(a.props.children,e.mode,s,a.key)).return=e,e=r):((s=Ks(a.type,a.key,a.props,null,e.mode,s)).ref=Ea(e,r,a),s.return=e,e=s)}return u(e);case E:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Js(a,e.mode,s)).return=e,e=r}return u(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Xs(a,e.mode,s)).return=e,e=r),u(e);if(xa(a))return v(e,r,a,s);if(z(a))return y(e,r,a,s);if(l&&_a(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,K(e.type)||"Component"))}return n(e,r)}}var Ia=Sa(!0),Ta=Sa(!1),Ca={},Aa=ci(Ca),Na=ci(Ca),Oa=ci(Ca);function Pa(e){if(e===Ca)throw Error(o(174));return e}function Da(e,t){switch(fi(Oa,t),fi(Na,e),fi(Aa,Ca),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Aa),fi(Aa,t)}function Ra(){li(Aa),li(Na),li(Oa)}function La(e){Pa(Oa.current);var t=Pa(Aa.current),n=pe(t,e.type);t!==n&&(fi(Na,e),fi(Aa,n))}function Ma(e){Na.current===e&&(li(Aa),li(Na))}var Fa=ci(0);function Ua(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ja=null,Va=null,Ba=!1;function za(e,t){var n=Hs(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function qa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Ha(e){if(Ba){var t=Va;if(t){var n=t;if(!qa(e,t)){if(!(t=Qr(n.nextSibling))||!qa(e,t))return e.flags=-1025&e.flags|2,Ba=!1,void(ja=e);za(ja,n)}ja=e,Va=Qr(t.firstChild)}else e.flags=-1025&e.flags|2,Ba=!1,ja=e}}function Wa(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ja=e}function Ga(e){if(e!==ja)return!1;if(!Ba)return Wa(e),Ba=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Hr(t,e.memoizedProps))for(t=Va;t;)za(e,t),t=Qr(t.nextSibling);if(Wa(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Va=Qr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Va=null}}else Va=ja?Qr(e.stateNode.nextSibling):null;return!0}function Ka(){Va=ja=null,Ba=!1}var Qa=[];function Ya(){for(var e=0;e<Qa.length;e++)Qa[e]._workInProgressVersionPrimary=null;Qa.length=0}var Xa=w.ReactCurrentDispatcher,Ja=w.ReactCurrentBatchConfig,$a=0,Za=null,eo=null,to=null,no=!1,ro=!1;function io(){throw Error(o(321))}function ao(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function oo(e,t,n,r,i,a){if($a=a,Za=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Xa.current=null===e||null===e.memoizedState?Do:Ro,e=n(r,i),ro){a=0;do{if(ro=!1,!(25>a))throw Error(o(301));a+=1,to=eo=null,t.updateQueue=null,Xa.current=Lo,e=n(r,i)}while(ro)}if(Xa.current=Po,t=null!==eo&&null!==eo.next,$a=0,to=eo=Za=null,no=!1,t)throw Error(o(300));return e}function uo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===to?Za.memoizedState=to=e:to=to.next=e,to}function so(){if(null===eo){var e=Za.alternate;e=null!==e?e.memoizedState:null}else e=eo.next;var t=null===to?Za.memoizedState:to.next;if(null!==t)to=t,eo=e;else{if(null===e)throw Error(o(310));e={memoizedState:(eo=e).memoizedState,baseState:eo.baseState,baseQueue:eo.baseQueue,queue:eo.queue,next:null},null===to?Za.memoizedState=to=e:to=to.next=e}return to}function co(e,t){return"function"===typeof t?t(e):t}function lo(e){var t=so(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=eo,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var u=i.next;i.next=a.next,a.next=u}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var s=u=a=null,c=i;do{var l=c.lane;if(($a&l)===l)null!==s&&(s=s.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===s?(u=s=f,a=r):s=s.next=f,Za.lanes|=l,Bu|=l}c=c.next}while(null!==c&&c!==i);null===s?a=r:s.next=u,lr(r,t.memoizedState)||(Fo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=s,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function fo(e){var t=so(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{a=e(a,u.action),u=u.next}while(u!==i);lr(a,t.memoizedState)||(Fo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ho(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=($a&e)===e)&&(t._workInProgressVersionPrimary=r,Qa.push(t))),e)return n(t._source);throw Qa.push(t),Error(o(350))}function po(e,t,n,r){var i=Du;if(null===i)throw Error(o(349));var a=t._getVersion,u=a(t._source),s=Xa.current,c=s.useState((function(){return ho(i,t,n)})),l=c[1],f=c[0];c=to;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,v=h.source;h=h.subscribe;var y=Za;return e.memoizedState={refs:d,source:t,subscribe:r},s.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=a(t._source);if(!lr(u,e)){e=n(t._source),lr(f,e)||(l(e),e=ds(y),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var s=31-Ht(o),c=1<<s;r[s]|=e,o&=~c}}}),[n,t,r]),s.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=ds(y);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),lr(p,n)&&lr(v,t)&&lr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:f}).dispatch=l=Oo.bind(null,Za,e),c.queue=e,c.baseQueue=null,f=ho(i,t,n),c.memoizedState=c.baseState=f),f}function vo(e,t,n){return po(so(),e,t,n)}function yo(e){var t=uo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:e}).dispatch=Oo.bind(null,Za,e),[t.memoizedState,e]}function mo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Za.updateQueue)?(t={lastEffect:null},Za.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function go(e){return e={current:e},uo().memoizedState=e}function ko(){return so().memoizedState}function bo(e,t,n,r){var i=uo();Za.flags|=e,i.memoizedState=mo(1|t,n,void 0,void 0===r?null:r)}function wo(e,t,n,r){var i=so();r=void 0===r?null:r;var a=void 0;if(null!==eo){var o=eo.memoizedState;if(a=o.destroy,null!==r&&ao(r,o.deps))return void mo(t,n,a,r)}Za.flags|=e,i.memoizedState=mo(1|t,n,a,r)}function xo(e,t){return bo(516,4,e,t)}function Eo(e,t){return wo(516,4,e,t)}function _o(e,t){return wo(4,2,e,t)}function So(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Io(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wo(4,2,So.bind(null,t,e),n)}function To(){}function Co(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ao(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function No(e,t){var n=Hi();Gi(98>n?98:n,(function(){e(!0)})),Gi(97<n?97:n,(function(){var n=Ja.transition;Ja.transition=1;try{e(!1),t()}finally{Ja.transition=n}}))}function Oo(e,t,n){var r=hs(),i=ds(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===Za||null!==o&&o===Za)ro=no=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var u=t.lastRenderedState,s=o(u,n);if(a.eagerReducer=o,a.eagerState=s,lr(s,u))return}catch(c){}ps(e,i,r)}}var Po={readContext:oa,useCallback:io,useContext:io,useEffect:io,useImperativeHandle:io,useLayoutEffect:io,useMemo:io,useReducer:io,useRef:io,useState:io,useDebugValue:io,useDeferredValue:io,useTransition:io,useMutableSource:io,useOpaqueIdentifier:io,unstable_isNewReconciler:!1},Do={readContext:oa,useCallback:function(e,t){return uo().memoizedState=[e,void 0===t?null:t],e},useContext:oa,useEffect:xo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,bo(4,2,So.bind(null,t,e),n)},useLayoutEffect:function(e,t){return bo(4,2,e,t)},useMemo:function(e,t){var n=uo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=uo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Oo.bind(null,Za,e),[r.memoizedState,e]},useRef:go,useState:yo,useDebugValue:To,useDeferredValue:function(e){var t=yo(e),n=t[0],r=t[1];return xo((function(){var t=Ja.transition;Ja.transition=1;try{r(e)}finally{Ja.transition=t}}),[e]),n},useTransition:function(){var e=yo(!1),t=e[0];return go(e=No.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=uo();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},po(r,e,t,n)},useOpaqueIdentifier:function(){if(Ba){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Xr++).toString(36))),Error(o(355))})),n=yo(t)[1];return 0===(2&Za.mode)&&(Za.flags|=516,mo(5,(function(){n("r:"+(Xr++).toString(36))}),void 0,null)),t}return yo(t="r:"+(Xr++).toString(36)),t},unstable_isNewReconciler:!1},Ro={readContext:oa,useCallback:Co,useContext:oa,useEffect:Eo,useImperativeHandle:Io,useLayoutEffect:_o,useMemo:Ao,useReducer:lo,useRef:ko,useState:function(){return lo(co)},useDebugValue:To,useDeferredValue:function(e){var t=lo(co),n=t[0],r=t[1];return Eo((function(){var t=Ja.transition;Ja.transition=1;try{r(e)}finally{Ja.transition=t}}),[e]),n},useTransition:function(){var e=lo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return lo(co)[0]},unstable_isNewReconciler:!1},Lo={readContext:oa,useCallback:Co,useContext:oa,useEffect:Eo,useImperativeHandle:Io,useLayoutEffect:_o,useMemo:Ao,useReducer:fo,useRef:ko,useState:function(){return fo(co)},useDebugValue:To,useDeferredValue:function(e){var t=fo(co),n=t[0],r=t[1];return Eo((function(){var t=Ja.transition;Ja.transition=1;try{r(e)}finally{Ja.transition=t}}),[e]),n},useTransition:function(){var e=fo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return fo(co)[0]},unstable_isNewReconciler:!1},Mo=w.ReactCurrentOwner,Fo=!1;function Uo(e,t,n,r){t.child=null===e?Ta(t,null,n,r):Ia(t,e.child,n,r)}function jo(e,t,n,r,i){n=n.render;var a=t.ref;return aa(t,i),r=oo(e,t,n,r,a,i),null===e||Fo?(t.flags|=1,Uo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,au(e,t,i))}function Vo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Ws(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ks(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Bo(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:hr)(i,r)&&e.ref===t.ref)?au(e,t,a):(t.flags|=1,(e=Gs(o,r)).ref=t.ref,e.return=t,t.child=e)}function Bo(e,t,n,r,i,a){if(null!==e&&hr(e.memoizedProps,r)&&e.ref===t.ref){if(Fo=!1,0===(a&i))return t.lanes=e.lanes,au(e,t,a);0!==(16384&e.flags)&&(Fo=!0)}return Ho(e,t,n,r,a)}function zo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},xs(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},xs(t,e),null;t.memoizedState={baseLanes:0},xs(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,xs(t,r);return Uo(e,t,i,n),t.child}function qo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Ho(e,t,n,r,i){var a=mi(n)?vi:di.current;return a=yi(t,a),aa(t,i),n=oo(e,t,n,r,a,i),null===e||Fo?(t.flags|=1,Uo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,au(e,t,i))}function Wo(e,t,n,r,i){if(mi(n)){var a=!0;wi(t)}else a=!1;if(aa(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ka(t,n,r),wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=oa(c):c=yi(t,c=mi(n)?vi:di.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&ba(t,o,r,c),ua=!1;var h=t.memoizedState;o.state=h,da(t,r,o,i),s=t.memoizedState,u!==r||h!==s||pi.current||ua?("function"===typeof l&&(ya(t,n,l,r),s=t.memoizedState),(u=ua||ga(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,ca(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:Ji(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=oa(s):s=yi(t,s=mi(n)?vi:di.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&ba(t,o,r,s),ua=!1,h=t.memoizedState,o.state=h,da(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||pi.current||ua?("function"===typeof d&&(ya(t,n,d,r),p=t.memoizedState),(c=ua||ga(t,n,c,r,h,p,s))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Go(e,t,n,r,a,i)}function Go(e,t,n,r,i,a){qo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&xi(t,n,!1),au(e,t,a);r=t.stateNode,Mo.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ia(t,e.child,null,a),t.child=Ia(t,null,u,a)):Uo(e,t,u,a),t.memoizedState=r.state,i&&xi(t,n,!0),t.child}function Ko(e){var t=e.stateNode;t.pendingContext?ki(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ki(0,t.context,!1),Da(e,t.containerInfo)}var Qo,Yo,Xo,Jo={dehydrated:null,retryLane:0};function $o(e,t,n){var r,i=t.pendingProps,a=Fa.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),fi(Fa,1&a),null===e?(void 0!==i.fallback&&Ha(t),e=i.children,a=i.fallback,o?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Jo,e):"number"===typeof i.unstable_expectedLoadTime?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Jo,t.lanes=33554432,e):((n=Ys({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=tu(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Jo,i):(n=eu(e,t,i.children,n),t.memoizedState=null,n))}function Zo(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=Ys(t,i,0,null),n=Qs(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function eu(e,t,n,r){var i=e.child;return e=i.sibling,n=Gs(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function tu(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var u={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=u,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Gs(o,u),null!==e?r=Gs(e,r):(r=Qs(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function nu(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ia(e.return,t)}function ru(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function iu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Uo(e,t,r.children,n),0!==(2&(r=Fa.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&nu(e,n);else if(19===e.tag)nu(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fi(Fa,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Ua(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ru(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Ua(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ru(t,!0,n,null,a,t.lastEffect);break;case"together":ru(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function au(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Bu|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Gs(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Gs(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function ou(e,t){if(!Ba)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function uu(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return mi(t.type)&&gi(),null;case 3:return Ra(),li(pi),li(di),Ya(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ga(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Ma(t);var a=Pa(Oa.current);if(n=t.type,null!==e&&null!=t.stateNode)Yo(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Pa(Aa.current),Ga(t)){r=t.stateNode,n=t.type;var u=t.memoizedProps;switch(r[$r]=t,r[Zr]=u,n){case"dialog":Nr("cancel",r),Nr("close",r);break;case"iframe":case"object":case"embed":Nr("load",r);break;case"video":case"audio":for(e=0;e<Ir.length;e++)Nr(Ir[e],r);break;case"source":Nr("error",r);break;case"img":case"image":case"link":Nr("error",r),Nr("load",r);break;case"details":Nr("toggle",r);break;case"input":ee(r,u),Nr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!u.multiple},Nr("invalid",r);break;case"textarea":se(r,u),Nr("invalid",r)}for(var c in _e(n,u),e=null,u)u.hasOwnProperty(c)&&(a=u[c],"children"===c?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):s.hasOwnProperty(c)&&null!=a&&"onScroll"===c&&Nr("scroll",r));switch(n){case"input":X(r),re(r,u,!0);break;case"textarea":X(r),le(r);break;case"select":case"option":break;default:"function"===typeof u.onClick&&(r.onclick=Vr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===a.nodeType?a:a.ownerDocument,e===fe&&(e=de(n)),e===fe?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[$r]=t,e[Zr]=r,Qo(e,t),t.stateNode=e,c=Se(n,r),n){case"dialog":Nr("cancel",e),Nr("close",e),a=r;break;case"iframe":case"object":case"embed":Nr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Ir.length;a++)Nr(Ir[a],e);a=r;break;case"source":Nr("error",e),a=r;break;case"img":case"image":case"link":Nr("error",e),Nr("load",e),a=r;break;case"details":Nr("toggle",e),a=r;break;case"input":ee(e,r),a=Z(e,r),Nr("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),Nr("invalid",e);break;case"textarea":se(e,r),a=ue(e,r),Nr("invalid",e);break;default:a=r}_e(n,a);var l=a;for(u in l)if(l.hasOwnProperty(u)){var f=l[u];"style"===u?xe(e,f):"dangerouslySetInnerHTML"===u?null!=(f=f?f.__html:void 0)&&me(e,f):"children"===u?"string"===typeof f?("textarea"!==n||""!==f)&&ge(e,f):"number"===typeof f&&ge(e,""+f):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?null!=f&&"onScroll"===u&&Nr("scroll",e):null!=f&&b(e,u,f,c))}switch(n){case"input":X(e),re(e,r,!1);break;case"textarea":X(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(u=r.value)?oe(e,!!r.multiple,u,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Vr)}qr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Xo(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Pa(Oa.current),Pa(Aa.current),Ga(t)?(r=t.stateNode,n=t.memoizedProps,r[$r]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[$r]=t,t.stateNode=r)}return null;case 13:return li(Fa),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ga(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Fa.current)?0===Uu&&(Uu=3):(0!==Uu&&3!==Uu||(Uu=4),null===Du||0===(134217727&Bu)&&0===(134217727&zu)||gs(Du,Lu))),(r||n)&&(t.flags|=4),null);case 4:return Ra(),null===e&&Pr(t.stateNode.containerInfo),null;case 10:return ra(t),null;case 19:if(li(Fa),null===(r=t.memoizedState))return null;if(u=0!==(64&t.flags),null===(c=r.rendering))if(u)ou(r,!1);else{if(0!==Uu||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Ua(e))){for(t.flags|=64,ou(r,!1),null!==(u=c.updateQueue)&&(t.updateQueue=u,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(u=n).flags&=2,u.nextEffect=null,u.firstEffect=null,u.lastEffect=null,null===(c=u.alternate)?(u.childLanes=0,u.lanes=e,u.child=null,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=c.childLanes,u.lanes=c.lanes,u.child=c.child,u.memoizedProps=c.memoizedProps,u.memoizedState=c.memoizedState,u.updateQueue=c.updateQueue,u.type=c.type,e=c.dependencies,u.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fi(Fa,1&Fa.current|2),t.child}e=e.sibling}null!==r.tail&&qi()>Gu&&(t.flags|=64,u=!0,ou(r,!1),t.lanes=33554432)}else{if(!u)if(null!==(e=Ua(c))){if(t.flags|=64,u=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ou(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Ba)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*qi()-r.renderingStartTime>Gu&&1073741824!==n&&(t.flags|=64,u=!0,ou(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=qi(),n.sibling=null,t=Fa.current,fi(Fa,u?1&t|2:1&t),n):null;case 23:case 24:return Es(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function su(e){switch(e.tag){case 1:mi(e.type)&&gi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Ra(),li(pi),li(di),Ya(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Ma(e),null;case 13:return li(Fa),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(Fa),null;case 4:return Ra(),null;case 10:return ra(e),null;case 23:case 24:return Es(),null;default:return null}}function cu(e,t){try{var n="",r=t;do{n+=G(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function lu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Qo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Yo=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Pa(Aa.current);var o,u=null;switch(n){case"input":a=Z(e,a),r=Z(e,r),u=[];break;case"option":a=ae(e,a),r=ae(e,r),u=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),u=[];break;case"textarea":a=ue(e,a),r=ue(e,r),u=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Vr)}for(f in _e(n,r),n=null,a)if(!r.hasOwnProperty(f)&&a.hasOwnProperty(f)&&null!=a[f])if("style"===f){var c=a[f];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(s.hasOwnProperty(f)?u||(u=[]):(u=u||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=a?a[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(u||(u=[]),u.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(u=u||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(u=u||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(s.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Nr("scroll",e),u||c===l||(u=[])):"object"===typeof l&&null!==l&&l.$$typeof===L?l.toString():(u=u||[]).push(f,l))}n&&(u=u||[]).push("style",n);var f=u;(t.updateQueue=f)&&(t.flags|=4)}},Xo=function(e,t,n,r){n!==r&&(t.flags|=4)};var fu="function"===typeof WeakMap?WeakMap:Map;function hu(e,t,n){(n=la(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Xu||(Xu=!0,Ju=r),lu(0,t)},n}function du(e,t,n){(n=la(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return lu(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===$u?$u=new Set([this]):$u.add(this),lu(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var pu="function"===typeof WeakSet?WeakSet:Set;function vu(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Vs(e,n)}else t.current=null}function yu(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Ji(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Kr(t.stateNode.containerInfo))}throw Error(o(163))}function mu(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Fs(n,e),Ms(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Ji(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&pa(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}pa(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&qr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&xt(n)))))}throw Error(o(163))}function gu(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=we("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ku(e,t){if(_i&&"function"===typeof _i.onCommitFiberUnmount)try{_i.onCommitFiberUnmount(Ei,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Fs(t,n);else{r=t;try{i()}catch(a){Vs(r,a)}}n=n.next}while(n!==e)}break;case 1:if(vu(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){Vs(t,a)}break;case 5:vu(t);break;case 4:Su(e,t)}}function bu(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function wu(e){return 5===e.tag||3===e.tag||4===e.tag}function xu(e){e:{for(var t=e.return;null!==t;){if(wu(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ge(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||wu(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?Eu(e,n,t):_u(e,n,t)}function Eu(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Vr));else if(4!==r&&null!==(e=e.child))for(Eu(e,t,n),e=e.sibling;null!==e;)Eu(e,t,n),e=e.sibling}function _u(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(_u(e,t,n),e=e.sibling;null!==e;)_u(e,t,n),e=e.sibling}function Su(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var u=e,s=i,c=s;;)if(ku(u,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===s)break e;for(;null===c.sibling;){if(null===c.return||c.return===s)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(u=n,s=i.stateNode,8===u.nodeType?u.parentNode.removeChild(s):u.removeChild(s)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ku(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Iu(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Zr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Se(e,i),t=Se(e,r),i=0;i<a.length;i+=2){var u=a[i],s=a[i+1];"style"===u?xe(n,s):"dangerouslySetInnerHTML"===u?me(n,s):"children"===u?ge(n,s):b(n,u,s,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,xt(n.containerInfo)));case 13:return null!==t.memoizedState&&(Wu=qi(),gu(t.child,!0)),void Tu(t);case 19:return void Tu(t);case 23:case 24:return void gu(t,null!==t.memoizedState)}throw Error(o(163))}function Tu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new pu),t.forEach((function(t){var r=zs.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Cu(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Au=Math.ceil,Nu=w.ReactCurrentDispatcher,Ou=w.ReactCurrentOwner,Pu=0,Du=null,Ru=null,Lu=0,Mu=0,Fu=ci(0),Uu=0,ju=null,Vu=0,Bu=0,zu=0,qu=0,Hu=null,Wu=0,Gu=1/0;function Ku(){Gu=qi()+500}var Qu,Yu=null,Xu=!1,Ju=null,$u=null,Zu=!1,es=null,ts=90,ns=[],rs=[],is=null,as=0,os=null,us=-1,ss=0,cs=0,ls=null,fs=!1;function hs(){return 0!==(48&Pu)?qi():-1!==us?us:us=qi()}function ds(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Hi()?1:2;if(0===ss&&(ss=Vu),0!==Xi.transition){0!==cs&&(cs=null!==Hu?Hu.pendingLanes:0),e=ss;var t=4186112&~cs;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Hi(),0!==(4&Pu)&&98===e?e=Vt(12,ss):e=Vt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),ss),e}function ps(e,t,n){if(50<as)throw as=0,os=null,Error(o(185));if(null===(e=vs(e,t)))return null;qt(e,t,n),e===Du&&(zu|=t,4===Uu&&gs(e,Lu));var r=Hi();1===t?0!==(8&Pu)&&0===(48&Pu)?ks(e):(ys(e,n),0===Pu&&(Ku(),Qi())):(0===(4&Pu)||98!==r&&99!==r||(null===is?is=new Set([e]):is.add(e)),ys(e,n)),Hu=e}function vs(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function ys(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,u=e.pendingLanes;0<u;){var s=31-Ht(u),c=1<<s,l=a[s];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,Ft(c);var f=Mt;a[s]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);u&=~c}if(r=Ut(e,e===Du?Lu:0),t=Mt,0===r)null!==n&&(n!==Fi&&Ti(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Fi&&Ti(n)}15===t?(n=ks.bind(null,e),null===ji?(ji=[n],Vi=Ii(Pi,Yi)):ji.push(n),n=Fi):14===t?n=Ki(99,ks.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Ki(n,ms.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function ms(e){if(us=-1,cs=ss=0,0!==(48&Pu))throw Error(o(327));var t=e.callbackNode;if(Ls()&&e.callbackNode!==t)return null;var n=Ut(e,e===Du?Lu:0);if(0===n)return null;var r=n,i=Pu;Pu|=16;var a=Is();for(Du===e&&Lu===r||(Ku(),_s(e,r));;)try{As();break}catch(s){Ss(e,s)}if(na(),Nu.current=a,Pu=i,null!==Ru?r=0:(Du=null,Lu=0,r=Uu),0!==(Vu&zu))_s(e,0);else if(0!==r){if(2===r&&(Pu|=64,e.hydrate&&(e.hydrate=!1,Kr(e.containerInfo)),0!==(n=jt(e))&&(r=Ts(e,n))),1===r)throw t=ju,_s(e,0),gs(e,n),ys(e,qi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Ps(e);break;case 3:if(gs(e,n),(62914560&n)===n&&10<(r=Wu+500-qi())){if(0!==Ut(e,0))break;if(((i=e.suspendedLanes)&n)!==n){hs(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Wr(Ps.bind(null,e),r);break}Ps(e);break;case 4:if(gs(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var u=31-Ht(n);a=1<<u,(u=r[u])>i&&(i=u),n&=~a}if(n=i,10<(n=(120>(n=qi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Au(n/1960))-n)){e.timeoutHandle=Wr(Ps.bind(null,e),n);break}Ps(e);break;default:throw Error(o(329))}}return ys(e,qi()),e.callbackNode===t?ms.bind(null,e):null}function gs(e,t){for(t&=~qu,t&=~zu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ht(t),r=1<<n;e[n]=-1,t&=~r}}function ks(e){if(0!==(48&Pu))throw Error(o(327));if(Ls(),e===Du&&0!==(e.expiredLanes&Lu)){var t=Lu,n=Ts(e,t);0!==(Vu&zu)&&(n=Ts(e,t=Ut(e,t)))}else n=Ts(e,t=Ut(e,0));if(0!==e.tag&&2===n&&(Pu|=64,e.hydrate&&(e.hydrate=!1,Kr(e.containerInfo)),0!==(t=jt(e))&&(n=Ts(e,t))),1===n)throw n=ju,_s(e,0),gs(e,t),ys(e,qi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ps(e),ys(e,qi()),null}function bs(e,t){var n=Pu;Pu|=1;try{return e(t)}finally{0===(Pu=n)&&(Ku(),Qi())}}function ws(e,t){var n=Pu;Pu&=-2,Pu|=8;try{return e(t)}finally{0===(Pu=n)&&(Ku(),Qi())}}function xs(e,t){fi(Fu,Mu),Mu|=t,Vu|=t}function Es(){Mu=Fu.current,li(Fu)}function _s(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Gr(n)),null!==Ru)for(n=Ru.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&gi();break;case 3:Ra(),li(pi),li(di),Ya();break;case 5:Ma(r);break;case 4:Ra();break;case 13:case 19:li(Fa);break;case 10:ra(r);break;case 23:case 24:Es()}n=n.return}Du=e,Ru=Gs(e.current,null),Lu=Mu=Vu=t,Uu=0,ju=null,qu=zu=Bu=0}function Ss(e,t){for(;;){var n=Ru;try{if(na(),Xa.current=Po,no){for(var r=Za.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}no=!1}if($a=0,to=eo=Za=null,ro=!1,Ou.current=null,null===n||null===n.return){Uu=1,ju=t,Ru=null;break}e:{var a=e,o=n.return,u=n,s=t;if(t=Lu,u.flags|=2048,u.firstEffect=u.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var c=s;if(0===(2&u.mode)){var l=u.alternate;l?(u.updateQueue=l.updateQueue,u.memoizedState=l.memoizedState,u.lanes=l.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=0!==(1&Fa.current),h=o;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=h.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(d){var y=h.updateQueue;if(null===y){var m=new Set;m.add(c),h.updateQueue=m}else y.add(c);if(0===(2&h.mode)){if(h.flags|=64,u.flags|=16384,u.flags&=-2981,1===u.tag)if(null===u.alternate)u.tag=17;else{var g=la(-1,1);g.tag=2,fa(u,g)}u.lanes|=1;break e}s=void 0,u=t;var k=a.pingCache;if(null===k?(k=a.pingCache=new fu,s=new Set,k.set(c,s)):void 0===(s=k.get(c))&&(s=new Set,k.set(c,s)),!s.has(u)){s.add(u);var b=Bs.bind(null,a,c,u);c.then(b,b)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);s=Error((K(u.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Uu&&(Uu=2),s=cu(s,u),h=o;do{switch(h.tag){case 3:a=s,h.flags|=4096,t&=-t,h.lanes|=t,ha(h,hu(0,a,t));break e;case 1:a=s;var w=h.type,x=h.stateNode;if(0===(64&h.flags)&&("function"===typeof w.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===$u||!$u.has(x)))){h.flags|=4096,t&=-t,h.lanes|=t,ha(h,du(h,a,t));break e}}h=h.return}while(null!==h)}Os(n)}catch(E){t=E,Ru===n&&null!==n&&(Ru=n=n.return);continue}break}}function Is(){var e=Nu.current;return Nu.current=Po,null===e?Po:e}function Ts(e,t){var n=Pu;Pu|=16;var r=Is();for(Du===e&&Lu===t||_s(e,t);;)try{Cs();break}catch(i){Ss(e,i)}if(na(),Pu=n,Nu.current=r,null!==Ru)throw Error(o(261));return Du=null,Lu=0,Uu}function Cs(){for(;null!==Ru;)Ns(Ru)}function As(){for(;null!==Ru&&!Ci();)Ns(Ru)}function Ns(e){var t=Qu(e.alternate,e,Mu);e.memoizedProps=e.pendingProps,null===t?Os(e):Ru=t,Ou.current=null}function Os(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=uu(n,t,Mu)))return void(Ru=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Mu)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=su(t)))return n.flags&=2047,void(Ru=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Ru=t);Ru=t=e}while(null!==t);0===Uu&&(Uu=5)}function Ps(e){var t=Hi();return Gi(99,Ds.bind(null,e,t)),null}function Ds(e,t){do{Ls()}while(null!==es);if(0!==(48&Pu))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var u=e.eventTimes,s=e.expirationTimes;0<a;){var c=31-Ht(a),l=1<<c;i[c]=0,u[c]=-1,s[c]=-1,a&=~l}if(null!==is&&0===(24&r)&&is.has(e)&&is.delete(e),e===Du&&(Ru=Du=null,Lu=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Pu,Pu|=32,Ou.current=null,Br=Yt,mr(u=yr())){if("selectionStart"in u)s={start:u.selectionStart,end:u.selectionEnd};else e:if(s=(s=u.ownerDocument)&&s.defaultView||window,(l=s.getSelection&&s.getSelection())&&0!==l.rangeCount){s=l.anchorNode,a=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{s.nodeType,c.nodeType}catch(I){s=null;break e}var f=0,h=-1,d=-1,p=0,v=0,y=u,m=null;t:for(;;){for(var g;y!==s||0!==a&&3!==y.nodeType||(h=f+a),y!==c||0!==l&&3!==y.nodeType||(d=f+l),3===y.nodeType&&(f+=y.nodeValue.length),null!==(g=y.firstChild);)m=y,y=g;for(;;){if(y===u)break t;if(m===s&&++p===a&&(h=f),m===c&&++v===l&&(d=f),null!==(g=y.nextSibling))break;m=(y=m).parentNode}y=g}s=-1===h||-1===d?null:{start:h,end:d}}else s=null;s=s||{start:0,end:0}}else s=null;zr={focusedElem:u,selectionRange:s},Yt=!1,ls=null,fs=!1,Yu=r;do{try{Rs()}catch(I){if(null===Yu)throw Error(o(330));Vs(Yu,I),Yu=Yu.nextEffect}}while(null!==Yu);ls=null,Yu=r;do{try{for(u=e;null!==Yu;){var k=Yu.flags;if(16&k&&ge(Yu.stateNode,""),128&k){var b=Yu.alternate;if(null!==b){var w=b.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&k){case 2:xu(Yu),Yu.flags&=-3;break;case 6:xu(Yu),Yu.flags&=-3,Iu(Yu.alternate,Yu);break;case 1024:Yu.flags&=-1025;break;case 1028:Yu.flags&=-1025,Iu(Yu.alternate,Yu);break;case 4:Iu(Yu.alternate,Yu);break;case 8:Su(u,s=Yu);var x=s.alternate;bu(s),null!==x&&bu(x)}Yu=Yu.nextEffect}}catch(I){if(null===Yu)throw Error(o(330));Vs(Yu,I),Yu=Yu.nextEffect}}while(null!==Yu);if(w=zr,b=yr(),k=w.focusedElem,u=w.selectionRange,b!==k&&k&&k.ownerDocument&&vr(k.ownerDocument.documentElement,k)){null!==u&&mr(k)&&(b=u.start,void 0===(w=u.end)&&(w=b),"selectionStart"in k?(k.selectionStart=b,k.selectionEnd=Math.min(w,k.value.length)):(w=(b=k.ownerDocument||document)&&b.defaultView||window).getSelection&&(w=w.getSelection(),s=k.textContent.length,x=Math.min(u.start,s),u=void 0===u.end?x:Math.min(u.end,s),!w.extend&&x>u&&(s=u,u=x,x=s),s=pr(k,x),a=pr(k,u),s&&a&&(1!==w.rangeCount||w.anchorNode!==s.node||w.anchorOffset!==s.offset||w.focusNode!==a.node||w.focusOffset!==a.offset)&&((b=b.createRange()).setStart(s.node,s.offset),w.removeAllRanges(),x>u?(w.addRange(b),w.extend(a.node,a.offset)):(b.setEnd(a.node,a.offset),w.addRange(b))))),b=[];for(w=k;w=w.parentNode;)1===w.nodeType&&b.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof k.focus&&k.focus(),k=0;k<b.length;k++)(w=b[k]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Yt=!!Br,zr=Br=null,e.current=n,Yu=r;do{try{for(k=e;null!==Yu;){var E=Yu.flags;if(36&E&&mu(k,Yu.alternate,Yu),128&E){b=void 0;var _=Yu.ref;if(null!==_){var S=Yu.stateNode;Yu.tag,b=S,"function"===typeof _?_(b):_.current=b}}Yu=Yu.nextEffect}}catch(I){if(null===Yu)throw Error(o(330));Vs(Yu,I),Yu=Yu.nextEffect}}while(null!==Yu);Yu=null,Ui(),Pu=i}else e.current=n;if(Zu)Zu=!1,es=e,ts=t;else for(Yu=r;null!==Yu;)t=Yu.nextEffect,Yu.nextEffect=null,8&Yu.flags&&((E=Yu).sibling=null,E.stateNode=null),Yu=t;if(0===(r=e.pendingLanes)&&($u=null),1===r?e===os?as++:(as=0,os=e):as=0,n=n.stateNode,_i&&"function"===typeof _i.onCommitFiberRoot)try{_i.onCommitFiberRoot(Ei,n,void 0,64===(64&n.current.flags))}catch(I){}if(ys(e,qi()),Xu)throw Xu=!1,e=Ju,Ju=null,e;return 0!==(8&Pu)||Qi(),null}function Rs(){for(;null!==Yu;){var e=Yu.alternate;fs||null===ls||(0!==(8&Yu.flags)?et(Yu,ls)&&(fs=!0):13===Yu.tag&&Cu(e,Yu)&&et(Yu,ls)&&(fs=!0));var t=Yu.flags;0!==(256&t)&&yu(e,Yu),0===(512&t)||Zu||(Zu=!0,Ki(97,(function(){return Ls(),null}))),Yu=Yu.nextEffect}}function Ls(){if(90!==ts){var e=97<ts?97:ts;return ts=90,Gi(e,Us)}return!1}function Ms(e,t){ns.push(t,e),Zu||(Zu=!0,Ki(97,(function(){return Ls(),null})))}function Fs(e,t){rs.push(t,e),Zu||(Zu=!0,Ki(97,(function(){return Ls(),null})))}function Us(){if(null===es)return!1;var e=es;if(es=null,0!==(48&Pu))throw Error(o(331));var t=Pu;Pu|=32;var n=rs;rs=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],u=i.destroy;if(i.destroy=void 0,"function"===typeof u)try{u()}catch(c){if(null===a)throw Error(o(330));Vs(a,c)}}for(n=ns,ns=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var s=i.create;i.destroy=s()}catch(c){if(null===a)throw Error(o(330));Vs(a,c)}}for(s=e.current.firstEffect;null!==s;)e=s.nextEffect,s.nextEffect=null,8&s.flags&&(s.sibling=null,s.stateNode=null),s=e;return Pu=t,Qi(),!0}function js(e,t,n){fa(e,t=hu(0,t=cu(n,t),1)),t=hs(),null!==(e=vs(e,1))&&(qt(e,1,t),ys(e,t))}function Vs(e,t){if(3===e.tag)js(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){js(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===$u||!$u.has(r))){var i=du(n,e=cu(t,e),1);if(fa(n,i),i=hs(),null!==(n=vs(n,1)))qt(n,1,i),ys(n,i);else if("function"===typeof r.componentDidCatch&&(null===$u||!$u.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function Bs(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=hs(),e.pingedLanes|=e.suspendedLanes&n,Du===e&&(Lu&n)===n&&(4===Uu||3===Uu&&(62914560&Lu)===Lu&&500>qi()-Wu?_s(e,0):qu|=n),ys(e,t)}function zs(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Hi()?1:2:(0===ss&&(ss=Vu),0===(t=Bt(62914560&~ss))&&(t=4194304))),n=hs(),null!==(e=vs(e,t))&&(qt(e,t,n),ys(e,n))}function qs(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Hs(e,t,n,r){return new qs(e,t,n,r)}function Ws(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Gs(e,t){var n=e.alternate;return null===n?((n=Hs(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ks(e,t,n,r,i,a){var u=2;if(r=e,"function"===typeof e)Ws(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case _:return Qs(n.children,i,a,t);case M:u=8,i|=16;break;case S:u=8,i|=1;break;case I:return(e=Hs(12,n,t,8|i)).elementType=I,e.type=I,e.lanes=a,e;case N:return(e=Hs(13,n,t,i)).type=N,e.elementType=N,e.lanes=a,e;case O:return(e=Hs(19,n,t,i)).elementType=O,e.lanes=a,e;case F:return Ys(n,i,a,t);case U:return(e=Hs(24,n,t,i)).elementType=U,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:u=10;break e;case C:u=9;break e;case A:u=11;break e;case P:u=14;break e;case D:u=16,r=null;break e;case R:u=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Hs(u,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Qs(e,t,n,r){return(e=Hs(7,e,r,t)).lanes=n,e}function Ys(e,t,n,r){return(e=Hs(23,e,r,t)).elementType=F,e.lanes=n,e}function Xs(e,t,n){return(e=Hs(6,e,null,t)).lanes=n,e}function Js(e,t,n){return(t=Hs(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $s(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=zt(0),this.expirationTimes=zt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zt(0),this.mutableSourceEagerHydrationData=null}function Zs(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var i=t.current,a=hs(),u=ds(i);e:if(n){t:{if(Xe(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(mi(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);throw Error(o(171))}if(1===n.tag){var c=n.type;if(mi(c)){n=bi(n,c,s);break e}}n=s}else n=hi;return null===t.context?t.context=n:t.pendingContext=n,(t=la(a,u)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fa(i,t),ps(i,u,a),u}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ic(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new $s(e,t,null!=n&&!0===n.hydrate),t=Hs(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,sa(t),e[ei]=n.current,Pr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ac(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function oc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var u=i;i=function(){var e=tc(o);u.call(e)}}ec(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ic(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var s=i;i=function(){var e=tc(o);s.call(e)}}ws((function(){ec(t,o,e,i)}))}return tc(o)}function uc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ac(t))throw Error(o(200));return Zs(e,t,null,n)}Qu=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)Fo=!0;else{if(0===(n&r)){switch(Fo=!1,t.tag){case 3:Ko(t),Ka();break;case 5:La(t);break;case 1:mi(t.type)&&wi(t);break;case 4:Da(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;fi($i,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?$o(e,t,n):(fi(Fa,1&Fa.current),null!==(t=au(e,t,n))?t.sibling:null);fi(Fa,1&Fa.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return iu(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),fi(Fa,Fa.current),r)break;return null;case 23:case 24:return t.lanes=0,zo(e,t,n)}return au(e,t,n)}Fo=0!==(16384&e.flags)}else Fo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=yi(t,di.current),aa(t,n),i=oo(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,mi(r)){var a=!0;wi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,sa(t);var u=r.getDerivedStateFromProps;"function"===typeof u&&ya(t,r,u,e),i.updater=ma,t.stateNode=i,i._reactInternals=t,wa(t,r,e,n),t=Go(null,t,r,!0,a,n)}else t.tag=0,Uo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return Ws(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===P)return 14}return 2}(i),e=Ji(i,e),a){case 0:t=Ho(null,t,i,e,n);break e;case 1:t=Wo(null,t,i,e,n);break e;case 11:t=jo(null,t,i,e,n);break e;case 14:t=Vo(null,t,i,Ji(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ho(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 1:return r=t.type,i=t.pendingProps,Wo(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 3:if(Ko(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ca(e,t),da(t,r,null,n),(r=t.memoizedState.element)===i)Ka(),t=au(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(Va=Qr(t.stateNode.containerInfo.firstChild),ja=t,a=Ba=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],Qa.push(a);for(n=Ta(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Uo(e,t,r,n),Ka();t=t.child}return t;case 5:return La(t),null===e&&Ha(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,u=i.children,Hr(r,i)?u=null:null!==a&&Hr(r,a)&&(t.flags|=16),qo(e,t),Uo(e,t,u,n),t.child;case 6:return null===e&&Ha(t),null;case 13:return $o(e,t,n);case 4:return Da(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ia(t,null,r,n):Uo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,jo(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 7:return Uo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Uo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,u=t.memoizedProps,a=i.value;var s=t.type._context;if(fi($i,s._currentValue),s._currentValue=a,null!==u)if(s=u.value,0===(a=lr(s,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(s,a):1073741823))){if(u.children===i.children&&!pi.current){t=au(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var c=s.dependencies;if(null!==c){u=s.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===s.tag&&((l=la(-1,n&-n)).tag=2,fa(s,l)),s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),ia(s.return,n),c.lanes|=n;break}l=l.next}}else u=10===s.tag&&s.type===t.type?null:s.child;if(null!==u)u.return=s;else for(u=s;null!==u;){if(u===t){u=null;break}if(null!==(s=u.sibling)){s.return=u.return,u=s;break}u=u.return}s=u}Uo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,aa(t,n),r=r(i=oa(i,a.unstable_observedBits)),t.flags|=1,Uo(e,t,r,n),t.child;case 14:return a=Ji(i=t.type,t.pendingProps),Vo(e,t,i,a=Ji(i.type,a),r,n);case 15:return Bo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ji(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,mi(r)?(e=!0,wi(t)):e=!1,aa(t,n),ka(t,r,i),wa(t,r,i,n),Go(null,t,r,!0,e,n);case 19:return iu(e,t,n);case 23:case 24:return zo(e,t,n)}throw Error(o(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(ps(e,4,hs()),rc(e,4))},nt=function(e){13===e.tag&&(ps(e,67108864,hs()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=hs(),n=ds(e);ps(e,n,t),rc(e,n)}},it=function(e,t){return t()},Te=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ai(r);if(!i)throw Error(o(90));J(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},De=bs,Re=function(e,t,n,r,i){var a=Pu;Pu|=4;try{return Gi(98,e.bind(null,t,n,r,i))}finally{0===(Pu=a)&&(Ku(),Qi())}},Le=function(){0===(49&Pu)&&(function(){if(null!==is){var e=is;is=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,ys(e,qi())}))}Qi()}(),Ls())},Me=function(e,t){var n=Pu;Pu|=2;try{return e(t)}finally{0===(Pu=n)&&(Ku(),Qi())}};var sc={Events:[ri,ii,ai,Oe,Pe,Ls,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{Ei=fc.inject(lc),_i=fc}catch(ye){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sc,t.createPortal=uc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Pu;if(0!==(48&n))return e(t);Pu|=1;try{if(e)return Gi(99,e.bind(null,t))}finally{Pu=n,Qi()}},t.hydrate=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!0,n)},t.render=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ac(e))throw Error(o(40));return!!e._reactRootContainer&&(ws((function(){oc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=bs,t.unstable_createPortal=function(e,t){return uc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ac(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return oc(e,t,n,!1,r)},t.version="17.0.2"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},372:function(e,t){"use strict";var n=60103,r=60106,i=60107,a=60108,o=60114,u=60109,s=60110,c=60112,l=60113,f=60120,h=60115,d=60116,p=60121,v=60122,y=60117,m=60129,g=60131;if("function"===typeof Symbol&&Symbol.for){var k=Symbol.for;n=k("react.element"),r=k("react.portal"),i=k("react.fragment"),a=k("react.strict_mode"),o=k("react.profiler"),u=k("react.provider"),s=k("react.context"),c=k("react.forward_ref"),l=k("react.suspense"),f=k("react.suspense_list"),h=k("react.memo"),d=k("react.lazy"),p=k("react.block"),v=k("react.server.block"),y=k("react.fundamental"),m=k("react.debug_trace_mode"),g=k("react.legacy_hidden")}function b(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case o:case a:case l:case f:return e;default:switch(e=e&&e.$$typeof){case s:case c:case d:case h:case u:return e;default:return t}}case r:return t}}}t.isContextConsumer=function(e){return b(e)===s},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===i||e===o||e===m||e===a||e===l||e===f||e===g||"object"===typeof e&&null!==e&&(e.$$typeof===d||e.$$typeof===h||e.$$typeof===u||e.$$typeof===s||e.$$typeof===c||e.$$typeof===y||e.$$typeof===p||e[0]===v)},t.typeOf=b},441:function(e,t,n){"use strict";e.exports=n(372)},381:function(e){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},239:function(e,t,n){var r=n(381);e.exports=d,e.exports.parse=a,e.exports.compile=function(e,t){return u(a(e,t),t)},e.exports.tokensToFunction=u,e.exports.tokensToRegExp=h;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function a(e,t){for(var n,r=[],a=0,o=0,u="",l=t&&t.delimiter||"/";null!=(n=i.exec(e));){var f=n[0],h=n[1],d=n.index;if(u+=e.slice(o,d),o=d+f.length,h)u+=h[1];else{var p=e[o],v=n[2],y=n[3],m=n[4],g=n[5],k=n[6],b=n[7];u&&(r.push(u),u="");var w=null!=v&&null!=p&&p!==v,x="+"===k||"*"===k,E="?"===k||"*"===k,_=n[2]||l,S=m||g;r.push({name:y||a++,prefix:v||"",delimiter:_,optional:E,repeat:x,partial:w,asterisk:!!b,pattern:S?c(S):b?".*":"[^"+s(_)+"]+?"})}}return o<e.length&&(u+=e.substr(o)),u&&r.push(u),r}function o(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function u(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",f(t)));return function(t,i){for(var a="",u=t||{},s=(i||{}).pretty?o:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!==typeof l){var f,h=u[l.name];if(null==h){if(l.optional){l.partial&&(a+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(h)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var d=0;d<h.length;d++){if(f=s(h[d]),!n[c].test(f))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(f)+"`");a+=(0===d?l.prefix:l.delimiter)+f}}else{if(f=l.asterisk?encodeURI(h).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):s(h),!n[c].test(f))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+f+'"');a+=l.prefix+f}}else a+=l}return a}}function s(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function f(e){return e&&e.sensitive?"":"i"}function h(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,a=!1!==n.end,o="",u=0;u<e.length;u++){var c=e[u];if("string"===typeof c)o+=s(c);else{var h=s(c.prefix),d="(?:"+c.pattern+")";t.push(c),c.repeat&&(d+="(?:"+h+d+")*"),o+=d=c.optional?c.partial?h+"("+d+")?":"(?:"+h+"("+d+"))?":h+"("+d+")"}}var p=s(n.delimiter||"/"),v=o.slice(-p.length)===p;return i||(o=(v?o.slice(0,-p.length):o)+"(?:"+p+"(?=$))?"),o+=a?"$":i&&v?"":"(?="+p+"|$)",l(new RegExp("^"+o,f(n)),t)}function d(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(d(e[i],t,n).source);return l(new RegExp("(?:"+r.join("|")+")",f(n)),t)}(e,t,n):function(e,t,n){return h(a(e,n),t,n)}(e,t,n)}},195:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,y=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case y:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}},228:function(e,t,n){"use strict";n(195)},374:function(e,t,n){"use strict";n(725);var r=n(791),i=60103;if(60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u=Object.prototype.hasOwnProperty,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)u.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:o.current}}t.jsx=c,t.jsxs=c},117:function(e,t,n){"use strict";var r=n(725),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,u=60110,s=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),a=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),o=f("react.provider"),u=f("react.context"),s=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function m(){}function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},m.prototype=y.prototype;var k=g.prototype=new m;k.constructor=g,r(k,y.prototype),k.isPureReactComponent=!0;var b={current:null},w=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,n){var r,a={},o=null,u=null;if(null!=t)for(r in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,r)&&!x.hasOwnProperty(r)&&(a[r]=t[r]);var s=arguments.length-2;if(1===s)a.children=n;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===a[r]&&(a[r]=s[r]);return{$$typeof:i,type:e,key:o,ref:u,props:a,_owner:b.current}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var S=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,n,r,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case i:case a:s=!0}}if(s)return o=o(s=e),e=""===r?"."+I(s,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(S,"$&/")+"/"),T(o,t,n,"",(function(e){return e}))):null!=o&&(_(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(S,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+I(u=e[c],c);s+=T(u,t,n,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=T(u=u.value,t,n,l=r+I(u,c++),o);else if("object"===u)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return s}function C(e,t,n){if(null==e)return e;var r=[],i=0;return T(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var N={current:null};function O(){var e=N.current;if(null===e)throw Error(d(321));return e}var P={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:C,forEach:function(e,t,n){C(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!_(e))throw Error(d(143));return e}},t.Component=y,t.PureComponent=g,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var a=r({},e.props),o=e.key,u=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(u=t.ref,s=b.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)w.call(t,l)&&!x.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];a.children=c}return{$$typeof:i,type:e.type,key:o,ref:u,props:a,_owner:s}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:u,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:s,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return O().useCallback(e,t)},t.useContext=function(e,t){return O().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return O().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return O().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return O().useLayoutEffect(e,t)},t.useMemo=function(e,t){return O().useMemo(e,t)},t.useReducer=function(e,t,n){return O().useReducer(e,t,n)},t.useRef=function(e){return O().useRef(e)},t.useState=function(e){return O().useState(e)},t.version="17.0.2"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},896:function(e,t,n){!function(e){"use strict";function t(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function r(e,t){Object.defineProperty(this,"kind",{value:e,enumerable:!0}),t&&t.length&&Object.defineProperty(this,"path",{value:t,enumerable:!0})}function i(e,t,n){i.super_.call(this,"E",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0}),Object.defineProperty(this,"rhs",{value:n,enumerable:!0})}function a(e,t){a.super_.call(this,"N",e),Object.defineProperty(this,"rhs",{value:t,enumerable:!0})}function o(e,t){o.super_.call(this,"D",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0})}function u(e,t,n){u.super_.call(this,"A",e),Object.defineProperty(this,"index",{value:t,enumerable:!0}),Object.defineProperty(this,"item",{value:n,enumerable:!0})}function s(e,t,n){var r=e.slice((n||t)+1||e.length);return e.length=t<0?e.length+t:t,e.push.apply(e,r),e}function c(e){var t="undefined"==typeof e?"undefined":N(e);return"object"!==t?t:e===Math?"math":null===e?"null":Array.isArray(e)?"array":"[object Date]"===Object.prototype.toString.call(e)?"date":"function"==typeof e.toString&&/^\/.*\//.test(e.toString())?"regexp":"object"}function l(e,t,n,r,f,h,d){d=d||[];var p=(f=f||[]).slice(0);if("undefined"!=typeof h){if(r){if("function"==typeof r&&r(p,h))return;if("object"===("undefined"==typeof r?"undefined":N(r))){if(r.prefilter&&r.prefilter(p,h))return;if(r.normalize){var v=r.normalize(p,h,e,t);v&&(e=v[0],t=v[1])}}}p.push(h)}"regexp"===c(e)&&"regexp"===c(t)&&(e=e.toString(),t=t.toString());var y="undefined"==typeof e?"undefined":N(e),m="undefined"==typeof t?"undefined":N(t),g="undefined"!==y||d&&d[d.length-1].lhs&&d[d.length-1].lhs.hasOwnProperty(h),k="undefined"!==m||d&&d[d.length-1].rhs&&d[d.length-1].rhs.hasOwnProperty(h);if(!g&&k)n(new a(p,t));else if(!k&&g)n(new o(p,e));else if(c(e)!==c(t))n(new i(p,e,t));else if("date"===c(e)&&e-t!==0)n(new i(p,e,t));else if("object"===y&&null!==e&&null!==t)if(d.filter((function(t){return t.lhs===e})).length)e!==t&&n(new i(p,e,t));else{if(d.push({lhs:e,rhs:t}),Array.isArray(e)){var b;for(e.length,b=0;b<e.length;b++)b>=t.length?n(new u(p,b,new o(void 0,e[b]))):l(e[b],t[b],n,r,p,b,d);for(;b<t.length;)n(new u(p,b,new a(void 0,t[b++])))}else{var w=Object.keys(e),x=Object.keys(t);w.forEach((function(i,a){var o=x.indexOf(i);o>=0?(l(e[i],t[i],n,r,p,i,d),x=s(x,o)):l(e[i],void 0,n,r,p,i,d)})),x.forEach((function(e){l(void 0,t[e],n,r,p,e,d)}))}d.length=d.length-1}else e!==t&&("number"===y&&isNaN(e)&&isNaN(t)||n(new i(p,e,t)))}function f(e,t,n,r){return r=r||[],l(e,t,(function(e){e&&r.push(e)}),n),r.length?r:void 0}function h(e,t,n){if(n.path&&n.path.length){var r,i=e[t],a=n.path.length-1;for(r=0;r<a;r++)i=i[n.path[r]];switch(n.kind){case"A":h(i[n.path[r]],n.index,n.item);break;case"D":delete i[n.path[r]];break;case"E":case"N":i[n.path[r]]=n.rhs}}else switch(n.kind){case"A":h(e[t],n.index,n.item);break;case"D":e=s(e,t);break;case"E":case"N":e[t]=n.rhs}return e}function d(e,t,n){if(e&&t&&n&&n.kind){for(var r=e,i=-1,a=n.path?n.path.length-1:0;++i<a;)"undefined"==typeof r[n.path[i]]&&(r[n.path[i]]="number"==typeof n.path[i]?[]:{}),r=r[n.path[i]];switch(n.kind){case"A":h(n.path?r[n.path[i]]:r,n.index,n.item);break;case"D":delete r[n.path[i]];break;case"E":case"N":r[n.path[i]]=n.rhs}}}function p(e,t,n){if(n.path&&n.path.length){var r,i=e[t],a=n.path.length-1;for(r=0;r<a;r++)i=i[n.path[r]];switch(n.kind){case"A":p(i[n.path[r]],n.index,n.item);break;case"D":case"E":i[n.path[r]]=n.lhs;break;case"N":delete i[n.path[r]]}}else switch(n.kind){case"A":p(e[t],n.index,n.item);break;case"D":case"E":e[t]=n.lhs;break;case"N":e=s(e,t)}return e}function v(e,t,n){if(e&&t&&n&&n.kind){var r,i,a=e;for(i=n.path.length-1,r=0;r<i;r++)"undefined"==typeof a[n.path[r]]&&(a[n.path[r]]={}),a=a[n.path[r]];switch(n.kind){case"A":p(a[n.path[r]],n.index,n.item);break;case"D":case"E":a[n.path[r]]=n.lhs;break;case"N":delete a[n.path[r]]}}}function y(e,t,n){e&&t&&l(e,t,(function(r){n&&!n(e,t,r)||d(e,t,r)}))}function m(e){return"color: "+D[e].color+"; font-weight: bold"}function g(e){var t=e.kind,n=e.path,r=e.lhs,i=e.rhs,a=e.index,o=e.item;switch(t){case"E":return[n.join("."),r,"\u2192",i];case"N":return[n.join("."),i];case"D":return[n.join(".")];case"A":return[n.join(".")+"["+a+"]",o];default:return[]}}function k(e,t,n,r){var i=f(e,t);try{r?n.groupCollapsed("diff"):n.group("diff")}catch(e){n.log("diff")}i?i.forEach((function(e){var t=e.kind,r=g(e);n.log.apply(n,["%c "+D[t].text,m(t)].concat(O(r)))})):n.log("\u2014\u2014 no diff \u2014\u2014");try{n.groupEnd()}catch(e){n.log("\u2014\u2014 diff end \u2014\u2014 ")}}function b(e,t,n,r){switch("undefined"==typeof e?"undefined":N(e)){case"object":return"function"==typeof e[r]?e[r].apply(e,O(n)):e[r];case"function":return e(t);default:return e}}function w(e){var t=e.timestamp,n=e.duration;return function(e,r,i){var a=["action"];return a.push("%c"+String(e.type)),t&&a.push("%c@ "+r),n&&a.push("%c(in "+i.toFixed(2)+" ms)"),a.join(" ")}}function x(e,t){var n=t.logger,r=t.actionTransformer,i=t.titleFormatter,a=void 0===i?w(t):i,o=t.collapsed,u=t.colors,s=t.level,c=t.diff,l="undefined"==typeof t.titleFormatter;e.forEach((function(i,f){var h=i.started,d=i.startedTime,p=i.action,v=i.prevState,y=i.error,m=i.took,g=i.nextState,w=e[f+1];w&&(g=w.prevState,m=w.started-h);var x=r(p),E="function"==typeof o?o((function(){return g}),p,i):o,_=C(d),S=u.title?"color: "+u.title(x)+";":"",I=["color: gray; font-weight: lighter;"];I.push(S),t.timestamp&&I.push("color: gray; font-weight: lighter;"),t.duration&&I.push("color: gray; font-weight: lighter;");var T=a(x,_,m);try{E?u.title&&l?n.groupCollapsed.apply(n,["%c "+T].concat(I)):n.groupCollapsed(T):u.title&&l?n.group.apply(n,["%c "+T].concat(I)):n.group(T)}catch(e){n.log(T)}var A=b(s,x,[v],"prevState"),N=b(s,x,[x],"action"),O=b(s,x,[y,v],"error"),P=b(s,x,[g],"nextState");if(A)if(u.prevState){var D="color: "+u.prevState(v)+"; font-weight: bold";n[A]("%c prev state",D,v)}else n[A]("prev state",v);if(N)if(u.action){var R="color: "+u.action(x)+"; font-weight: bold";n[N]("%c action    ",R,x)}else n[N]("action    ",x);if(y&&O)if(u.error){var L="color: "+u.error(y,v)+"; font-weight: bold;";n[O]("%c error     ",L,y)}else n[O]("error     ",y);if(P)if(u.nextState){var M="color: "+u.nextState(g)+"; font-weight: bold";n[P]("%c next state",M,g)}else n[P]("next state",g);c&&k(v,g,n,E);try{n.groupEnd()}catch(e){n.log("\u2014\u2014 log end \u2014\u2014")}}))}function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},R,e),n=t.logger,r=t.stateTransformer,i=t.errorTransformer,a=t.predicate,o=t.logErrors,u=t.diffPredicate;if("undefined"==typeof n)return function(){return function(e){return function(t){return e(t)}}};if(e.getState&&e.dispatch)return console.error("[redux-logger] redux-logger not installed. Make sure to pass logger instance as middleware:\n// Logger with default options\nimport { logger } from 'redux-logger'\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n// Or you can create your own logger with custom options http://bit.ly/redux-logger-options\nimport createLogger from 'redux-logger'\nconst logger = createLogger({\n  // ...options\n});\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n"),function(){return function(e){return function(t){return e(t)}}};var s=[];return function(e){var n=e.getState;return function(e){return function(c){if("function"==typeof a&&!a(n,c))return e(c);var l={};s.push(l),l.started=A.now(),l.startedTime=new Date,l.prevState=r(n()),l.action=c;var f=void 0;if(o)try{f=e(c)}catch(e){l.error=i(e)}else f=e(c);l.took=A.now()-l.started,l.nextState=r(n());var h=t.diff&&"function"==typeof u?u(n,c):t.diff;if(x(s,Object.assign({},t,{diff:h})),s.length=0,l.error)throw l.error;return f}}}}var _,S,I=function(e,t){return new Array(t+1).join(e)},T=function(e,t){return I("0",t-e.toString().length)+e},C=function(e){return T(e.getHours(),2)+":"+T(e.getMinutes(),2)+":"+T(e.getSeconds(),2)+"."+T(e.getMilliseconds(),3)},A="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance:Date,N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},P=[];_="object"===("undefined"==typeof n.g?"undefined":N(n.g))&&n.g?n.g:"undefined"!=typeof window?window:{},(S=_.DeepDiff)&&P.push((function(){"undefined"!=typeof S&&_.DeepDiff===f&&(_.DeepDiff=S,S=void 0)})),t(i,r),t(a,r),t(o,r),t(u,r),Object.defineProperties(f,{diff:{value:f,enumerable:!0},observableDiff:{value:l,enumerable:!0},applyDiff:{value:y,enumerable:!0},applyChange:{value:d,enumerable:!0},revertChange:{value:v,enumerable:!0},isConflict:{value:function(){return"undefined"!=typeof S},enumerable:!0},noConflict:{value:function(){return P&&(P.forEach((function(e){e()})),P=null),f},enumerable:!0}});var D={E:{color:"#2196F3",text:"CHANGED:"},N:{color:"#4CAF50",text:"ADDED:"},D:{color:"#F44336",text:"DELETED:"},A:{color:"#2196F3",text:"ARRAY:"}},R={level:"log",logger:console,logErrors:!0,collapsed:void 0,predicate:void 0,duration:!1,timestamp:!0,stateTransformer:function(e){return e},actionTransformer:function(e){return e},errorTransformer:function(e){return e},colors:{title:function(){return"inherit"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}},diff:!1,diffPredicate:void 0,transformer:void 0},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.dispatch,n=e.getState;return"function"==typeof t||"function"==typeof n?E()({dispatch:t,getState:n}):void console.error("\n[redux-logger v3] BREAKING CHANGE\n[redux-logger v3] Since 3.0.0 redux-logger exports by default logger with default settings.\n[redux-logger v3] Change\n[redux-logger v3] import createLogger from 'redux-logger'\n[redux-logger v3] to\n[redux-logger v3] import { createLogger } from 'redux-logger'\n")};e.defaults=R,e.createLogger=E,e.logger=L,e.default=L,Object.defineProperty(e,"__esModule",{value:!0})}(t)},727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(O){s=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,a=Object.create(i.prototype),o=new C(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return N()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=S(o,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var s=l(e,t,n);if("normal"===s.type){if(r=n.done?p:h,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=p,n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(O){return{type:"throw",arg:O}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function y(){}function m(){}function g(){}var k={};s(k,a,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(A([])));w&&w!==n&&r.call(w,a)&&(k=w);var x=g.prototype=y.prototype=Object.create(k);function E(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(i,a,o,u){var s=l(e[i],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,u)}),(function(e){n("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function S(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,S(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function A(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:N}}function N(){return{value:t,done:!0}}return m.prototype=g,s(x,"constructor",g),s(g,"constructor",m),m.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,u,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},E(_.prototype),s(_.prototype,o,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new _(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},E(x),s(x,u,"Generator"),s(x,a,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=A,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],u=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:A(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},813:function(e,t){"use strict";var n,r,i,a;if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,f=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,y=null,m=-1,g=5,k=0;t.unstable_shouldYield=function(){return t.unstable_now()>=k},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<e?Math.floor(1e3/e):5};var b=new MessageChannel,w=b.port2;b.port1.onmessage=function(){if(null!==y){var e=t.unstable_now();k=e+g;try{y(!0,e)?w.postMessage(null):(v=!1,y=null)}catch(n){throw w.postMessage(null),n}}else v=!1},n=function(e){y=e,v||(v=!0,w.postMessage(null))},r=function(e,n){m=h((function(){e(t.unstable_now())}),n)},i=function(){d(m),m=-1}}function x(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<S(i,t)))break e;e[r]=t,e[n]=i,n=r}}function E(e){return void 0===(e=e[0])?null:e}function _(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],u=a+1,s=e[u];if(void 0!==o&&0>S(o,n))void 0!==s&&0>S(s,o)?(e[r]=s,e[u]=n,r=u):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==s&&0>S(s,n)))break e;e[r]=s,e[u]=n,r=u}}}return t}return null}function S(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var I=[],T=[],C=1,A=null,N=3,O=!1,P=!1,D=!1;function R(e){for(var t=E(T);null!==t;){if(null===t.callback)_(T);else{if(!(t.startTime<=e))break;_(T),t.sortIndex=t.expirationTime,x(I,t)}t=E(T)}}function L(e){if(D=!1,R(e),!P)if(null!==E(I))P=!0,n(M);else{var t=E(T);null!==t&&r(L,t.startTime-e)}}function M(e,n){P=!1,D&&(D=!1,i()),O=!0;var a=N;try{for(R(n),A=E(I);null!==A&&(!(A.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=A.callback;if("function"===typeof o){A.callback=null,N=A.priorityLevel;var u=o(A.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?A.callback=u:A===E(I)&&_(I),R(n)}else _(I);A=E(I)}if(null!==A)var s=!0;else{var c=E(T);null!==c&&r(L,c.startTime-n),s=!1}return s}finally{A=null,N=a,O=!1}}var F=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){P||O||(P=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_getFirstCallbackNode=function(){return E(I)},t.unstable_next=function(e){switch(N){case 1:case 2:case 3:var t=3;break;default:t=N}var n=N;N=t;try{return e()}finally{N=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=F,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=N;N=e;try{return t()}finally{N=n}},t.unstable_scheduleCallback=function(e,a,o){var u=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?u+o:u:o=u,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:C++,callback:a,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>u?(e.sortIndex=o,x(T,e),null===E(I)&&e===E(T)&&(D?i():D=!0,r(L,o-u))):(e.sortIndex=s,x(I,e),P||O||(P=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=N;return function(){var n=N;N=t;try{return e.apply(this,arguments)}finally{N=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},613:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var u=Object.prototype.hasOwnProperty.bind(t),s=0;s<a.length;s++){var c=a[s];if(!u(c))return!1;var l=e[c],f=t[c];if(!1===(i=n?n.call(r,l,f,c):void 0)||void 0===i&&l!==f)return!1}return!0}},76:function(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAYAAAA5ZDbSAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAGTRJREFUeJztnXmcFNW1x7/VMwzDJgwgqLgAAwpGZHFnkajBZ5QkbkmMmpcXE42Jic+Yxe3FZ2LeBxONieZpjMaNBBdE4/JeRJQoIKKiAhJkXxz2GbaRWbp6qfP+uFVUdfVWW0/3xPf7fPrT3VV1l7q/urfOPfecczU6PaQXMByoB4a5vuuAHkUy2A9sB5qATcA6YC3wD+Aj0JIlqXYHQSt3BfxDDgYmAaebn+OBqgIJ4sBeoN1xrBroBdRQ+AHQgeXAG8BrwHzQ2gtcX3HoJATLScDXgH8BRpJZ7zZgFarnrTc/1u9doMWL5N0DGAgcAgxB9f6jgdHACDIfnjiwEHgVeBm0D8Pd16cacjTIbSBrQMTxaQb5G8iNIONBakpYh+4gE0F+DrIQJOmqyxKQa0H6la4O/1SQapDLQd51NWQDyK9ATgQpNByXun69Qc4HuQ9ku6N+OsgzIOeCxMpXv4qFdAX5V1dv3QsyHeQL5SU1H6QK5HMgM0ESjnp/ZN5LBda5wyG9QW4FaXI00IdmLy7h0Bs1ZCDIj0DWuoi+9FNKtGgg3wTZ4WiQ+SDnqXOdFVJt9t7VjvtaCfKlctesAyEngixyNMBckNPKXatoIVXmKLTKcZ/PgxxR7pqVEFIH8iBI2iE4fbnctSotpArkSpA95j3vB7nun3DYlgkgm8ybbAf5pZqCfFogA0FmOHrz+yCfKXetIoBUgfzMMX9cAFJf7lqVD3I2yDqzLVrUMN5pIYeDvGHeTAqlLKgud63KD+kG8pCjN/9BTRM7FeQUkEbzBjaDnF7uGim0DCx3DWzIN0BazTZaDDK43DXyCJnqqPhLIH3LXSMb7U/B/oPLXQsbcrxjStUIckK5a1QEcqXjfXt/ZUmLUgd6C+g3lLsmmZCDQF7A1rNPLneN8kB+blbSALm53LXJRvw+SCdBX1t5ErxUgzxmtl8byBfKXSMX5L/MyiWUJqfSkDgBkubiQDoB+uPlrlE2RAP5raMdLyt3jUzIj7FXVM4td22y0TYI9A0OqVUguQfi/17umuWG3GrWMw1yYbkr821zSE5VplZK+oL+ERiSSbAIJHeCflG5a5gb8hOHUmhiuSpxgSlQGUq4qjTonwF9NRjpbHIPkNwE+s/KXdPckLvNeu4DGdXRhZ9iDsmihuhKg34x6FvyE+v8pPaB/gwVtzwpMdRas4BsBDm0owruD/KxWfBvOqhQj5A60J9XPdMLudYnrYO+CtrLNRzmgdSCzDPr+W4HPIQSA5ltFjiPilE9Sg3ot4G+qfCQXOyTbAT9FWgfUu47siF12JYud5W6sNvMgnaAHFbiwjxA6kC/A/T1kI4HJ9b5MQSSWxXRiXHlvkMFGQcSN+WdqaUq5HOm6G5AaoYaPsoB6QLxL0Li76A3QDoVDbE5iW4CfTnot8D+AeW5X4D2syC5y6zbTpBDIi5AupsveoH0ZtVb9A2gPwz6sREXlgPxYRC/BuLzVbmp/aUhNe87OgXJLaB/CInfQdtppX8fSh91z/oyRW6yCWX9IiBz8Gi96dH+SX4N/ARYDIkuUDPGPA6kG8HYh3LzeA5kCdSsDubyIV0gMRwYBdp4lMH7AIj1hFh/iFWAbltQ95v+BOUxsRLkLTDeg24rQdsXLN/Ww6DqOIidDXImxA6G2ACImQ9SugnkS1A9CzgMuAK0R4vl6oFgGQW8b157MiQeh5oc8zLBHML3QLodaEG5iySAPSjfn0bQqlGG4l2AfkBvoBblQlILsa4Q66uu6wz2d2J99oG0gqGjvC3aQGtR7UEraHtQeoOeoA0ArR/Kq6IGOAhitaDVQaxb7vtO7wZjCnQZCswCGoFjgj9QqvIxlEW/gNypjunLgr/T3J+OHGbL9cl130HuPdUE+vEmL9ZM5rchyAWQq8yMNplPG6B/UP5G+zR+ktuVLAIgx6IWJJIgxxVisMA8VroClhrvWtBazd/pMI9MEHz+87BwIXzyib90p54K11/v7dq1a+GWW9Tv+nr46U+9pUsmYfdu2LED5s+Hjz5SdJQABqTb1E/tI5DfA9cD9wJnBshPvmc+Pe9kHtcXle4pzf1Zs0bk7LP9p/vyl8UzFi2y040f7z2dG8uXq3JL0IO3gPRx8HMQtuPAWX7J7YJt5npe5rnEqx1Jbs+eIum0yE03+U87erTIU0+JtLYWJuWdd0R+/GM7XdeuIiNHilx9tUhjYzCiH35YpEuXKNtCbyBLc3hgqXaOX4KvNhO+T5Yrif5oRwpIEyeqBps1K3ge9fUiO3bkJuKWWwqnPeus7DS6LvL88yIzZ4rMmSPS0JA778cfj5TgNTl46oVtVO/Vnku6YC8mfDH7vP6fkO4wgn/wA9VYGzeGy+eGG7IJ2LJFpLq6cDpNy344pk/PvmbKFJG1a7PLuPzyyAhenoevX5rXPO2V4AvNBEvJ6QimXwZpo6MIfuQRu7H69w+ez7hx2Y0/Y4a3tHPnZqb7xS9yX9e/v8iKFdkPUW1tJAQvzsPXAJQdVwpkuPtsLnXXN83vh0CT7NPGVpDW7OOlwTiHun/s2OD5rFqVfWztWm9pGxsz/+/Lo1rYtQsuvxzSjnnGoEFwySXeyikMrTnP8UbgUVSoie+5z7oIloHAOahYFE/kzjC2Qz0xpUdNDYwcaf8/IYTVcFsb7NmTeWzbNm9pW12Ps+R47C0sWQKPPZZ57PLQDioCyJYCFzxofl+Cy1TZ3YP/DTU3/itoe3PnVbMZpX4sOY47TpFsIQzBkD2Pbmnxlq7N5+P86KOZ/ydNgu6hDHUFYHX+89oyVNinQ4AznGfcBH/DqmOBzFrB6JAe7B6Sx4VcnY3HC//PB78EL1qUOTrU1MBJJ/nLIxPSDvJekYueMr+/5jzoIFjGoUIUNQBzi2TWIe9gN8FDhkDfEI4wQQlO+ByvDAPefjvz2GdCOYvKPpAc06QMPInq6hfiWKt39uCzze8XQTOKZLbFHDZKCneP1bRwgla7K4SZrgfPqxhWrsz8P3hwmNyMBNRuLnyNtgFYBPQBPm8ddRI8xfx+1UOJS0pNcCwGo0ZBKpV5PMx7OGgPDoLVrjdm796hstvvodMBPGd+W1xaBEt3YAKQQoXtKwJZDFLC5oGjj4aePWH27MzjYQh2PyzpEi6buKdS4QgWr2u+88zvA+66MceBrsDboHlZs1kNkmdeFg2sofiZZ2D/fvt4WEm6o+CsM4QhWECFavSCJUAzcKxSgNgE+xmega4bTcuFksEi+IMP4ENHRMihQ8MJWh0F9xSsW7egOYmAvOvtWi0NvIUyCZkINsETzO/XPWaUAnyuzvrDuHFKCFq9WikPDpSswZgxpSw5GnTpkvnf71TLhuyC2NvFrzuA+eb3ZIAYagnqeMBAdXGv2FRKQWv0aFi+XC2oL3HVqjMM0z17Zv53a8O8I90GNSuLX3cAFsETQPXgEUA3YI0yEvMKeaWw0i44jjwS+ve3if1nIDif/toD9pgjpldYL7RjQBFsaXvzLEflgzYfZLe/NN5gzX+XLlXfK1ZkKhs6A8FHHZX5f/36ILkUU1HmgtYC7AR6ggyMocLhgwpj7wM1KyDto8d7hyVgWT03kVC2Thbq66FPn+x0lYTjXKZwGzYEyUXSoL0SIKH1ONXHUHsbOA96hJamRILW2LFK3bfcMaZ0NkHLrYVzqy69wdgFxlsBEq4zv4fFgMPNPx8HyGhVKQStsWPVWq1zqtGZ3sPDh2c+gKtWQUNDkJyMNui6rvh1WbA667AYYDlVNea5uFAFZqthJDr06weHH55NaGci+Mor1Shj4cknA2e126OK0g3rhTA4hlpDBNjhPx/tLTAiFbQs4iwBy8LSpWrYdl9XaRg3Dq67zv7f1gb33x8kJwG1xhsEu8zvvjGUbxBAAEG+6xowIhW0LAHLTXBLS6YkOnx4aAV+5BgzBp59NlPJcfPNypTHP4w48FLAqljGGnXVKMevVDBvQE1A3wEMDViRLOQjGNQwPdyU+S1Ba9687OtKjalTYaAj6mVtrVrvPeMMqHIYzNx5J9xzT9BSZBfoQe/OWifoXY3SW4bZ7Gk2GONz2+/5x9ixyhpi587sc0uWwFe+Yv8/4YTyEHzmmeqTD83N8J3vwNNeDVlzwmiGg4K+/qzOWh1zHQgA7aWoFB49e8KwYdkClYXOImjV1Cjrk6rA3syh3r9g89nFIjiEY3WXDyEdydLhmDFqoT/X8Aydh+Bu3WDaNJg1Sw3f/mEkUD7AQWHNbKoiIFgzCCSBZ6PQ+xeUfbLTmG34cOjVK4qS/eH66xWJBx8MJ58M3/0uvPxytmb+/PPh4YeDlCCNoHtc2csJa3GyPYZaRarN7cXgGS8of6VwcKsoc8F5LhYrn0YrHlfS8eLF8MADcO65cNpp8LFLXXTppXDFFX5zN/aGeP+CTXBbDLW9ajXQM//1RSv0DBg5xCJ/GDtW2S4X0ttW8jD9zjswebLyFXZi2jQ46CCvuQggQdSTTlhctsaw50wh1PfdNiqpLzhqauDYY2HZsuKeA05UEsGgevDVV2ceGzAAvv51rzkYzSB5vEo8w4pqvyuGraIMGwtxZRi9tOXFUGh4hsonGOCFF5TxuxNXXeU1dXov1C4qfl1BWAQ3xXAsLYXMdDoYgefTxQQsC5s2wV6HU80xx5RH0CoGt3B1/PGebaO3RbDruNVZd1YTGcE1r0KiCaqODJLaEpZuugmuuabwtc6pRyymzHvefDNIqaXDiy+qV41z0eGzn812TMuEYYA8G0HxlmZxY4QEay2g7wQCEWytnw7P8nAtjhNOqDyCm5qU7nzYMPvYaacVJXgHGKH0XyYOGHHEsC05huW52Adkpor26g+xmBrCgqIS38OQ/boZVrSFjd3QfWsERR9tfq9z9uAICE4/AVU/hJivSLTDhys1ZUMDrCnmYoUy1znxRPt/WK/DUmGzy5toSMEgxQJoxZz+PEAORa3xN4K2oxploNUEHAJyBGhFnJwKocc20JtRsRQ9wyLonnvg7ruLXz9oEGxxuEOPHKkeEK/+vh2F7dsz/x9acJ6SbgIp4LbrGZZ73lKAmBmmYYF5MIIt6OQ1v9MlS4J2ejAUwtatmatNlqBVaXAbu9fWFlqAMPZBV48tUBAnm99LwF7jswieFD7/2MOQ9rXEbUnQy30Y7rrfb5X4Hna7qwL06JHrSgH4IKJiLTfg18Em2LKGj6AH1yzzY8ajaYqcpqbca8D58IGrOSrxPex2X4F8PdhoBuO/w5coBwEnomKsLACb4GUok50RZiCWsAXN8zpM19crZ7JiCg43OoNGK5cCJreckN4NtWH1zwBnocI0vwlaGxwgWEsDC1HWHUECW7oQu9/rMG1Jw36GZ8juwSNH5hv+yge3+0o8rnytMiEAiwNaT7rxOfP7gJeo087GMvCKIKqT92Ha6nl+Cd6wIdPfp6oq3Fy6FKiry/zfnHM5xmgG476IirTevzkJnoUKj3QOkez5622YDtqDRSpf0HLG+AJYl9OEPb0baheGL01OQukytmJOkSCDYG038AoqxPzF4QuM3a/mdgWuiCnhKJ3O9D3yin+4rJYqjWB3ZB13YBazA7wf0fBsRSic7oxQ6DaFtGzwLw1fXs0yMAoSPGKEWghfty73lKIY3A9FuFhU+ZFLGi6GQw+Fw1zqHvcDqXqv9uug9bIhtdiv1unOM26CX0BtpjEJJNCigQt/ASOvb+vp5qQsmN9Odo849tjSeB26hSUvcJr3Wngly0/QaISaYgHOvOB8oA5YCFpGPA8XwVob8Kx5/Afhy635A6S35zs70dwp0G3i4hXuYKKaVppeHCQM4WWu7Z3Xr3cHRDXSwJ9DVMsJa3h+zH0il7X6b1Avh++QEUI+CLR9wJp8wpbVg4MS3NiY6a8EakkuarinX8UMDM47L/tBy3ZAS22DmgfC1g1kJGp61ArMdJ/NQbC2HPgb0Isc4Wn9w/iVuXFWBsaOhSOOUL+D2Q6rOaU7zOBZfncv8ICBLtXPgAKb3B11FDz0UOax1la4917nEUENpfkCvvrCrSgeH/QYAgtAJpnhe3aCBA4AZOalgb7WHeB62jQ7aPZLLwULkt2/f3aQ71RKpF+/3NfPmZN57amnFi9D07L3bWhoEOnePfu6iy4S2bYtu0533OHON7VX7UcYFjJSue9KO/43Cz2wIdZ3w1dEv1Xt0atucMiQzI0yWlpEBg3yT/Cll2Y3pojIjTd6I/iUU4qXMXly7jK2bxd55hmRP/5R7SeRi1gRkffeU5t8ZOarrwxph25x9ISZ5++CJP6imXibqcQOU5Eeam9fkXPOEVm3LrshGhpE7rpLpE+f4o1+0UVqV5OWltyNmk6rfRXcD42b4HHj8pfRu7fIBRfk33DDC1avFhk8OKv3tkDim0WbrHibjkSF8W8n+O7g8rpZsQg2Jk7cDenUHXcUbpShQ4sTPGOGtwYeP74wwaNG5c4/zL5JIuo18eST+R5WfS2RbKwtplmfFHRQLTJMyCjUOqUAo0HzE5DLnVdvSCzr27fmqEJz1c2bcynkMzFggLe56bZtmRFl58yBKVPs/yNGZEeFBWWKe/vtxfN3o7FR6ciffTbbhUXB0CF5A9QG9hpWkAtR09k9wEhz34bAmd1rPike41gWQvzBcFuwh/u4e/CQIR1dB30dofcdll4gm808vx2eE6QPSpoWkIvC5dUy0NzBqyIIPvzwjiw/HVc7iYfm4x4zzwVEIqipTK8wM23CvzjuQuJup0RdToJ79erQ3rs6gt57Ekqw0kFCbRLgzlgDed6s7Bu4tm7xmVetOVSVleBEQs1dO6bs1F7Qzw/JQS+QlWaevwyXV+4C6rC3vLs5XF6Jr0NqXzkJ3r69o8o1BOIh/S5EA5ll5vkuauvfUkBORw0RSZDx4fLS3y/VJpc9eqhdR0ePzk/wihUdRXByG8SPCdnuPzLz2wNS0Hw+AsjtZmENIIOC55MYC8kdpWjUb31LkTh7dn6CX3+9I8hNJ0F/JGR7T0Tt9p0ma6vfkkCqQeaaN7EMJEQ4ssTdKuB1tA378suKxHQ6U9nw2ms2wX/6U0cQrK8mlC5fBoNsNfMrxXs3b8G9QT40C55LYOlQqkFfFuVQrWkiu3bZRE6dap9bsMA+fsMNpSY3uQMSp4Ro44Ega8z8ZhNQsA0YvUxrRm1i+THKzHY6SIC8tBTIhZDMaxTgF3V1KqCpBaelZVeHaJLbAC4qGHGQJ6DmnWDppTdqyXY48C5wsWna3NGQ40D2mk/Z7wk88dZvhFRzFD1n6NDMue4jj9jnli2zj48YUaqeawjoSwmsb5buKCWGgCwnEgvXUJDJqA2KBeTx4Dem/xXSibANfMQRmQQvWGCf27pVHWtsLOUcWG+AtiMCtmVPDuyFIRsIrVSKDDIZxOqBz+PYHNFHHrVRvI9razMJ3r1bHe/aVQldIiLPPVfK927QhXw5BOQ9M6+tIGFjpkQNGYets36DQGvILYeAvjFsQzc3Z5J86KEiJ51k/7/22lKQm9oL8R8GbLt6bIFqLUgEzvglgYxAzY8FZGmwiiZOBX1rmMaeOzeT4OuuE5k5U/1OJEQGDoyc3P0Q/1PANhsPssvMawHlf+cWgxwJssKs8D6QADrY9jMgGZjk22+XvHjhhajJTbeC/hy+BUzRQL6PssgQlCoyoPlhh0N6YtsLGSB34lv4ik8Nquk644zc5KbT3gztfJAbB/1FfE8RpR/24o0Bcpf/PCoCcg1qaUtA5oP4jAyvXxKEZE1Txm5uPPBA5D33b/hWQMhk7AX7JpAv+EtfcZCTsVeh2kBuAvHh7dM+OYiRQH29yJo1NrlPP60k7GjITTWD/hd/vU56gfwatVgjIH8nlC6/oiB9QR4xhyNBTeAnFE9nQR+ljNX8TaG6dROZMCFqpUayCfRf+Lh3DeQybJ1yEuQ//Pf8TgGZjL1obYA8BOJRKdA2SGmIymMNYmqotoB+WfG6HrjfsdhaKUH5TFeYm3rkkBqQn2FLj3GQ+/HkzSjVkPg9JHdFR5yn920K9FUQ9xhoUUaB/NkxHG8B+RrR2VB1Bkg9SrWZNBtBB3kA5KjiafWvKkN6w4iOxLxDciPoT+JpCiMTQf4H+1UUB5kGEiLYeqeHDAN5zEF0EmXUfQEFlyGlr5qiJJtK1Gt19d5vLxKURrqBfBXkTUf6T1BTw0rRJVcCpB4liMUdDdUI8ls15OVD/GzQVyhtUiTvWkNJ7fqd5LV9kmqQc0Cmm2Ra6XeC3AJSlzvd/wPVM+X72Ip367MG5D6Q88myIpEYxK9SPS7VErDHpkHfDPoM2H9wjnoNBLkYJS/sdKQ1UHP8qwjtifmpgxxv9mC3siOJ8n78OciXOCCgSRXol6tVqWSjt2lVqhX0DRC/D/abnr9SA3I0yKUoueCjHGmXgvyUaEJdlAydRKqTGDAGmGJ+JqD2XHRiL2pj5HXARqAKUpOAI0HrDrE6FeRBAGkD4xOQPVA1D2IfA4NRYYjqVZqsvaSagTeBecD/ghYgLlDHo5MQ7IZ0RwVOnYQKnzsGnyGMiyABbAJWoOJ4zgeWlclsJhQ6KcG5IHWoHjgM1QMHonYf6YeK/eX2aWxBxefci9pvdz2q968HGjojmbnwf2lks+KG66kOAAAAAElFTkSuQmCC"}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return Gt},SDK_VERSION:function(){return Wn},_DEFAULT_ENTRY_NAME:function(){return Pn},_addComponent:function(){return Mn},_addOrOverwriteComponent:function(){return Fn},_apps:function(){return Rn},_clearComponents:function(){return Bn},_components:function(){return Ln},_getProvider:function(){return jn},_registerComponent:function(){return Un},_removeServiceInstance:function(){return Vn},deleteApp:function(){return Yn},getApp:function(){return Kn},getApps:function(){return Qn},initializeApp:function(){return Gn},onLog:function(){return $n},registerVersion:function(){return Jn},setLogLevel:function(){return Zn}});var t=n(791),r=n(164);function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}function a(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,i(e,t)}function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function u(e){return"/"===e.charAt(0)}function s(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var c=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],i=t&&t.split("/")||[],a=e&&u(e),o=t&&u(t),c=a||o;if(e&&u(e)?i=r:r.length&&(i.pop(),i=i.concat(r)),!i.length)return"/";if(i.length){var l=i[i.length-1];n="."===l||".."===l||""===l}else n=!1;for(var f=0,h=i.length;h>=0;h--){var d=i[h];"."===d?s(i,h):".."===d?(s(i,h),f++):f&&(s(i,h),f--)}if(!c)for(;f--;f)i.unshift("..");!c||""===i[0]||i[0]&&u(i[0])||i.unshift("");var p=i.join("/");return n&&"/"!==p.substr(-1)&&(p+="/"),p},l="Invariant failed";function f(e,t){if(!e)throw new Error(l)}function h(e){return"/"===e.charAt(0)?e:"/"+e}function d(e){return"/"===e.charAt(0)?e.substr(1):e}function p(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function v(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function y(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function m(e,t,n,r){var i;"string"===typeof e?(i=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var a=t.indexOf("?");return-1!==a&&(n=t.substr(a),t=t.substr(0,a)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),i.state=t):(void 0===(i=o({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(a){throw a instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):a}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=c(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function g(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var a="function"===typeof e?e(t,n):e;"string"===typeof a?"function"===typeof r?r(a,i):i(!0):i(!1!==a)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var k=!("undefined"===typeof window||!window.document||!window.document.createElement);function b(e,t){t(window.confirm(e))}var w="popstate",x="hashchange";function E(){try{return window.history.state||{}}catch(e){return{}}}function _(e){void 0===e&&(e={}),k||f(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),r=!(-1===window.navigator.userAgent.indexOf("Trident")),i=e,a=i.forceRefresh,u=void 0!==a&&a,s=i.getUserConfirmation,c=void 0===s?b:s,l=i.keyLength,d=void 0===l?6:l,_=e.basename?v(h(e.basename)):"";function S(e){var t=e||{},n=t.key,r=t.state,i=window.location,a=i.pathname+i.search+i.hash;return _&&(a=p(a,_)),m(a,r,n)}function I(){return Math.random().toString(36).substr(2,d)}var T=g();function C(e){o(V,e),V.length=t.length,T.notifyListeners(V.location,V.action)}function A(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||P(S(e.state))}function N(){P(S(E()))}var O=!1;function P(e){if(O)O=!1,C();else{T.confirmTransitionTo(e,"POP",c,(function(t){t?C({action:"POP",location:e}):function(e){var t=V.location,n=R.indexOf(t.key);-1===n&&(n=0);var r=R.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(O=!0,M(i))}(e)}))}}var D=S(E()),R=[D.key];function L(e){return _+y(e)}function M(e){t.go(e)}var F=0;function U(e){1===(F+=e)&&1===e?(window.addEventListener(w,A),r&&window.addEventListener(x,N)):0===F&&(window.removeEventListener(w,A),r&&window.removeEventListener(x,N))}var j=!1;var V={length:t.length,action:"POP",location:D,createHref:L,push:function(e,r){var i="PUSH",a=m(e,r,I(),V.location);T.confirmTransitionTo(a,i,c,(function(e){if(e){var r=L(a),o=a.key,s=a.state;if(n)if(t.pushState({key:o,state:s},null,r),u)window.location.href=r;else{var c=R.indexOf(V.location.key),l=R.slice(0,c+1);l.push(a.key),R=l,C({action:i,location:a})}else window.location.href=r}}))},replace:function(e,r){var i="REPLACE",a=m(e,r,I(),V.location);T.confirmTransitionTo(a,i,c,(function(e){if(e){var r=L(a),o=a.key,s=a.state;if(n)if(t.replaceState({key:o,state:s},null,r),u)window.location.replace(r);else{var c=R.indexOf(V.location.key);-1!==c&&(R[c]=a.key),C({action:i,location:a})}else window.location.replace(r)}}))},go:M,goBack:function(){M(-1)},goForward:function(){M(1)},block:function(e){void 0===e&&(e=!1);var t=T.setPrompt(e);return j||(U(1),j=!0),function(){return j&&(j=!1,U(-1)),t()}},listen:function(e){var t=T.appendListener(e);return U(1),function(){U(-1),t()}}};return V}var S="hashchange",I={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+d(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:d,decodePath:h},slash:{encodePath:h,decodePath:h}};function T(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function C(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function A(e){window.location.replace(T(window.location.href)+"#"+e)}function N(e){void 0===e&&{},k||f(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),r=n.getUserConfirmation,i=void 0===r?b:r,a=n.hashType,u=void 0===a?"slash":a,s=e.basename?v(h(e.basename)):"",c=I[u],l=c.encodePath,d=c.decodePath;function w(){var e=d(C());return s&&p(e,s),m(e)}var x=g();function E(e){o(V,e),V.length=t.length,x.notifyListeners(V.location,V.action)}var _=!1,N=null;function O(){var e=C(),t=l(e);if(e!==t)A(t);else{var n=w(),r=V.location;if(!_&&function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash}(r,n))return;if(N===y(n))return;null,function(e){if(_)!1,E();else{var t="POP";x.confirmTransitionTo(e,t,i,(function(n){n?E({action:t,location:e}):function(e){var t=V.location,n=L.lastIndexOf(y(t));-1===n&&0;var r=L.lastIndexOf(y(e));-1===r&&0;var i=n-r;i&&(!0,M(i))}(e)}))}}(n)}}var P=C(),D=l(P);P!==D&&A(D);var R=w(),L=[y(R)];function M(e){t.go(e)}var F=0;function U(e){1===(F+=e)&&1===e?window.addEventListener(S,O):0===F&&window.removeEventListener(S,O)}var j=!1;var V={length:t.length,action:"POP",location:R,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&T(window.location.href),n+"#"+l(s+y(e))},push:function(e,t){var n="PUSH",r=m(e,void 0,void 0,V.location);x.confirmTransitionTo(r,n,i,(function(e){if(e){var t=y(r),i=l(s+t);if(C()!==i){t,function(e){window.location.hash=e}(i);var a=L.lastIndexOf(y(V.location)),o=L.slice(0,a+1);o.push(t),o,E({action:n,location:r})}else E()}}))},replace:function(e,t){var n="REPLACE",r=m(e,void 0,void 0,V.location);x.confirmTransitionTo(r,n,i,(function(e){if(e){var t=y(r),i=l(s+t);C()!==i&&(t,A(i));var a=L.indexOf(y(V.location));-1!==a&&(L[a]=t),E({action:n,location:r})}}))},go:M,goBack:function(){M(-1)},goForward:function(){M(1)},block:function(e){void 0===e&&!1;var t=x.setPrompt(e);return j||(U(1),!0),function(){return j&&(!1,U(-1)),t()}},listen:function(e){var t=x.appendListener(e);return U(1),function(){U(-1),t()}}};return V}function O(e,t,n){return Math.min(Math.max(e,t),n)}function P(e){void 0===e&&{};var t=e,n=t.getUserConfirmation,r=t.initialEntries,i=void 0===r?["/"]:r,a=t.initialIndex,u=void 0===a?0:a,s=t.keyLength,c=void 0===s?6:s,l=g();function f(e){o(b,e),b.length=b.entries.length,l.notifyListeners(b.location,b.action)}function h(){return Math.random().toString(36).substr(2,c)}var d=O(u,0,i.length-1),p=i.map((function(e){return m(e,void 0,"string"===typeof e?h():e.key||h())})),v=y;function k(e){var t=O(b.index+e,0,b.entries.length-1),r=b.entries[t];l.confirmTransitionTo(r,"POP",n,(function(e){e?f({action:"POP",location:r,index:t}):f()}))}var b={length:p.length,action:"POP",location:p[d],index:d,entries:p,createHref:v,push:function(e,t){var r="PUSH",i=m(e,t,h(),b.location);l.confirmTransitionTo(i,r,n,(function(e){if(e){var t=b.index+1,n=b.entries.slice(0);n.length>t?n.splice(t,n.length-t,i):n.push(i),f({action:r,location:i,index:t,entries:n})}}))},replace:function(e,t){var r="REPLACE",i=m(e,t,h(),b.location);l.confirmTransitionTo(i,r,n,(function(e){e&&(b.entries[b.index]=i,f({action:r,location:i}))}))},go:k,goBack:function(){k(-1)},goForward:function(){k(1)},canGo:function(e){var t=b.index+e;return t>=0&&t<b.entries.length},block:function(e){return void 0===e&&!1,l.setPrompt(e)},listen:function(e){return l.appendListener(e)}};return b}var D=n(7),R=n.n(D),L=1073741823,M="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{};function F(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}var U=t.createContext||function(e,n){var r,i,o="__create-react-context-"+function(){var e="__global_unique_id__";return M[e]=(M[e]||0)+1}()+"__",u=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).emitter=F(t.props.value),t}a(t,e);var r=t.prototype;return r.getChildContext=function(){var e;return(e={})[o]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var t,r=this.props.value,i=e.value;!function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(r,i)?(t="function"===typeof n?n(r,i):L,0!==(t|=0)&&this.emitter.set(e.value,t)):t=0}},r.render=function(){return this.props.children},t}(t.Component);u.childContextTypes=((r={})[o]=R().object.isRequired,r);var s=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}a(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?L:t},r.componentDidMount=function(){this.context[o]&&this.context[o].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?L:e},r.componentWillUnmount=function(){this.context[o]&&this.context[o].off(this.onUpdate)},r.getValue=function(){return this.context[o]?this.context[o].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(t.Component);return s.contextTypes=((i={})[o]=R().object,i),{Provider:u,Consumer:s}},j=U,V=n(239),B=n.n(V);n(228);function z(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var q=n(110),H=n.n(q),W=function(e){var t=j();return t.displayName=e,t},G=W("Router-History"),K=W("Router"),Q=function(e){function n(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}a(n,e),n.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var r=n.prototype;return r.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},r.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},r.render=function(){return t.createElement(K.Provider,{value:{history:this.props.history,location:this.state.location,match:n.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},t.createElement(G.Provider,{children:this.props.children||null,value:this.props.history}))},n}(t.Component);t.Component;t.Component;var Y={},X=0;function J(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,a=void 0!==i&&i,o=n.strict,u=void 0!==o&&o,s=n.sensitive,c=void 0!==s&&s;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=Y[n]||(Y[n]={});if(r[e])return r[e];var i=[],a={regexp:B()(e,i,t),keys:i};return X<1e4&&(r[e]=a,X++),a}(n,{end:a,strict:u,sensitive:c}),i=r.regexp,o=r.keys,s=i.exec(e);if(!s)return null;var l=s[0],f=s.slice(1),h=e===l;return a&&!h?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:h,params:o.reduce((function(e,t,n){return e[t.name]=f[n],e}),{})}}),null)}t.Component;function $(e){return"/"===e.charAt(0)?e:"/"+e}function Z(e,t){if(!e)return t;var n=$(e);return 0!==t.pathname.indexOf(n)?t:o({},t,{pathname:t.pathname.substr(n.length)})}function ee(e){return"string"===typeof e?e:y(e)}function te(e){return function(){f(!1)}}function ne(){}t.Component;t.Component;t.useContext;var re=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=_(t.props),t}return a(n,e),n.prototype.render=function(){return t.createElement(Q,{history:this.history,children:this.props.children})},n}(t.Component);t.Component;var ie=function(e,t){return"function"===typeof e?e(t):e},ae=function(e,t){return"string"===typeof e?m(e,null,null,t):e},oe=function(e){return e},ue=t.forwardRef;"undefined"===typeof ue&&(ue=oe);var se=ue((function(e,n){var r=e.innerRef,i=e.navigate,a=e.onClick,u=z(e,["innerRef","navigate","onClick"]),s=u.target,c=o({},u,{onClick:function(e){try{a&&a(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||s&&"_self"!==s||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),i())}});return c.ref=oe!==ue&&n||r,t.createElement("a",c)}));var ce=ue((function(e,n){var r=e.component,i=void 0===r?se:r,a=e.replace,u=e.to,s=e.innerRef,c=z(e,["component","replace","to","innerRef"]);return t.createElement(K.Consumer,null,(function(e){e||f(!1);var r=e.history,l=ae(ie(u,e.location),e.location),h=l?r.createHref(l):"",d=o({},c,{href:h,navigate:function(){var t=ie(u,e.location),n=y(e.location)===y(ae(t));(a||n?r.replace:r.push)(t)}});return oe!==ue?d.ref=n||s:d.innerRef=s,t.createElement(i,d)}))})),le=function(e){return e},fe=t.forwardRef;"undefined"===typeof fe&&(fe=le);fe((function(e,n){var r=e["aria-current"],i=void 0===r?"page":r,a=e.activeClassName,u=void 0===a?"active":a,s=e.activeStyle,c=e.className,l=e.exact,h=e.isActive,d=e.location,p=e.sensitive,v=e.strict,y=e.style,m=e.to,g=e.innerRef,k=z(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return t.createElement(K.Consumer,null,(function(e){e||f(!1);var r=d||e.location,a=ae(ie(m,r),r),b=a.pathname,w=b&&b.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),x=w?J(r.pathname,{path:w,exact:l,sensitive:p,strict:v}):null,E=!!(h?h(x,r):x),_="function"===typeof c?c(E):c,S="function"===typeof y?y(E):y;E&&(_=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(_,u),S=o({},S,s));var I=o({"aria-current":E&&i||null,className:_,style:S,to:a},k);return le!==fe?I.ref=n||g:I.innerRef=g,t.createElement(ce,I)}))}));var he=t.createContext(null);var de=function(e){e()},pe=function(){return de};var ve={notify:function(){},get:function(){return[]}};function ye(e,t){var n,r=ve;function i(){o.onStateChange&&o.onStateChange()}function a(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=pe(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var o={addNestedSub:function(e){return a(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:a,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=ve)},getListeners:function(){return r}};return o}var me="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?t.useLayoutEffect:t.useEffect;var ge=function(e){var n=e.store,r=e.context,i=e.children,a=(0,t.useMemo)((function(){var e=ye(n);return e.onStateChange=e.notifyNestedSubs,{store:n,subscription:e}}),[n]),o=(0,t.useMemo)((function(){return n.getState()}),[n]);me((function(){var e=a.subscription;return e.trySubscribe(),o!==n.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[a,o]);var u=r||he;return t.createElement(u.Provider,{value:a},i)},ke=n(441),be=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],we=["reactReduxForwardedRef"],xe=[],Ee=[null,null];function _e(e,t){var n=e[1];return[t.payload,n+1]}function Se(e,t,n){me((function(){return e.apply(void 0,t)}),n)}function Ie(e,t,n,r,i,a,o){e.current=r,t.current=i,n.current=!1,a.current&&(a.current=null,o())}function Te(e,t,n,r,i,a,o,u,s,c){if(e){var l=!1,f=null,h=function(){if(!l){var e,n,h=t.getState();try{e=r(h,i.current)}catch(d){n=d,f=d}n||(f=null),e===a.current?o.current||s():(a.current=e,u.current=e,o.current=!0,c({type:"STORE_UPDATED",payload:{error:n}}))}};n.onStateChange=h,n.trySubscribe(),h();return function(){if(l=!0,n.tryUnsubscribe(),n.onStateChange=null,f)throw f}}}var Ce=function(){return[null,0]};function Ae(e,n){void 0===n&&(n={});var r=n,i=r.getDisplayName,a=void 0===i?function(e){return"ConnectAdvanced("+e+")"}:i,u=r.methodName,s=void 0===u?"connectAdvanced":u,c=r.renderCountProp,l=void 0===c?void 0:c,f=r.shouldHandleStateChanges,h=void 0===f||f,d=r.storeKey,p=void 0===d?"store":d,v=(r.withRef,r.forwardRef),y=void 0!==v&&v,m=r.context,g=void 0===m?he:m,k=z(r,be),b=g;return function(n){var r=n.displayName||n.name||"Component",i=a(r),u=o({},k,{getDisplayName:a,methodName:s,renderCountProp:l,shouldHandleStateChanges:h,storeKey:p,displayName:i,wrappedComponentName:r,WrappedComponent:n}),c=k.pure;var f=c?t.useMemo:function(e){return e()};function d(r){var i=(0,t.useMemo)((function(){var e=r.reactReduxForwardedRef,t=z(r,we);return[r.context,e,t]}),[r]),a=i[0],s=i[1],c=i[2],l=(0,t.useMemo)((function(){return a&&a.Consumer&&(0,ke.isContextConsumer)(t.createElement(a.Consumer,null))?a:b}),[a,b]),d=(0,t.useContext)(l),p=Boolean(r.store)&&Boolean(r.store.getState)&&Boolean(r.store.dispatch);Boolean(d)&&Boolean(d.store);var v=p?r.store:d.store,y=(0,t.useMemo)((function(){return function(t){return e(t.dispatch,u)}(v)}),[v]),m=(0,t.useMemo)((function(){if(!h)return Ee;var e=ye(v,p?null:d.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[v,p,d]),g=m[0],k=m[1],w=(0,t.useMemo)((function(){return p?d:o({},d,{subscription:g})}),[p,d,g]),x=(0,t.useReducer)(_e,xe,Ce),E=x[0][0],_=x[1];if(E&&E.error)throw E.error;var S=(0,t.useRef)(),I=(0,t.useRef)(c),T=(0,t.useRef)(),C=(0,t.useRef)(!1),A=f((function(){return T.current&&c===I.current?T.current:y(v.getState(),c)}),[v,E,c]);Se(Ie,[I,S,C,c,A,T,k]),Se(Te,[h,v,g,y,I,S,C,T,k,_],[v,g,y]);var N=(0,t.useMemo)((function(){return t.createElement(n,o({},A,{ref:s}))}),[s,n,A]);return(0,t.useMemo)((function(){return h?t.createElement(l.Provider,{value:w},N):N}),[l,N,w])}var v=c?t.memo(d):d;if(v.WrappedComponent=n,v.displayName=d.displayName=i,y){var m=t.forwardRef((function(e,n){return t.createElement(v,o({},e,{reactReduxForwardedRef:n}))}));return m.displayName=i,m.WrappedComponent=n,H()(m,n)}return H()(v,n)}}function Ne(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function Oe(e,t){if(Ne(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!Ne(e[n[i]],t[n[i]]))return!1;return!0}function Pe(e){return function(t,n){var r=e(t,n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function De(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function Re(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=De(e);var i=r(t,n);return"function"===typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=De(i),i=r(t,n)),i},r}}var Le=[function(e){return"function"===typeof e?Re(e):void 0},function(e){return e?void 0:Pe((function(e){return{dispatch:e}}))},function(e){return e&&"object"===typeof e?Pe((function(t){return function(e,t){var n={},r=function(r){var i=e[r];"function"===typeof i&&(n[r]=function(){return t(i.apply(void 0,arguments))})};for(var i in e)r(i);return n}(e,t)})):void 0}];var Me=[function(e){return"function"===typeof e?Re(e):void 0},function(e){return e?void 0:Pe((function(){return{}}))}];function Fe(e,t,n){return o({},n,e,t)}var Ue=[function(e){return"function"===typeof e?function(e){return function(t,n){n.displayName;var r,i=n.pure,a=n.areMergedPropsEqual,o=!1;return function(t,n,u){var s=e(t,n,u);return o?i&&a(s,r)||(r=s):(o=!0,r=s),r}}}(e):void 0},function(e){return e?void 0:function(){return Fe}}],je=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function Ve(e,t,n,r){return function(i,a){return n(e(i,a),t(r,a),a)}}function Be(e,t,n,r,i){var a,o,u,s,c,l=i.areStatesEqual,f=i.areOwnPropsEqual,h=i.areStatePropsEqual,d=!1;function p(i,d){var p=!f(d,o),v=!l(i,a);return a=i,o=d,p&&v?(u=e(a,o),t.dependsOnOwnProps&&(s=t(r,o)),c=n(u,s,o)):p?(e.dependsOnOwnProps&&(u=e(a,o)),t.dependsOnOwnProps&&(s=t(r,o)),c=n(u,s,o)):v?function(){var t=e(a,o),r=!h(t,u);return u=t,r&&(c=n(u,s,o)),c}():c}return function(i,l){return d?p(i,l):(u=e(a=i,o=l),s=t(r,o),c=n(u,s,o),d=!0,c)}}function ze(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,i=t.initMergeProps,a=z(t,je),o=n(e,a),u=r(e,a),s=i(e,a);return(a.pure?Be:Ve)(o,u,s,e,a)}var qe=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function He(e,t,n){for(var r=t.length-1;r>=0;r--){var i=t[r](e);if(i)return i}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function We(e,t){return e===t}function Ge(e){var t=void 0===e?{}:e,n=t.connectHOC,r=void 0===n?Ae:n,i=t.mapStateToPropsFactories,a=void 0===i?Me:i,u=t.mapDispatchToPropsFactories,s=void 0===u?Le:u,c=t.mergePropsFactories,l=void 0===c?Ue:c,f=t.selectorFactory,h=void 0===f?ze:f;return function(e,t,n,i){void 0===i&&(i={});var u=i,c=u.pure,f=void 0===c||c,d=u.areStatesEqual,p=void 0===d?We:d,v=u.areOwnPropsEqual,y=void 0===v?Oe:v,m=u.areStatePropsEqual,g=void 0===m?Oe:m,k=u.areMergedPropsEqual,b=void 0===k?Oe:k,w=z(u,qe),x=He(e,a,"mapStateToProps"),E=He(t,s,"mapDispatchToProps"),_=He(n,l,"mergeProps");return r(h,o({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:x,initMapDispatchToProps:E,initMergeProps:_,pure:f,areStatesEqual:p,areOwnPropsEqual:y,areStatePropsEqual:g,areMergedPropsEqual:b},w))}}var Ke=Ge();var Qe;function Ye(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xe(Object(n),!0).forEach((function(t){Ye(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $e(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}Qe=r.unstable_batchedUpdates,de=Qe;var Ze="function"===typeof Symbol&&Symbol.observable||"@@observable",et=function(){return Math.random().toString(36).substring(7).split("").join(".")},tt={INIT:"@@redux/INIT"+et(),REPLACE:"@@redux/REPLACE"+et(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+et()}};function nt(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function rt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}var it=n(896),at=n.n(it),ot="SET_CURRENT_USERS",ut={currentUser:null},st=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut,t=arguments.length>1?arguments[1]:void 0;return t.type===ot?Je(Je({},e),{},{currentUser:t.payload}):e};function ct(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function lt(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){ct(a,r,i,o,u,"next",e)}function u(e){ct(a,r,i,o,u,"throw",e)}o(void 0)}))}}var ft=n(757),ht=n.n(ft);function dt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vt(e,t,n){return t&&pt(e.prototype,t),n&&pt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function yt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mt(e,t){if(e){if("string"===typeof e)return yt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yt(e,t):void 0}}function gt(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=mt(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function kt(e){if(Array.isArray(e))return e}function bt(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function wt(e,t){return kt(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||mt(e,t)||bt()}function xt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Et(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)}function _t(e){return _t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_t(e)}function St(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function It(e){return It="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},It(e)}function Tt(e,t){if(t&&("object"===It(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return xt(e)}function Ct(e){var t=St();return function(){var n,r=_t(e);if(t){var i=_t(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Tt(this,n)}}function At(e,t,n){return At=St()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&i(a,n.prototype),a},At.apply(null,arguments)}function Nt(e){var t="function"===typeof Map?new Map:void 0;return Nt=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return At(e,arguments,_t(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),i(n,e)},Nt(e)}var Ot=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Pt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ot(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Dt=function(e){return function(e){var t=Ot(e);return Pt.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Rt=function(e){try{return Pt.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Lt(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&Mt(n)&&(e[n]=Lt(e[n],t[n]));return e}function Mt(e){return"__proto__"!==e}var Ft=function(){function e(){var t=this;dt(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return vt(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Ut(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Dt(JSON.stringify({alg:"none",type:"JWT"})),Dt(JSON.stringify(a)),""].join(".")}function jt(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Vt(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(jt())}function Bt(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function zt(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function qt(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Ht(){var e=jt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Wt(){return"object"===typeof indexedDB}var Gt=function(e){Et(n,e);var t=Ct(n);function n(e,r,i){var a;return dt(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(xt(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(xt(a),Kt.prototype.create),a}return vt(n)}(Nt(Error)),Kt=function(){function e(t,n,r){dt(this,e),this.service=t,this.serviceName=n,this.errors=r}return vt(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?Qt(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new Gt(n,a,t);return o}}]),e}();function Qt(e,t){return e.replace(Yt,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Yt=/\{\$([^}]+)}/g;function Xt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Jt(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if($t(u)&&$t(s)){if(!Jt(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function $t(e){return null!==e&&"object"===typeof e}function Zt(e){for(var t=[],n=function(){var e=wt(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function en(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=wt(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function tn(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function nn(e,t){var n=new rn(e,t);return n.subscribe.bind(n)}var rn=function(){function e(t,n){var r=this;dt(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return vt(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=gt(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=an),void 0===r.error&&(r.error=an),void 0===r.complete&&(r.complete=an);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function an(){}function on(e){return e&&e._delegate?e._delegate:e}function un(e,t){return new Promise((function(n,r){e.onsuccess=function(e){n(e.target.result)},e.onerror=function(e){var n;r("".concat(t,": ").concat(null===(n=e.target.error)||void 0===n?void 0:n.message))}}))}var sn=function(){function e(t){dt(this,e),this._db=t,this.objectStoreNames=this._db.objectStoreNames}return vt(e,[{key:"transaction",value:function(e,t){return new cn(this._db.transaction.call(this._db,e,t))}},{key:"createObjectStore",value:function(e,t){return new ln(this._db.createObjectStore(e,t))}},{key:"close",value:function(){this._db.close()}}]),e}(),cn=function(){function e(t){var n=this;dt(this,e),this._transaction=t,this.complete=new Promise((function(e,t){n._transaction.oncomplete=function(){e()},n._transaction.onerror=function(){t(n._transaction.error)},n._transaction.onabort=function(){t(n._transaction.error)}}))}return vt(e,[{key:"objectStore",value:function(e){return new ln(this._transaction.objectStore(e))}}]),e}(),ln=function(){function e(t){dt(this,e),this._store=t}return vt(e,[{key:"index",value:function(e){return new fn(this._store.index(e))}},{key:"createIndex",value:function(e,t,n){return new fn(this._store.createIndex(e,t,n))}},{key:"get",value:function(e){return un(this._store.get(e),"Error reading from IndexedDB")}},{key:"put",value:function(e,t){return un(this._store.put(e,t),"Error writing to IndexedDB")}},{key:"delete",value:function(e){return un(this._store.delete(e),"Error deleting from IndexedDB")}},{key:"clear",value:function(){return un(this._store.clear(),"Error clearing IndexedDB object store")}}]),e}(),fn=function(){function e(t){dt(this,e),this._index=t}return vt(e,[{key:"get",value:function(e){return un(this._index.get(e),"Error reading from IndexedDB")}}]),e}();function hn(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function dn(e){return function(e){if(Array.isArray(e))return yt(e)}(e)||hn(e)||mt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var pn=function(){function e(t,n,r){dt(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return vt(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),vn="[DEFAULT]",yn=function(){function e(t,n){dt(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return vt(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Ft;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:vn})}catch(s){}var t,n=gt(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=wt(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=lt(ft.mark((function e(){var t;return ft.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(dn(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),dn(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=gt(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=wt(i.value,2),s=u[0],c=u[1],l=this.normalizeInstanceIdentifier(s);r===l&&c.resolve(a)}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=gt(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(Bx){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===vn?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(Bx){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn;return this.component?this.component.multipleInstances?e:vn:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var mn,gn,kn=function(){function e(t){dt(this,e),this.name=t,this.providers=new Map}return vt(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new yn(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),bn=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(gn||(gn={}));var wn,xn,En={debug:gn.DEBUG,verbose:gn.VERBOSE,info:gn.INFO,warn:gn.WARN,error:gn.ERROR,silent:gn.SILENT},_n=gn.INFO,Sn=(Ye(mn={},gn.DEBUG,"log"),Ye(mn,gn.VERBOSE,"log"),Ye(mn,gn.INFO,"info"),Ye(mn,gn.WARN,"warn"),Ye(mn,gn.ERROR,"error"),mn),In=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Sn[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Tn=function(){function e(t){dt(this,e),this.name=t,this._logLevel=_n,this._logHandler=In,this._userLogHandler=null,bn.push(this)}return vt(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in gn))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?En[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,gn.DEBUG].concat(t)),this._logHandler.apply(this,[this,gn.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,gn.VERBOSE].concat(t)),this._logHandler.apply(this,[this,gn.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,gn.INFO].concat(t)),this._logHandler.apply(this,[this,gn.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,gn.WARN].concat(t)),this._logHandler.apply(this,[this,gn.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,gn.ERROR].concat(t)),this._logHandler.apply(this,[this,gn.ERROR].concat(t))}}]),e}();var Cn=function(){function e(t){dt(this,e),this.container=t}return vt(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var An="@firebase/app",Nn="0.7.19",On=new Tn("@firebase/app"),Pn="[DEFAULT]",Dn=(Ye(wn={},An,"fire-core"),Ye(wn,"@firebase/app-compat","fire-core-compat"),Ye(wn,"@firebase/analytics","fire-analytics"),Ye(wn,"@firebase/analytics-compat","fire-analytics-compat"),Ye(wn,"@firebase/app-check","fire-app-check"),Ye(wn,"@firebase/app-check-compat","fire-app-check-compat"),Ye(wn,"@firebase/auth","fire-auth"),Ye(wn,"@firebase/auth-compat","fire-auth-compat"),Ye(wn,"@firebase/database","fire-rtdb"),Ye(wn,"@firebase/database-compat","fire-rtdb-compat"),Ye(wn,"@firebase/functions","fire-fn"),Ye(wn,"@firebase/functions-compat","fire-fn-compat"),Ye(wn,"@firebase/installations","fire-iid"),Ye(wn,"@firebase/installations-compat","fire-iid-compat"),Ye(wn,"@firebase/messaging","fire-fcm"),Ye(wn,"@firebase/messaging-compat","fire-fcm-compat"),Ye(wn,"@firebase/performance","fire-perf"),Ye(wn,"@firebase/performance-compat","fire-perf-compat"),Ye(wn,"@firebase/remote-config","fire-rc"),Ye(wn,"@firebase/remote-config-compat","fire-rc-compat"),Ye(wn,"@firebase/storage","fire-gcs"),Ye(wn,"@firebase/storage-compat","fire-gcs-compat"),Ye(wn,"@firebase/firestore","fire-fst"),Ye(wn,"@firebase/firestore-compat","fire-fst-compat"),Ye(wn,"fire-js","fire-js"),Ye(wn,"firebase","fire-js-all"),wn),Rn=new Map,Ln=new Map;function Mn(e,t){try{e.container.addComponent(t)}catch(n){On.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Fn(e,t){e.container.addOrOverwriteComponent(t)}function Un(e){var t=e.name;if(Ln.has(t))return On.debug("There were multiple attempts to register component ".concat(t,".")),!1;Ln.set(t,e);var n,r=gt(Rn.values());try{for(r.s();!(n=r.n()).done;){Mn(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function jn(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Vn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Pn;jn(e,t).clearInstance(n)}function Bn(){Ln.clear()}var zn=(Ye(xn={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Ye(xn,"bad-app-name","Illegal App name: '{$appName}"),Ye(xn,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),Ye(xn,"app-deleted","Firebase App named '{$appName}' already deleted"),Ye(xn,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Ye(xn,"invalid-log-argument","First argument to `onLog` must be null or a function."),Ye(xn,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),Ye(xn,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),Ye(xn,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),Ye(xn,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),xn),qn=new Kt("app","Firebase",zn),Hn=function(){function e(t,n,r){var i=this;dt(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new pn("app",(function(){return i}),"PUBLIC"))}return vt(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw qn.create("app-deleted",{appName:this._name})}}]),e}(),Wn="9.6.9";function Gn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:Pn,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw qn.create("bad-app-name",{appName:String(i)});var a=Rn.get(i);if(a){if(Jt(e,a.options)&&Jt(r,a.config))return a;throw qn.create("duplicate-app",{appName:i})}var o,u=new kn(i),s=gt(Ln.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new Hn(e,r,u);return Rn.set(i,l),l}function Kn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pn,t=Rn.get(e);if(!t)throw qn.create("no-app",{appName:e});return t}function Qn(){return Array.from(Rn.values())}function Yn(e){return Xn.apply(this,arguments)}function Xn(){return Xn=lt(ft.mark((function e(t){var n;return ft.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!Rn.has(n)){e.next=6;break}return Rn.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),Xn.apply(this,arguments)}function Jn(e,t,n){var r,i=null!==(r=Dn[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void On.warn(u.join(" "))}Un(new pn("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function $n(e,t){if(null!==e&&"function"!==typeof e)throw qn.create("invalid-log-argument");!function(e,t){var n,r=gt(bn);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=En[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:gn[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Zn(e){var t;t=e,bn.forEach((function(e){e.setLogLevel(t)}))}var er="firebase-heartbeat-store",tr=null;function nr(){var e,t,n;return tr||(tr=(e="firebase-heartbeat-database",t=1,n=function(e,t){0===t&&e.createObjectStore(er)},new Promise((function(r,i){try{var a=indexedDB.open(e,t);a.onsuccess=function(e){r(new sn(e.target.result))},a.onerror=function(e){var t;i("Error opening indexedDB: ".concat(null===(t=e.target.error)||void 0===t?void 0:t.message))},a.onupgradeneeded=function(e){n(new sn(a.result),e.oldVersion,e.newVersion,new cn(a.transaction))}}catch(o){i("Error opening indexedDB: ".concat(o.message))}}))).catch((function(e){throw qn.create("storage-open",{originalErrorMessage:e.message})}))),tr}function rr(e){return ir.apply(this,arguments)}function ir(){return ir=lt(ft.mark((function e(t){var n;return ft.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,nr();case 3:return n=e.sent,e.abrupt("return",n.transaction(er).objectStore(er).get(ur(t)));case 7:throw e.prev=7,e.t0=e.catch(0),qn.create("storage-get",{originalErrorMessage:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),ir.apply(this,arguments)}function ar(e,t){return or.apply(this,arguments)}function or(){return or=lt(ft.mark((function e(t,n){var r,i,a;return ft.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,nr();case 3:return r=e.sent,i=r.transaction(er,"readwrite"),a=i.objectStore(er),e.next=8,a.put(n,ur(t));case 8:return e.abrupt("return",i.complete);case 11:throw e.prev=11,e.t0=e.catch(0),qn.create("storage-set",{originalErrorMessage:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),or.apply(this,arguments)}function ur(e){return"".concat(e.name,"!").concat(e.options.appId)}var sr=function(){function e(t){var n=this;dt(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new dr(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return vt(e,[{key:"triggerHeartbeat",value:function(){var e=lt(ft.mark((function e(){var t,n,r;return ft.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=cr(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=lt(ft.mark((function e(){var t,n,r,i,a;return ft.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=cr(),n=lr(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Dt(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function cr(){return(new Date).toISOString().substring(0,10)}function lr(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=gt(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),pr(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),pr(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var fr,hr,dr=function(){function e(t){dt(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return vt(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=lt(ft.mark((function e(){return ft.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Wt()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=lt(ft.mark((function e(){var t;return ft.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,rr(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=lt(ft.mark((function e(t){var n,r;return ft.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",ar(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=lt(ft.mark((function e(t){var n,r;return ft.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",ar(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(dn(r.heartbeats),dn(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function pr(e){return Dt(JSON.stringify({version:2,heartbeats:e})).length}fr="",Un(new pn("platform-logger",(function(e){return new Cn(e)}),"PRIVATE")),Un(new pn("heartbeat",(function(e){return new sr(e)}),"PRIVATE")),Jn(An,Nn,fr),Jn(An,Nn,"esm2017"),Jn("fire-js","");var vr=function(){function e(t,n){var r=this;dt(this,e),this._delegate=t,this.firebase=n,Mn(t,new pn("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return vt(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Yn(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Pn;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Pn;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Mn(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Fn(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),yr=(Ye(hr={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Ye(hr,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),hr),mr=new Kt("app-compat","Firebase",yr);var gr=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Gn(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Xt(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Jn,setLogLevel:Zn,onLog:$n,apps:null,SDK_VERSION:Wn,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(Un(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw mr.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&Lt(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Xt(n,e=e||Pn))throw mr.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(vr);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Lt(n,e)},createSubscribe:nn,ErrorFactory:Kt,deepExtend:Lt}),n}(),kr=new Tn("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){kr.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var br=self.firebase.SDK_VERSION;br&&br.indexOf("LITE")>=0&&kr.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var wr=gr;!function(e){Jn("@firebase/app-compat","0.1.20",e)}();function xr(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_t(e)););return e}function Er(){return Er="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=xr(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Er.apply(this,arguments)}wr.registerVersion("firebase","9.6.9","app-compat");function _r(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var Sr;Object.create;var Ir="facebook.com",Tr="github.com",Cr="google.com",Ar="password",Nr="twitter.com",Or="EMAIL_SIGNIN",Pr="PASSWORD_RESET",Dr="RECOVER_EMAIL",Rr="REVERT_SECOND_FACTOR_ADDITION",Lr="VERIFY_AND_CHANGE_EMAIL",Mr="VERIFY_EMAIL";function Fr(){return Ye({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Ur=function(){var e;return Ye(e={},"admin-restricted-operation","This operation is restricted to administrators only."),Ye(e,"argument-error",""),Ye(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),Ye(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),Ye(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),Ye(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),Ye(e,"cordova-not-ready","Cordova framework is not ready."),Ye(e,"cors-unsupported","This browser is not supported."),Ye(e,"credential-already-in-use","This credential is already associated with a different user account."),Ye(e,"custom-token-mismatch","The custom token corresponds to a different audience."),Ye(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),Ye(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),Ye(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),Ye(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),Ye(e,"email-already-in-use","The email address is already in use by another account."),Ye(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),Ye(e,"expired-action-code","The action code has expired."),Ye(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),Ye(e,"internal-error","An internal AuthError has occurred."),Ye(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),Ye(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),Ye(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),Ye(e,"invalid-auth-event","An internal AuthError has occurred."),Ye(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),Ye(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),Ye(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),Ye(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),Ye(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),Ye(e,"invalid-email","The email address is badly formatted."),Ye(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),Ye(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),Ye(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),Ye(e,"invalid-credential","The supplied auth credential is malformed or has expired."),Ye(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),Ye(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),Ye(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),Ye(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),Ye(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),Ye(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),Ye(e,"wrong-password","The password is invalid or the user does not have a password."),Ye(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),Ye(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),Ye(e,"invalid-provider-id","The specified provider ID is invalid."),Ye(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),Ye(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),Ye(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),Ye(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),Ye(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),Ye(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),Ye(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),Ye(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),Ye(e,"missing-continue-uri","A continue URL must be provided in the request."),Ye(e,"missing-iframe-start","An internal AuthError has occurred."),Ye(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),Ye(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),Ye(e,"missing-multi-factor-info","No second factor identifier is provided."),Ye(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),Ye(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),Ye(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),Ye(e,"app-deleted","This instance of FirebaseApp has been deleted."),Ye(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),Ye(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),Ye(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),Ye(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),Ye(e,"no-auth-event","An internal AuthError has occurred."),Ye(e,"no-such-provider","User was not linked to an account with the given provider."),Ye(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),Ye(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),Ye(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),Ye(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),Ye(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),Ye(e,"provider-already-linked","User can only be linked to one identity for the given provider."),Ye(e,"quota-exceeded","The project's quota for this operation has been exceeded."),Ye(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),Ye(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),Ye(e,"rejected-credential","The request contains malformed or mismatching credentials."),Ye(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),Ye(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),Ye(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),Ye(e,"timeout","The operation has timed out."),Ye(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),Ye(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),Ye(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),Ye(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),Ye(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),Ye(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),Ye(e,"unverified-email","The operation requires a verified email."),Ye(e,"user-cancelled","The user did not grant your application the permissions it requested."),Ye(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),Ye(e,"user-disabled","The user account has been disabled by an administrator."),Ye(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),Ye(e,"user-signed-out",""),Ye(e,"weak-password","The password must be 6 characters long or more."),Ye(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),Ye(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},jr=Fr,Vr=new Kt("auth","Firebase",Fr()),Br=new Tn("@firebase/auth");function zr(e){if(Br.logLevel<=gn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Br.error.apply(Br,["Auth (".concat(Wn,"): ").concat(e)].concat(n))}}function qr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Kr.apply(void 0,[e].concat(n))}function Hr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Kr.apply(void 0,[e].concat(n))}function Wr(e,t,n){var r=Object.assign(Object.assign({},jr()),Ye({},t,n));return new Kt("auth","Firebase",r).create(t,{appName:e.name})}function Gr(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&qr(e,"argument-error"),Wr(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Kr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=dn(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(dn(o)))}return Vr.create.apply(Vr,[e].concat(n))}function Qr(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Kr.apply(void 0,[t].concat(r))}}function Yr(e){var t="INTERNAL ASSERTION FAILED: "+e;throw zr(t),new Error(t)}function Xr(e,t){e||Yr(t)}var Jr=new Map;function $r(e){Xr(e instanceof Function,"Expected a class definition");var t=Jr.get(e);return t?(Xr(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Jr.set(e,t),t)}function Zr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function ei(){return"http:"===ti()||"https:"===ti()}function ti(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var ni=function(){function e(t,n){dt(this,e),this.shortDelay=t,this.longDelay=n,Xr(n>t,"Short delay should be less than long delay!"),this.isMobile=Vt()||qt()}return vt(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(ei()||zt()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function ri(e,t){Xr(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var ii=function(){function e(){dt(this,e)}return vt(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Yr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Yr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Yr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),ai=(Ye(Sr={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),Ye(Sr,"MISSING_CUSTOM_TOKEN","internal-error"),Ye(Sr,"INVALID_IDENTIFIER","invalid-email"),Ye(Sr,"MISSING_CONTINUE_URI","internal-error"),Ye(Sr,"INVALID_PASSWORD","wrong-password"),Ye(Sr,"MISSING_PASSWORD","internal-error"),Ye(Sr,"EMAIL_EXISTS","email-already-in-use"),Ye(Sr,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),Ye(Sr,"INVALID_IDP_RESPONSE","invalid-credential"),Ye(Sr,"INVALID_PENDING_TOKEN","invalid-credential"),Ye(Sr,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),Ye(Sr,"MISSING_REQ_TYPE","internal-error"),Ye(Sr,"EMAIL_NOT_FOUND","user-not-found"),Ye(Sr,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),Ye(Sr,"EXPIRED_OOB_CODE","expired-action-code"),Ye(Sr,"INVALID_OOB_CODE","invalid-action-code"),Ye(Sr,"MISSING_OOB_CODE","internal-error"),Ye(Sr,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),Ye(Sr,"INVALID_ID_TOKEN","invalid-user-token"),Ye(Sr,"TOKEN_EXPIRED","user-token-expired"),Ye(Sr,"USER_NOT_FOUND","user-token-expired"),Ye(Sr,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),Ye(Sr,"INVALID_CODE","invalid-verification-code"),Ye(Sr,"INVALID_SESSION_INFO","invalid-verification-id"),Ye(Sr,"INVALID_TEMPORARY_PROOF","invalid-credential"),Ye(Sr,"MISSING_SESSION_INFO","missing-verification-id"),Ye(Sr,"SESSION_EXPIRED","code-expired"),Ye(Sr,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),Ye(Sr,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),Ye(Sr,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),Ye(Sr,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),Ye(Sr,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),Ye(Sr,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),Ye(Sr,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),Ye(Sr,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),Ye(Sr,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),Ye(Sr,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),Ye(Sr,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Sr),oi=new ni(3e4,6e4);function ui(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function si(e,t,n,r){return ci.apply(this,arguments)}function ci(){return ci=lt(ht().mark((function e(t,n,r,i){var a,o=arguments;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",li(t,a,lt(ht().mark((function e(){var a,o,u,s;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=Zt(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",ii.fetch()(pi(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),ci.apply(this,arguments)}function li(e,t,n){return fi.apply(this,arguments)}function fi(){return fi=lt(ht().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},ai),n),e.prev=2,a=new vi(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw yi(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,c=s.split(" : "),l=wt(c,2),f=l[0],h=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=23;break}throw yi(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==f){e.next=25;break}throw yi(t,"email-already-in-use",u);case 25:if(d=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!h){e.next=30;break}throw Wr(t,d,h);case 30:qr(t,d);case 31:e.next=38;break;case 33:if(e.prev=33,e.t0=e.catch(2),!(e.t0 instanceof Gt)){e.next=37;break}throw e.t0;case 37:qr(t,"network-request-failed");case 38:case"end":return e.stop()}}),e,null,[[2,33]])}))),fi.apply(this,arguments)}function hi(e,t,n,r){return di.apply(this,arguments)}function di(){return di=lt(ht().mark((function e(t,n,r,i){var a,o,u=arguments;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,si(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&qr(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),di.apply(this,arguments)}function pi(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?ri(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var vi=function(){function e(t){var n=this;dt(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Hr(n.auth,"network-request-failed"))}),oi.get())}))}return vt(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function yi(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Hr(e,t,r);return i.customData._tokenResponse=n,i}function mi(e,t){return gi.apply(this,arguments)}function gi(){return gi=lt(ht().mark((function e(t,n){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",si(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),gi.apply(this,arguments)}function ki(e,t){return bi.apply(this,arguments)}function bi(){return bi=lt(ht().mark((function e(t,n){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",si(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),bi.apply(this,arguments)}function wi(e,t){return xi.apply(this,arguments)}function xi(){return xi=lt(ht().mark((function e(t,n){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",si(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),xi.apply(this,arguments)}function Ei(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function _i(){return _i=lt(ht().mark((function e(t){var n,r,i,a,o,u,s=arguments;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=on(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Qr((a=Ii(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Ei(Si(a.auth_time)),issuedAtTime:Ei(Si(a.iat)),expirationTime:Ei(Si(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),_i.apply(this,arguments)}function Si(e){return 1e3*Number(e)}function Ii(e){var t=wt(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return zr("JWT malformed, contained fewer than 3 sections"),null;try{var a=Rt(r);return a?JSON.parse(a):(zr("Failed to decode base64 JWT payload"),null)}catch(o){return zr("Caught error parsing JWT payload as JSON",o),null}}function Ti(e,t){return Ci.apply(this,arguments)}function Ci(){return Ci=lt(ht().mark((function e(t,n){var r=arguments;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Gt&&Ai(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Ci.apply(this,arguments)}function Ai(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Ni=function(){function e(t){dt(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return vt(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(lt(ht().mark((function t(){return ht().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=lt(ht().mark((function e(){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Oi=function(){function e(t,n){dt(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return vt(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Ei(this.lastLoginAt),this.creationTime=Ei(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Pi(e){return Di.apply(this,arguments)}function Di(){return Di=lt(ht().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Ti(t,wi(r,{idToken:i}));case 6:Qr(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?Mi(o.providerUserInfo):[],s=Li(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new Oi(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),Di.apply(this,arguments)}function Ri(){return(Ri=lt(ht().mark((function e(t){var n;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=on(t),e.next=3,Pi(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Li(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(dn(n),dn(t))}function Mi(e){return e.map((function(e){var t=e.providerId,n=_r(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function Fi(e,t){return Ui.apply(this,arguments)}function Ui(){return Ui=lt(ht().mark((function e(t,n){var r;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,li(t,{},lt(ht().mark((function e(){var r,i,a,o,u,s;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Zt({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=pi(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",ii.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),Ui.apply(this,arguments)}var ji=function(){function e(){dt(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return vt(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Qr(e.idToken,"internal-error"),Qr("undefined"!==typeof e.idToken,"internal-error"),Qr("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Ii(e);return Qr(t,"internal-error"),Qr("undefined"!==typeof t.exp,"internal-error"),Qr("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=lt(ht().mark((function e(t){var n,r=arguments;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Qr(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=lt(ht().mark((function e(t,n){var r,i,a,o;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fi(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Yr("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Qr("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Qr("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Qr("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Vi(e,t){Qr("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Bi=function(){function e(t){dt(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=_r(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ni(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?dn(a.providerData):[],this.metadata=new Oi(a.createdAt||void 0,a.lastLoginAt||void 0)}return vt(e,[{key:"getIdToken",value:function(){var e=lt(ht().mark((function e(t){var n;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ti(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Qr(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return _i.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Ri.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Qr(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){Qr(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=lt(ht().mark((function e(t){var n,r,i=arguments;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Pi(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=lt(ht().mark((function e(){var t;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Ti(this,mi(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,y=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,m=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,E=n.stsTokenManager;Qr(k&&E,t,"internal-error");var _=ji.fromJSON(this.name,E);Qr("string"===typeof k,t,"internal-error"),Vi(f,t.name),Vi(h,t.name),Qr("boolean"===typeof b,t,"internal-error"),Qr("boolean"===typeof w,t,"internal-error"),Vi(d,t.name),Vi(p,t.name),Vi(v,t.name),Vi(y,t.name),Vi(m,t.name),Vi(g,t.name);var S=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:_,createdAt:m,lastLoginAt:g});return x&&Array.isArray(x)&&(S.providerData=x.map((function(e){return Object.assign({},e)}))),y&&(S._redirectEventId=y),S}},{key:"_fromIdTokenResponse",value:function(){var t=lt(ht().mark((function t(n,r){var i,a,o,u=arguments;return ht().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new ji).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,Pi(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),zi=function(){function e(){dt(this,e),this.type="NONE",this.storage={}}return vt(e,[{key:"_isAvailable",value:function(){var e=lt(ht().mark((function e(){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=lt(ht().mark((function e(t,n){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=lt(ht().mark((function e(t){var n;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=lt(ht().mark((function e(t){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();zi.type="NONE";var qi=zi;function Hi(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Wi=function(){function e(t,n,r){dt(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Hi(this.userKey,a.apiKey,o),this.fullPersistenceKey=Hi("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return vt(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=lt(ht().mark((function e(){var t;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Bi._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=lt(ht().mark((function e(t){var n;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=lt(ht().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return ht().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e($r(qi),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=lt(ht().mark((function e(t){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||$r(qi),u=Hi(i,n.config.apiKey,n.name),s=null,c=gt(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=Bi._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=lt(ht().mark((function e(t){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Gi(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Xi(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Ki(t))return"Firefox";if(t.includes("silk/"))return"Silk";if($i(t))return"Blackberry";if(Zi(t))return"Webos";if(Qi(t))return"Safari";if((t.includes("chrome/")||Yi(t))&&!t.includes("edge/"))return"Chrome";if(Ji(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Ki(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt();return/firefox\//i.test(e)}function Qi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Yi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt();return/crios\//i.test(e)}function Xi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt();return/iemobile/i.test(e)}function Ji(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt();return/android/i.test(e)}function $i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt();return/blackberry/i.test(e)}function Zi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt();return/webos/i.test(e)}function ea(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt();return/iphone|ipad|ipod/i.test(e)}function ta(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt();return ea(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function na(){return Ht()&&10===document.documentMode}function ra(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt();return ea(e)||Ji(e)||Zi(e)||$i(e)||/windows phone/i.test(e)||Xi(e)}function ia(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Gi(jt());break;case"Worker":t="".concat(Gi(jt()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Wn,"/").concat(r)}var aa=function(){function e(t,n,r){dt(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ua(this),this.idTokenSubscription=new ua(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Vr,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return vt(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=$r(t)),this._initializationPromise=this.queue(lt(ht().mark((function r(){var i,a;return ht().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Wi.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=lt(ht().mark((function e(){var t;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=lt(ht().mark((function e(t){var n,r,i,a,o;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,!t||!this.config.authDomain){e.next=12;break}return e.next=6,this.getOrInitRedirectPersistenceManager();case 6:return i=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,e.next=10,this.tryRedirectSignIn(t);case 10:o=e.sent,i&&i!==a||!(null===o||void 0===o?void 0:o.user)||(r=o.user);case 12:if(r){e.next=14;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 14:if(r._redirectEventId){e.next=16;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 16:return Qr(this._popupRedirectResolver,this,"argument-error"),e.next=19,this.getOrInitRedirectPersistenceManager();case 19:if(!this.redirectUser||this.redirectUser._redirectEventId!==r._redirectEventId){e.next=21;break}return e.abrupt("return",this.directlySetCurrentUser(r));case 21:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=lt(ht().mark((function e(t){var n;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=lt(ht().mark((function e(t){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pi(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=lt(ht().mark((function e(){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=lt(ht().mark((function e(t){var n;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?on(t):null)&&Qr(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=lt(ht().mark((function e(t){var n=this;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return t&&Qr(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e.abrupt("return",this.queue(lt(ht().mark((function e(){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.directlySetCurrentUser(t);case 2:n.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=lt(ht().mark((function e(){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=3;break}return e.next=3,this._setRedirectUser(null);case 3:return e.abrupt("return",this._updateCurrentUser(null));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(lt(ht().mark((function n(){return ht().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence($r(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Kt("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=lt(ht().mark((function e(t,n){var r;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=lt(ht().mark((function e(t){var n;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Qr(n=t&&$r(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Wi.create(this,[$r(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=lt(ht().mark((function e(t){var n,r;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(lt(ht().mark((function e(){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=lt(ht().mark((function e(t){var n=this;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(lt(ht().mark((function e(){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Qr(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=lt(ht().mark((function e(t){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Qr(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ia(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=lt(ht().mark((function e(){var t,n,r;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ye({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function oa(e){return on(e)}var ua=function(){function e(t){var n=this;dt(this,e),this.auth=t,this.observer=null,this.addObserver=nn((function(e){return n.observer=e}))}return vt(e,[{key:"next",get:function(){return Qr(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function sa(e,t,n){var r=oa(e);Qr(r._canInitEmulator,r,"emulator-config-failed"),Qr(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=ca(t),o=function(e){var t=ca(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:la(r.substr(a.length+1))}}var o=wt(r.split(":"),2);return{host:o[0],port:la(o[1])}}(t),u=o.host,s=o.port,c=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function ca(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function la(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var fa=function(){function e(t,n){dt(this,e),this.providerId=t,this.signInMethod=n}return vt(e,[{key:"toJSON",value:function(){return Yr("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Yr("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Yr("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Yr("not implemented")}}]),e}();function ha(e,t){return da.apply(this,arguments)}function da(){return da=lt(ht().mark((function e(t,n){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",si(t,"POST","/v1/accounts:resetPassword",ui(t,n)));case 1:case"end":return e.stop()}}),e)}))),da.apply(this,arguments)}function pa(e,t){return va.apply(this,arguments)}function va(){return va=lt(ht().mark((function e(t,n){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",si(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),va.apply(this,arguments)}function ya(e,t){return ma.apply(this,arguments)}function ma(){return ma=lt(ht().mark((function e(t,n){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",si(t,"POST","/v1/accounts:update",ui(t,n)));case 1:case"end":return e.stop()}}),e)}))),ma.apply(this,arguments)}function ga(e,t){return ka.apply(this,arguments)}function ka(){return ka=lt(ht().mark((function e(t,n){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hi(t,"POST","/v1/accounts:signInWithPassword",ui(t,n)));case 1:case"end":return e.stop()}}),e)}))),ka.apply(this,arguments)}function ba(e,t){return wa.apply(this,arguments)}function wa(){return wa=lt(ht().mark((function e(t,n){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",si(t,"POST","/v1/accounts:sendOobCode",ui(t,n)));case 1:case"end":return e.stop()}}),e)}))),wa.apply(this,arguments)}function xa(e,t){return Ea.apply(this,arguments)}function Ea(){return Ea=lt(ht().mark((function e(t,n){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ba(t,n));case 1:case"end":return e.stop()}}),e)}))),Ea.apply(this,arguments)}function _a(e,t){return Sa.apply(this,arguments)}function Sa(){return Sa=lt(ht().mark((function e(t,n){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ba(t,n));case 1:case"end":return e.stop()}}),e)}))),Sa.apply(this,arguments)}function Ia(e,t){return Ta.apply(this,arguments)}function Ta(){return Ta=lt(ht().mark((function e(t,n){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ba(t,n));case 1:case"end":return e.stop()}}),e)}))),Ta.apply(this,arguments)}function Ca(e,t){return Aa.apply(this,arguments)}function Aa(){return Aa=lt(ht().mark((function e(t,n){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ba(t,n));case 1:case"end":return e.stop()}}),e)}))),Aa.apply(this,arguments)}function Na(e,t){return Oa.apply(this,arguments)}function Oa(){return Oa=lt(ht().mark((function e(t,n){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hi(t,"POST","/v1/accounts:signInWithEmailLink",ui(t,n)));case 1:case"end":return e.stop()}}),e)}))),Oa.apply(this,arguments)}function Pa(e,t){return Da.apply(this,arguments)}function Da(){return Da=lt(ht().mark((function e(t,n){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hi(t,"POST","/v1/accounts:signInWithEmailLink",ui(t,n)));case 1:case"end":return e.stop()}}),e)}))),Da.apply(this,arguments)}var Ra=function(e){Et(n,e);var t=Ct(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return dt(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return vt(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=lt(ht().mark((function e(t){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",ga(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Na(t,{email:this._email,oobCode:this._password}));case 5:qr(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=lt(ht().mark((function e(t,n){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",pa(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Pa(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:qr(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(fa);function La(e,t){return Ma.apply(this,arguments)}function Ma(){return Ma=lt(ht().mark((function e(t,n){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hi(t,"POST","/v1/accounts:signInWithIdp",ui(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ma.apply(this,arguments)}var Fa=function(e){Et(n,e);var t=Ct(n);function n(){var e;return dt(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return vt(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return La(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,La(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,La(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Zt(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):qr("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=_r(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(fa);function Ua(e,t){return ja.apply(this,arguments)}function ja(){return ja=lt(ht().mark((function e(t,n){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",si(t,"POST","/v1/accounts:sendVerificationCode",ui(t,n)));case 1:case"end":return e.stop()}}),e)}))),ja.apply(this,arguments)}function Va(){return Va=lt(ht().mark((function e(t,n){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hi(t,"POST","/v1/accounts:signInWithPhoneNumber",ui(t,n)));case 1:case"end":return e.stop()}}),e)}))),Va.apply(this,arguments)}function Ba(){return Ba=lt(ht().mark((function e(t,n){var r;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hi(t,"POST","/v1/accounts:signInWithPhoneNumber",ui(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw yi(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),Ba.apply(this,arguments)}var za=Ye({},"USER_NOT_FOUND","user-not-found");function qa(){return qa=lt(ht().mark((function e(t,n){var r;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",hi(t,"POST","/v1/accounts:signInWithPhoneNumber",ui(t,r),za));case 2:case"end":return e.stop()}}),e)}))),qa.apply(this,arguments)}var Ha=function(e){Et(n,e);var t=Ct(n);function n(e){var r;return dt(this,n),(r=t.call(this,"phone","phone")).params=e,r}return vt(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Va.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Ba.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return qa.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(fa);var Wa=function(){function e(t){var n,r,i,a,o,u;dt(this,e);var s=en(tn(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);Qr(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return vt(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=en(tn(e)).link,n=t?en(tn(t)).deep_link_id:null,r=en(tn(e)).deep_link_id;return(r?en(tn(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(Bx){return null}}}]),e}();var Ga=function(){function e(){dt(this,e),this.providerId=e.PROVIDER_ID}return vt(e,null,[{key:"credential",value:function(e,t){return Ra._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Wa.parseLink(t);return Qr(n,"argument-error"),Ra._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Ga.PROVIDER_ID="password",Ga.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Ga.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Ka=function(){function e(t){dt(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return vt(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Qa=function(e){Et(n,e);var t=Ct(n);function n(){var e;return dt(this,n),(e=t.apply(this,arguments)).scopes=[],e}return vt(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return dn(this.scopes)}}]),n}(Ka),Ya=function(e){Et(n,e);var t=Ct(n);function n(){return dt(this,n),t.apply(this,arguments)}return vt(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return Qr(e.idToken||e.accessToken,"argument-error"),Fa._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return Qr("providerId"in t&&"signInMethod"in t,"argument-error"),Fa._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(Qa),Xa=function(e){Et(n,e);var t=Ct(n);function n(){return dt(this,n),t.call(this,"facebook.com")}return vt(n,null,[{key:"credential",value:function(e){return Fa._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(Bx){return null}}}]),n}(Qa);Xa.FACEBOOK_SIGN_IN_METHOD="facebook.com",Xa.PROVIDER_ID="facebook.com";var Ja=function(e){Et(n,e);var t=Ct(n);function n(){var e;return dt(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return vt(n,null,[{key:"credential",value:function(e,t){return Fa._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(Bx){return null}}}]),n}(Qa);Ja.GOOGLE_SIGN_IN_METHOD="google.com",Ja.PROVIDER_ID="google.com";var $a=function(e){Et(n,e);var t=Ct(n);function n(){return dt(this,n),t.call(this,"github.com")}return vt(n,null,[{key:"credential",value:function(e){return Fa._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(Bx){return null}}}]),n}(Qa);$a.GITHUB_SIGN_IN_METHOD="github.com",$a.PROVIDER_ID="github.com";var Za=function(e){Et(n,e);var t=Ct(n);function n(e,r){var i;return dt(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return vt(n,[{key:"_getIdTokenResponse",value:function(e){return La(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,La(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,La(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(fa),eo=function(e){Et(n,e);var t=Ct(n);function n(e){return dt(this,n),Qr(e.startsWith("saml."),"argument-error"),t.call(this,e)}return vt(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=Za.fromJSON(e);return Qr(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return Za._create(r,n)}catch(i){return null}}}]),n}(Ka),to=function(e){Et(n,e);var t=Ct(n);function n(){return dt(this,n),t.call(this,"twitter.com")}return vt(n,null,[{key:"credential",value:function(e,t){return Fa._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(Bx){return null}}}]),n}(Qa);function no(e,t){return ro.apply(this,arguments)}function ro(){return ro=lt(ht().mark((function e(t,n){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hi(t,"POST","/v1/accounts:signUp",ui(t,n)));case 1:case"end":return e.stop()}}),e)}))),ro.apply(this,arguments)}to.TWITTER_SIGN_IN_METHOD="twitter.com",to.PROVIDER_ID="twitter.com";var io=function(){function e(t){dt(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return vt(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=lt(ht().mark((function t(n,r,i){var a,o,u,s,c=arguments;return ht().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,Bi._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=ao(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=lt(ht().mark((function t(n,r,i){var a;return ht().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=ao(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function ao(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function oo(){return oo=lt(ht().mark((function e(t){var n,r,i,a;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=oa(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new io({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,no(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,io._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),oo.apply(this,arguments)}var uo=function(e){Et(n,e);var t=Ct(n);function n(e,r,i,a){var o,u;return dt(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(xt(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return vt(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Gt);function so(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw uo._fromErrorAndOperation(e,n,t,r);throw n}))}function co(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function lo(e,t){return fo.apply(this,arguments)}function fo(){return fo=lt(ht().mark((function e(t,n){var r,i,a,o;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=on(t),e.next=3,vo(!0,r,n);case 3:return e.t0=ki,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=co(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),fo.apply(this,arguments)}function ho(e,t){return po.apply(this,arguments)}function po(){return po=lt(ht().mark((function e(t,n){var r,i,a=arguments;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Ti,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",io._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),po.apply(this,arguments)}function vo(e,t,n){return yo.apply(this,arguments)}function yo(){return yo=lt(ht().mark((function e(t,n,r){var i,a;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pi(n);case 2:i=co(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",Qr(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)}))),yo.apply(this,arguments)}function mo(e,t){return go.apply(this,arguments)}function go(){return go=lt(ht().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,Ti(t,so(i,a,n,t),r);case 6:return Qr((o=e.sent).idToken,i,"internal-error"),Qr(u=Ii(o.idToken),i,"internal-error"),s=u.sub,Qr(t.uid===s,i,"user-mismatch"),e.abrupt("return",io._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&qr(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),go.apply(this,arguments)}function ko(e,t){return bo.apply(this,arguments)}function bo(){return bo=lt(ht().mark((function e(t,n){var r,i,a,o,u=arguments;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,so(t,i,n);case 4:return a=e.sent,e.next=7,io._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),bo.apply(this,arguments)}function wo(e,t){return xo.apply(this,arguments)}function xo(){return xo=lt(ht().mark((function e(t,n){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ko(oa(t),n));case 1:case"end":return e.stop()}}),e)}))),xo.apply(this,arguments)}function Eo(e,t){return _o.apply(this,arguments)}function _o(){return(_o=lt(ht().mark((function e(t,n){var r;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=on(t),e.next=3,vo(!1,r,n.providerId);case 3:return e.abrupt("return",ho(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function So(e,t){return Io.apply(this,arguments)}function Io(){return(Io=lt(ht().mark((function e(t,n){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",mo(on(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function To(e,t){return Co.apply(this,arguments)}function Co(){return Co=lt(ht().mark((function e(t,n){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hi(t,"POST","/v1/accounts:signInWithCustomToken",ui(t,n)));case 1:case"end":return e.stop()}}),e)}))),Co.apply(this,arguments)}function Ao(){return Ao=lt(ht().mark((function e(t,n){var r,i,a;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=oa(t),e.next=3,To(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,io._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),Ao.apply(this,arguments)}var No=function(){function e(t,n){dt(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return vt(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?Oo._fromServerResponse(e,t):qr(e,"internal-error")}}]),e}(),Oo=function(e){Et(n,e);var t=Ct(n);function n(e){var r;return dt(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return vt(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(No);function Po(e,t,n){var r;Qr((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Qr("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Qr(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Qr(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function Do(){return Do=lt(ht().mark((function e(t,n,r){var i,a;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=on(t),a={requestType:"PASSWORD_RESET",email:n},r&&Po(i,a,r),e.next=5,_a(i,a);case 5:case"end":return e.stop()}}),e)}))),Do.apply(this,arguments)}function Ro(){return Ro=lt(ht().mark((function e(t,n,r){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ha(on(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),Ro.apply(this,arguments)}function Lo(){return Lo=lt(ht().mark((function e(t,n){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ya(on(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),Lo.apply(this,arguments)}function Mo(e,t){return Fo.apply(this,arguments)}function Fo(){return Fo=lt(ht().mark((function e(t,n){var r,i,a,o;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=on(t),e.next=3,ha(r,{oobCode:n});case 3:i=e.sent,Qr(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return Qr(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:Qr(i.mfaInfo,r,"internal-error");case 13:Qr(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=No._fromServerResponse(oa(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),Fo.apply(this,arguments)}function Uo(){return Uo=lt(ht().mark((function e(t,n){var r,i;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mo(on(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),Uo.apply(this,arguments)}function jo(e,t,n){return Vo.apply(this,arguments)}function Vo(){return Vo=lt(ht().mark((function e(t,n,r){var i,a,o;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=oa(t),e.next=3,no(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,io._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),Vo.apply(this,arguments)}function Bo(){return Bo=lt(ht().mark((function e(t,n,r){var i,a;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=on(t),a={requestType:"EMAIL_SIGNIN",email:n},Qr(r.handleCodeInApp,i,"argument-error"),r&&Po(i,a,r),e.next=6,Ia(i,a);case 6:case"end":return e.stop()}}),e)}))),Bo.apply(this,arguments)}function zo(){return zo=lt(ht().mark((function e(t,n,r){var i,a;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=on(t),Qr((a=Ga.credentialWithLink(n,r||Zr()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",wo(i,a));case 4:case"end":return e.stop()}}),e)}))),zo.apply(this,arguments)}function qo(e,t){return Ho.apply(this,arguments)}function Ho(){return Ho=lt(ht().mark((function e(t,n){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",si(t,"POST","/v1/accounts:createAuthUri",ui(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ho.apply(this,arguments)}function Wo(){return Wo=lt(ht().mark((function e(t,n){var r,i,a,o;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ei()?Zr():"http://localhost",i={identifier:n,continueUri:r},e.next=4,qo(on(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),Wo.apply(this,arguments)}function Go(){return(Go=lt(ht().mark((function e(t,n){var r,i,a,o;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=on(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&Po(r.auth,a,n),e.next=8,xa(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ko(){return(Ko=lt(ht().mark((function e(t,n,r){var i,a,o,u;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=on(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&Po(i.auth,o,r),e.next=8,Ca(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qo(e,t){return Yo.apply(this,arguments)}function Yo(){return Yo=lt(ht().mark((function e(t,n){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",si(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Yo.apply(this,arguments)}function Xo(){return(Xo=lt(ht().mark((function e(t,n){var r,i,a,o,u,s,c;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=on(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,Ti(a,Qo(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Jo(e,t,n){return $o.apply(this,arguments)}function $o(){return $o=lt(ht().mark((function e(t,n,r){var i,a,o,u;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,Ti(t,pa(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)}))),$o.apply(this,arguments)}var Zo=vt((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};dt(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),eu=function(e){Et(n,e);var t=Ct(n);function n(e,r,i,a){var o;return dt(this,n),(o=t.call(this,e,r,i)).username=a,o}return vt(n)}(Zo),tu=function(e){Et(n,e);var t=Ct(n);function n(e,r){return dt(this,n),t.call(this,e,"facebook.com",r)}return vt(n)}(Zo),nu=function(e){Et(n,e);var t=Ct(n);function n(e,r){return dt(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return vt(n)}(eu),ru=function(e){Et(n,e);var t=Ct(n);function n(e,r){return dt(this,n),t.call(this,e,"google.com",r)}return vt(n)}(Zo),iu=function(e){Et(n,e);var t=Ct(n);function n(e,r,i){return dt(this,n),t.call(this,e,"twitter.com",r,i)}return vt(n)}(eu);function au(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=Ii(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new Zo(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new tu(a,i);case"github.com":return new nu(a,i);case"google.com":return new ru(a,i);case"twitter.com":return new iu(a,i,e.screenName||null);case"custom":case"anonymous":return new Zo(a,null);default:return new Zo(a,r,i)}}(n)}var ou=function(){function e(t,n){dt(this,e),this.type=t,this.credential=n}return vt(e,[{key:"toJSON",value:function(){return{multiFactorSession:Ye({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),uu=function(){function e(t,n,r){dt(this,e),this.session=t,this.hints=n,this.signInResolver=r}return vt(e,[{key:"resolveSignIn",value:function(){var e=lt(ht().mark((function e(t){var n;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=oa(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return No._fromServerResponse(r,e)}));Qr(i.mfaPendingCredential,r,"internal-error");var o=ou._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=lt(ht().mark((function e(t){var a,u,s;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,io._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return Qr(n.user,r,"internal-error"),e.abrupt("return",io._forOperation(n.user,n.operationType,u));case 17:qr(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function su(e,t){return si(e,"POST","/v2/accounts/mfaEnrollment:start",ui(e,t))}function cu(e,t){return si(e,"POST","/v2/accounts/mfaEnrollment:withdraw",ui(e,t))}var lu=function(){function e(t){var n=this;dt(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return No._fromServerResponse(t.auth,e)})))}))}return vt(e,[{key:"getSession",value:function(){var e=lt(ht().mark((function e(){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=ou,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=lt(ht().mark((function e(t,n){var r,i,a;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,Ti(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=lt(ht().mark((function e(t){var n,r,i;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,Ti(this.user,cu(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),e.t0.code==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),fu=new WeakMap;var hu="__sak",du=function(){function e(t,n){dt(this,e),this.storageRetriever=t,this.type=n}return vt(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(hu,"1"),this.storage.removeItem(hu),Promise.resolve(!0)):Promise.resolve(!1)}catch(Bx){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var pu=function(e){Et(n,e);var t=Ct(n);function n(){var e;return dt(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=jt();return Qi(e)||ea(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=ra(),e._shouldAllowMigration=!0,e}return vt(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);na()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=lt(ht().mark((function e(t,r){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Er(_t(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=lt(ht().mark((function e(t){var r;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Er(_t(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=lt(ht().mark((function e(t){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Er(_t(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(du);pu.type="LOCAL";var vu=pu,yu=function(e){Et(n,e);var t=Ct(n);function n(){return dt(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return vt(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(du);yu.type="SESSION";var mu=yu;function gu(e){return Promise.all(e.map(function(){var e=lt(ht().mark((function e(t){var n;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var ku=function(){function e(t){dt(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return vt(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=lt(ht().mark((function e(t){var n,r,i,a,o,u,s,c;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=lt(ht().mark((function e(t){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,gu(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function bu(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}ku.receivers=[];var wu=function(){function e(t){dt(this,e),this.target=t,this.handlers=new Set}return vt(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=lt(ht().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=bu("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function xu(){return window}function Eu(){return"undefined"!==typeof xu().WorkerGlobalScope&&"function"===typeof xu().importScripts}function _u(){return Su.apply(this,arguments)}function Su(){return(Su=lt(ht().mark((function e(){var t;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Iu(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Tu="firebaseLocalStorageDb",Cu="firebaseLocalStorage",Au="fbase_key",Nu=function(){function e(t){dt(this,e),this.request=t}return vt(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Ou(e,t){return e.transaction([Cu],t?"readwrite":"readonly").objectStore(Cu)}function Pu(){var e=indexedDB.deleteDatabase(Tu);return new Nu(e).toPromise()}function Du(){var e=indexedDB.open(Tu,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Cu,{keyPath:Au})}catch(r){n(r)}})),e.addEventListener("success",lt(ht().mark((function n(){var r;return ht().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Cu)){n.next=12;break}return r.close(),n.next=5,Pu();case 5:return n.t0=t,n.next=8,Du();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Ru(e,t,n){return Lu.apply(this,arguments)}function Lu(){return Lu=lt(ht().mark((function e(t,n,r){var i,a;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Ou(t,!0).put((Ye(i={},Au,n),Ye(i,"value",r),i)),e.abrupt("return",new Nu(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),Lu.apply(this,arguments)}function Mu(e,t){return Fu.apply(this,arguments)}function Fu(){return Fu=lt(ht().mark((function e(t,n){var r,i;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ou(t,!1).get(n),e.next=3,new Nu(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),Fu.apply(this,arguments)}function Uu(e,t){var n=Ou(e,!0).delete(t);return new Nu(n).toPromise()}var ju=function(){function e(){dt(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return vt(e,[{key:"_openDb",value:function(){var e=lt(ht().mark((function e(){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Du();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=lt(ht().mark((function e(t){var n,r;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=lt(ht().mark((function e(){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Eu()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=lt(ht().mark((function e(){var t=this;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=ku._getInstance(Eu()?self:null),this.receiver._subscribe("keyChanged",function(){var e=lt(ht().mark((function e(n,r){var i;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=lt(ht().mark((function e(t,n){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=lt(ht().mark((function e(){var t,n,r;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_u();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new wu(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=lt(ht().mark((function e(t){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Iu()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=lt(ht().mark((function e(){var t;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Du();case 5:return t=e.sent,e.next=8,Ru(t,hu,"1");case 8:return e.next=10,Uu(t,hu);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=lt(ht().mark((function e(t){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=lt(ht().mark((function e(t,n){var r=this;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(lt(ht().mark((function e(){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Ru(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=lt(ht().mark((function e(t){var n;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Mu(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=lt(ht().mark((function e(t){var n=this;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(lt(ht().mark((function e(){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Uu(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=lt(ht().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Ou(e,!1).getAll();return new Nu(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=gt(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(lt(ht().mark((function t(){return ht().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();ju.type="LOCAL";var Vu=ju;function Bu(e,t){return si(e,"POST","/v2/accounts/mfaSignIn:start",ui(e,t))}function zu(e){return qu.apply(this,arguments)}function qu(){return qu=lt(ht().mark((function e(t){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,si(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),qu.apply(this,arguments)}function Hu(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Hr("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Wu(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var Gu=1e12,Ku=function(){function e(t){dt(this,e),this.auth=t,this.counter=Gu,this._widgets=new Map}return vt(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new Qu(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||Gu;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||Gu;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=lt(ht().mark((function e(t){var n,r;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||Gu,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Qu=function(){function e(t,n,r){var i=this;dt(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;Qr(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return vt(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var Yu=Wu("rcb"),Xu=new ni(3e4,6e4),Ju="https://www.google.com/recaptcha/api.js?",$u=function(){function e(){dt(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!xu().grecaptcha}return vt(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Qr(Zu(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(xu().grecaptcha):new Promise((function(r,i){var a=xu().setTimeout((function(){i(Hr(e,"network-request-failed"))}),Xu.get());xu()[Yu]=function(){xu().clearTimeout(a),delete xu()[Yu];var o=xu().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(Hr(e,"internal-error"))},Hu("".concat(Ju,"?").concat(Zt({onload:Yu,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(Hr(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!xu().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function Zu(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var es=function(){function e(){dt(this,e)}return vt(e,[{key:"load",value:function(){var e=lt(ht().mark((function e(t){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Ku(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),ts="recaptcha",ns={theme:"light",type:"image"},rs=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},ns),r=arguments.length>2?arguments[2]:void 0;dt(this,e),this.parameters=n,this.type=ts,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=oa(r),this.isInvisible="invisible"===this.parameters.size,Qr("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;Qr(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new es:new $u,this.validateStartingState()}return vt(e,[{key:"verify",value:function(){var e=lt(ht().mark((function e(){var t,n,r,i=this;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){Qr(!this.parameters.sitekey,this.auth,"argument-error"),Qr(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Qr("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=xu()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){Qr(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=lt(ht().mark((function e(){var t,n;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=lt(ht().mark((function e(){var t;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Qr(ei()&&!Eu(),this.auth,"internal-error"),e.next=3,is();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,zu(this.auth);case 8:Qr(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return Qr(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function is(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var as=function(){function e(t,n){dt(this,e),this.verificationId=t,this.onConfirmation=n}return vt(e,[{key:"confirm",value:function(e){var t=Ha._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function os(){return os=lt(ht().mark((function e(t,n,r){var i,a;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=oa(t),e.next=3,ls(i,n,on(r));case 3:return a=e.sent,e.abrupt("return",new as(a,(function(e){return wo(i,e)})));case 5:case"end":return e.stop()}}),e)}))),os.apply(this,arguments)}function us(e,t,n){return ss.apply(this,arguments)}function ss(){return(ss=lt(ht().mark((function e(t,n,r){var i,a;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=on(t),e.next=3,vo(!1,i,"phone");case 3:return e.next=5,ls(i.auth,n,on(r));case 5:return a=e.sent,e.abrupt("return",new as(a,(function(e){return Eo(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cs(){return(cs=lt(ht().mark((function e(t,n,r){var i,a;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=on(t),e.next=3,ls(i.auth,n,on(r));case 3:return a=e.sent,e.abrupt("return",new as(a,(function(e){return So(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ls(e,t,n){return fs.apply(this,arguments)}function fs(){return fs=lt(ht().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Qr("string"===typeof a,t,"argument-error"),Qr(r.type===ts,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return Qr("enroll"===u.type,t,"internal-error"),e.next=13,su(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return Qr("signin"===u.type,t,"internal-error"),Qr(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Bu(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Ua(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),fs.apply(this,arguments)}function hs(){return(hs=lt(ht().mark((function e(t,n){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ho(on(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ds=function(){function e(t){dt(this,e),this.providerId=e.PROVIDER_ID,this.auth=oa(t)}return vt(e,[{key:"verifyPhoneNumber",value:function(e,t){return ls(this.auth,e,on(t))}}],[{key:"credential",value:function(e,t){return Ha._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Ha._fromTokenResponse(n,r):null}}]),e}();function ps(e,t){return t?$r(t):(Qr(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}ds.PROVIDER_ID="phone",ds.PHONE_SIGN_IN_METHOD="phone";var vs=function(e){Et(n,e);var t=Ct(n);function n(e){var r;return dt(this,n),(r=t.call(this,"custom","custom")).params=e,r}return vt(n,[{key:"_getIdTokenResponse",value:function(e){return La(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return La(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return La(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(fa);function ys(e){return ko(e.auth,new vs(e),e.bypassAuthState)}function ms(e){var t=e.auth,n=e.user;return Qr(n,t,"internal-error"),mo(n,new vs(e),e.bypassAuthState)}function gs(e){return ks.apply(this,arguments)}function ks(){return ks=lt(ht().mark((function e(t){var n,r;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Qr(r=t.user,n,"internal-error"),e.abrupt("return",ho(r,new vs(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),ks.apply(this,arguments)}var bs=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];dt(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return vt(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=lt(ht().mark((function t(n,r){return ht().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=lt(ht().mark((function e(t){var n,r,i,a,o,u,s;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ys;case"linkViaPopup":case"linkViaRedirect":return gs;case"reauthViaPopup":case"reauthViaRedirect":return ms;default:qr(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),ws=new ni(2e3,1e4);function xs(e,t,n){return Es.apply(this,arguments)}function Es(){return Es=lt(ht().mark((function e(t,n,r){var i,a,o;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=oa(t),Gr(t,n,Ka),a=ps(i,r),o=new Ts(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),Es.apply(this,arguments)}function _s(){return _s=lt(ht().mark((function e(t,n,r){var i,a,o;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Gr((i=on(t)).auth,n,Ka),a=ps(i.auth,r),o=new Ts(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),_s.apply(this,arguments)}function Ss(e,t,n){return Is.apply(this,arguments)}function Is(){return Is=lt(ht().mark((function e(t,n,r){var i,a,o;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Gr((i=on(t)).auth,n,Ka),a=ps(i.auth,r),o=new Ts(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),Is.apply(this,arguments)}var Ts=function(e){Et(n,e);var t=Ct(n);function n(e,r,i,a,o){var u;return dt(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=xt(u),u}return vt(n,[{key:"executeNotNull",value:function(){var e=lt(ht().mark((function e(){var t;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Qr(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=lt(ht().mark((function e(){var t,n=this;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Xr(1===this.filter.length,"Popup operations only handle one event"),t=bu(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Hr(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Hr(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Hr(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,ws.get())}()}}]),n}(bs);Ts.currentPopupAction=null;var Cs=new Map,As=function(e){Et(n,e);var t=Ct(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return dt(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return vt(n,[{key:"execute",value:function(){var e=lt(ht().mark((function e(){var t,r;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Cs.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Ns(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Er(_t(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Cs.set(this.auth._key(),t);case 21:return this.bypassAuthState||Cs.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=lt(ht().mark((function e(t){var r;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Er(_t(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Er(_t(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=lt(ht().mark((function e(){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(bs);function Ns(e,t){return Os.apply(this,arguments)}function Os(){return Os=lt(ht().mark((function e(t,n){var r,i,a;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ls(n),i=Rs(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),Os.apply(this,arguments)}function Ps(e,t){return Ds.apply(this,arguments)}function Ds(){return Ds=lt(ht().mark((function e(t,n){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Rs(t)._set(Ls(n),"true"));case 1:case"end":return e.stop()}}),e)}))),Ds.apply(this,arguments)}function Rs(e){return $r(e._redirectPersistence)}function Ls(e){return Hi("pendingRedirect",e.config.apiKey,e.name)}function Ms(e,t,n){return function(e,t,n){return Fs.apply(this,arguments)}(e,t,n)}function Fs(){return Fs=lt(ht().mark((function e(t,n,r){var i,a;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=oa(t),Gr(t,n,Ka),a=ps(i,r),e.next=5,Ps(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)}))),Fs.apply(this,arguments)}function Us(e,t,n){return function(e,t,n){return js.apply(this,arguments)}(e,t,n)}function js(){return js=lt(ht().mark((function e(t,n,r){var i,a,o;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Gr((i=on(t)).auth,n,Ka),a=ps(i.auth,r),e.next=5,Ps(a,i.auth);case 5:return e.next=7,Gs(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)}))),js.apply(this,arguments)}function Vs(e,t,n){return function(e,t,n){return Bs.apply(this,arguments)}(e,t,n)}function Bs(){return Bs=lt(ht().mark((function e(t,n,r){var i,a,o;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Gr((i=on(t)).auth,n,Ka),a=ps(i.auth,r),e.next=5,vo(!1,i,n.providerId);case 5:return e.next=7,Ps(a,i.auth);case 7:return e.next=9,Gs(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)}))),Bs.apply(this,arguments)}function zs(e,t){return qs.apply(this,arguments)}function qs(){return qs=lt(ht().mark((function e(t,n){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oa(t)._initializationPromise;case 2:return e.abrupt("return",Hs(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),qs.apply(this,arguments)}function Hs(e,t){return Ws.apply(this,arguments)}function Ws(){return Ws=lt(ht().mark((function e(t,n){var r,i,a,o,u,s=arguments;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=oa(t),a=ps(i,n),o=new As(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),Ws.apply(this,arguments)}function Gs(e){return Ks.apply(this,arguments)}function Ks(){return(Ks=lt(ht().mark((function e(t){var n;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=bu("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Qs=function(){function e(t){dt(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return vt(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Xs(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Xs(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Hr(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ys(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Ys(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Ys(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Xs(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Js(e){return $s.apply(this,arguments)}function $s(){return $s=lt(ht().mark((function e(t){var n,r=arguments;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",si(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),$s.apply(this,arguments)}var Zs=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ec=/^https?/;function tc(){return tc=lt(ht().mark((function e(t){var n,r,i,a,o;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Js(t);case 4:n=e.sent,r=n.authorizedDomains,i=gt(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!nc(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:qr(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),tc.apply(this,arguments)}function nc(e){var t=Zr(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!ec.test(r))return!1;if(Zs.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var rc=new ni(3e4,6e4);function ic(){var e=xu().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=dn(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var ac=null;function oc(e){return ac=ac||function(e){return new Promise((function(t,n){var r,i,a;function o(){ic(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){ic(),n(Hr(e,"network-request-failed"))},timeout:rc.get()})}if(null===(i=null===(r=xu().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=xu().gapi)||void 0===a?void 0:a.load)){var u=Wu("iframefcb");return xu()[u]=function(){gapi.load?o():n(Hr(e,"network-request-failed"))},Hu("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw ac=null,e}))}(e),ac}var uc=new ni(5e3,15e3),sc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lc(e){var t=e.config;Qr(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?ri(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Wn},i=cc.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Zt(r).slice(1))}function fc(e){return hc.apply(this,arguments)}function hc(){return hc=lt(ht().mark((function e(t){var n,r;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oc(t);case 2:return n=e.sent,Qr(r=xu().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:lc(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sc,dontclear:!0},(function(e){return new Promise(function(){var n=lt(ht().mark((function n(r,i){var a,o,u;return ht().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){xu().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Hr(t,"network-request-failed"),o=xu().setTimeout((function(){i(a)}),uc.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),hc.apply(this,arguments)}var dc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},pc="_blank",vc="http://localhost",yc=function(){function e(t){dt(this,e),this.window=t,this.associatedEvent=null}return vt(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function mc(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},dc),{width:r.toString(),height:i.toString(),top:a,left:o}),c=jt().toLowerCase();n&&(u=Yi(c)?pc:n),Ki(c)&&(t=t||vc,s.scrollbars="yes");var l=Object.entries(s).reduce((function(e,t){var n=wt(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(ta(c)&&"_self"!==u)return gc(t||"",u),new yc(null);var f=window.open(t||"",u,l);Qr(f,e,"popup-blocked");try{f.focus()}catch(h){}return new yc(f)}function gc(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var kc="__/auth/handler",bc="emulator/auth/handler";function wc(e,t,n,r,i,a){Qr(e.config.authDomain,e,"auth-domain-config-required"),Qr(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Wn,eventId:i};if(t instanceof Ka){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var c=wt(s[u],2),l=c[0],f=c[1];o[l]=f}}if(t instanceof Qa){var h=t.getScopes().filter((function(e){return""!==e}));h.length>0&&(o.scopes=h.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var d=o,p=0,v=Object.keys(d);p<v.length;p++){var y=v[p];void 0===d[y]&&delete d[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(kc);return ri(t,bc)}(e),"?").concat(Zt(d).slice(1))}var xc="webStorageSupport",Ec=function(){function e(){dt(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=mu,this._completeRedirectFn=Hs}return vt(e,[{key:"_openPopup",value:function(){var e=lt(ht().mark((function e(t,n,r,i){var a,o;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Xr(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=wc(t,n,r,Zr(),i),e.abrupt("return",mc(t,o,bu()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=lt(ht().mark((function e(t,n,r,i){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=wc(t,n,r,Zr(),i),xu().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Xr(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=lt(ht().mark((function e(t){var n,r;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fc(t);case 2:return n=e.sent,r=new Qs(t),n.register("authEvent",(function(e){return Qr(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(xc,{type:xc},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),qr(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return tc.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return ra()||Qi()||ea()}}]),e}(),_c=Ec,Sc=function(){function e(t){dt(this,e),this.factorId=t}return vt(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Yr("unexpected MultiFactorSessionType")}}}]),e}(),Ic=function(e){Et(n,e);var t=Ct(n);function n(e){var r;return dt(this,n),(r=t.call(this,"phone")).credential=e,r}return vt(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return si(e,"POST","/v2/accounts/mfaEnrollment:finalize",ui(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return si(e,"POST","/v2/accounts/mfaSignIn:finalize",ui(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(Sc),Tc=function(){function e(){dt(this,e)}return vt(e,null,[{key:"assertion",value:function(e){return Ic._fromCredential(e)}}]),e}();Tc.FACTOR_ID="phone";var Cc,Ac="@firebase/auth",Nc="0.19.10",Oc=function(){function e(t){dt(this,e),this.auth=t,this.internalListeners=new Map}return vt(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=lt(ht().mark((function e(t){var n;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Qr(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function Pc(){return window}Cc="Browser",Un(new pn("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){Qr(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),Qr(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:Cc,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ia(Cc)},i=new aa(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map($r);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Un(new pn("auth-internal",(function(e){return function(e){return new Oc(e)}(oa(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Jn(Ac,Nc,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Cc)),Jn(Ac,Nc,"esm2017");function Dc(e,t,n){return Rc.apply(this,arguments)}function Rc(){return Rc=lt(ht().mark((function e(t,n,r){var i,a,o,u,s;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Pc(),o=a.BuildInfo,Xr(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,Vc(n.sessionId);case 4:return u=e.sent,s={},ea()?s.ibi=o.packageName:Ji()?s.apn=o.packageName:qr(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",wc(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),Rc.apply(this,arguments)}function Lc(){return Lc=lt(ht().mark((function e(t){var n,r,i;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Pc(),r=n.BuildInfo,i={},ea()?i.iosBundleId=r.packageName:Ji()?i.androidPackageName=r.packageName:qr(t,"operation-not-supported-in-this-environment"),e.next=5,Js(t,i);case 5:case"end":return e.stop()}}),e)}))),Lc.apply(this,arguments)}function Mc(e){var t=Pc().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function Fc(e,t,n){return Uc.apply(this,arguments)}function Uc(){return Uc=lt(ht().mark((function e(t,n,r){var i,a,o;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Pc(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(Hr(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),Ji()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),Uc.apply(this,arguments)}function jc(e){var t,n,r,i,a,o,u,s,c,l,f=Pc();Qr("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Qr("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Qr("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Qr("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Qr("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function Vc(e){return Bc.apply(this,arguments)}function Bc(){return(Bc=lt(ht().mark((function e(t){var n,r,i;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=zc(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zc(e){if(Xr(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var qc=function(e){Et(n,e);var t=Ct(n);function n(){var e;return dt(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return vt(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Er(_t(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=lt(ht().mark((function e(){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Qs);function Hc(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:Yc(),postBody:null,tenantId:e.tenantId,error:Hr(e,"no-auth-event")}}function Wc(e,t){return Xc()._set(Jc(e),t)}function Gc(e){return Kc.apply(this,arguments)}function Kc(){return Kc=lt(ht().mark((function e(t){var n;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xc()._get(Jc(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,Xc()._remove(Jc(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),Kc.apply(this,arguments)}function Qc(e,t){var n,r,i=function(e){var t=$c(e),n=t.link?decodeURIComponent(t.link):void 0,r=$c(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return $c(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=$c(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?Hr(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Yc(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function Xc(){return $r(vu)}function Jc(e){return Hi("authEvent",e.config.apiKey,e.name)}function $c(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=kt(t=n)||hn(t)||mt(t)||bt();r[0];return en(r.slice(1).join("?"))}var Zc=function(){function e(){dt(this,e),this._redirectPersistence=mu,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Hs}return vt(e,[{key:"_initialize",value:function(){var e=lt(ht().mark((function e(t){var n,r;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new qc(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){qr(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=lt(ht().mark((function e(t,n,r,i){var a,o,u,s;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return jc(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),Cs.clear(),e.next=10,this._originValidation(t);case 10:return o=Hc(t,r,i),e.next=13,Wc(t,o);case 13:return e.next=15,Dc(t,o,n);case 15:return u=e.sent,e.next=18,Mc(u);case 18:return s=e.sent,e.abrupt("return",Fc(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Lc.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=Pc(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(lt(ht().mark((function n(){return ht().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Gc(e);case 2:t.onEvent(tl());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=lt(ht().mark((function n(r){var i,a;return ht().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,Gc(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=Qc(i,r.url)),t.onEvent(a||tl());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");Pc().handleOpenURL=function(){var e=lt(ht().mark((function e(t){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),el=Zc;function tl(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Hr("no-auth-event")}}function nl(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function rl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt();return!("file:"!==nl()&&"ionic:"!==nl()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function il(){return Ht()&&11===(null===document||void 0===document?void 0:document.documentMode)}function al(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt();return/Edge\/\d+/.test(e)}function ol(){try{var e=self.localStorage,t=bu();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt();return il()||al(e)}()||Wt()}catch(n){return ul()&&Wt()}return!1}function ul(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function sl(){return("http:"===nl()||"https:"===nl()||zt()||rl())&&!(qt()||Bt())&&ol()&&!ul()}function cl(){return rl()&&"undefined"!==typeof document}function ll(){return fl.apply(this,arguments)}function fl(){return(fl=lt(ht().mark((function e(){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(cl()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var hl={LOCAL:"local",NONE:"none",SESSION:"session"},dl=Qr,pl="persistence";function vl(e,t){dl(Object.values(hl).includes(t),e,"invalid-persistence-type"),qt()?dl(t!==hl.SESSION,e,"unsupported-persistence-type"):Bt()?dl(t===hl.NONE,e,"unsupported-persistence-type"):ul()?dl(t===hl.NONE||t===hl.LOCAL&&Wt(),e,"unsupported-persistence-type"):dl(t===hl.NONE||ol(),e,"unsupported-persistence-type")}function yl(e){return ml.apply(this,arguments)}function ml(){return ml=lt(ht().mark((function e(t){var n,r;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=gl(),r=Hi(pl,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),ml.apply(this,arguments)}function gl(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var kl=Qr,bl=function(){function e(){dt(this,e),this.browserResolver=$r(_c),this.cordovaResolver=$r(el),this.underlyingResolver=null,this._redirectPersistence=mu,this._completeRedirectFn=Hs}return vt(e,[{key:"_initialize",value:function(){var e=lt(ht().mark((function e(t){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=lt(ht().mark((function e(t,n,r,i){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=lt(ht().mark((function e(t,n,r,i){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return cl()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return kl(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=lt(ht().mark((function e(){var t;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,ll();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function wl(e){return e.unwrap()}function xl(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new Tl(e,function(e,t){var n,r=on(e),i=t;return Qr(t.customData.operationType,r,"argument-error"),Qr(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),uu._fromError(r,i)}(e,t));else if(r){var i=El(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function El(e){var t=(e instanceof Gt?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof Gt)&&"temporaryProof"in t&&"phoneNumber"in t)return ds.credentialFromResult(e);var n,r=t.providerId;if(!r||r===Ar)return null;switch(r){case Cr:n=Ja;break;case Ir:n=Xa;break;case Tr:n=$a;break;case Nr:n=to;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?Za._create(r,u):Fa._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new Ya(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof Gt?n.credentialFromError(e):n.credentialFromResult(e)}function _l(e,t){return t.catch((function(t){throw t instanceof Gt&&xl(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,El(t)),additionalUserInfo:au(e),user:Cl.getOrCreate(r)}}))}function Sl(e,t){return Il.apply(this,arguments)}function Il(){return Il=lt(ht().mark((function e(t,n){var r;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return _l(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),Il.apply(this,arguments)}var Tl=function(){function e(t,n){dt(this,e),this.resolver=n,this.auth=t.wrapped()}return vt(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return _l(wl(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),Cl=function(){function e(t){dt(this,e),this._delegate=t,this.multiFactor=function(e){var t=on(e);return fu.has(t)||fu.set(t,lu._fromUser(t)),fu.get(t)}(t)}return vt(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=lt(ht().mark((function e(t){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_l(this.auth,Eo(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=lt(ht().mark((function e(t,n){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sl(this.auth,us(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=lt(ht().mark((function e(t){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_l(this.auth,Ss(this._delegate,t,bl)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=lt(ht().mark((function e(t){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yl(oa(this.auth));case 2:return e.abrupt("return",Vs(this._delegate,t,bl));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=lt(ht().mark((function e(t){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_l(this.auth,So(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return Sl(this.auth,function(e,t,n){return cs.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return _l(this.auth,function(e,t,n){return _s.apply(this,arguments)}(this._delegate,e,bl))}},{key:"reauthenticateWithRedirect",value:function(){var e=lt(ht().mark((function e(t){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yl(oa(this.auth));case 2:return e.abrupt("return",Us(this._delegate,t,bl));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return Go.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=lt(ht().mark((function e(t){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lo(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return Jo(on(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return Jo(on(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return hs.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return Xo.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return Ko.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();Cl.USER_MAP=new WeakMap;var Al=Qr,Nl=function(){function e(t,n){if(dt(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;Al(r,"invalid-api-key",{appName:t.name}),Al(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?bl:void 0;this._delegate=n.initialize({options:{persistence:Pl(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(Ur),this.linkUnderlyingAuth()}return vt(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?Cl.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){sa(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return Lo.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return Mo(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return Ro.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=lt(ht().mark((function e(t,n){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_l(this._delegate,jo(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return Wo.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=Wa.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=lt(ht().mark((function e(){var t;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Al(sl(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,zs(this._delegate,bl);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",_l(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){oa(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=Ol(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=Ol(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return Bo.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return Do.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=lt(ht().mark((function e(t){var n,r;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:vl(this._delegate,t),e.t0=t,e.next=e.t0===hl.SESSION?4:e.t0===hl.LOCAL?6:e.t0===hl.NONE?11:13;break;case 4:return n=mu,e.abrupt("break",14);case 6:return e.next=8,$r(Vu)._isAvailable();case 8:return r=e.sent,n=r?Vu:vu,e.abrupt("break",14);case 11:return n=qi,e.abrupt("break",14);case 13:return e.abrupt("return",qr("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return _l(this._delegate,function(e){return oo.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return _l(this._delegate,wo(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return _l(this._delegate,function(e,t){return Ao.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return _l(this._delegate,function(e,t,n){return wo(on(e),Ga.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return _l(this._delegate,function(e,t,n){return zo.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return Sl(this._delegate,function(e,t,n){return os.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=lt(ht().mark((function e(t){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Al(sl(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",_l(this._delegate,xs(this._delegate,t,bl)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=lt(ht().mark((function e(t){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Al(sl(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,yl(this._delegate);case 3:return e.abrupt("return",Ms(this._delegate,t,bl));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return Uo.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function Ol(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&Cl.getOrCreate(e))},error:t,complete:n}}function Pl(e,t){var n=function(e,t){var n=gl();if(!n)return[];var r=Hi(pl,e,t);switch(n.getItem(r)){case hl.NONE:return[qi];case hl.LOCAL:return[Vu,mu];case hl.SESSION:return[mu];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(Vu)||n.push(Vu),"undefined"!==typeof window)for(var r=0,i=[vu,mu];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(qi)||n.push(qi),n}Nl.Persistence=hl;var Dl=function(){function e(){dt(this,e),this.providerId="phone",this._delegate=new ds(wl(wr.auth()))}return vt(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return ds.credential(e,t)}}]),e}();Dl.PHONE_SIGN_IN_METHOD=ds.PHONE_SIGN_IN_METHOD,Dl.PROVIDER_ID=ds.PROVIDER_ID;var Rl,Ll=Qr,Ml=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:wr.app();dt(this,e),Ll(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new rs(t,n,i.auth()),this.type=this._delegate.type}return vt(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(Rl=wr).INTERNAL.registerComponent(new pn("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Nl(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Or,PASSWORD_RESET:Pr,RECOVER_EMAIL:Dr,REVERT_SECOND_FACTOR_ADDITION:Rr,VERIFY_AND_CHANGE_EMAIL:Lr,VERIFY_EMAIL:Mr}},EmailAuthProvider:Ga,FacebookAuthProvider:Xa,GithubAuthProvider:$a,GoogleAuthProvider:Ja,OAuthProvider:Ya,SAMLAuthProvider:eo,PhoneAuthProvider:Dl,PhoneMultiFactorGenerator:Tc,RecaptchaVerifier:Ml,TwitterAuthProvider:to,Auth:Nl,AuthCredential:fa,Error:Gt}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Rl.registerVersion("@firebase/auth-compat","0.2.10");var Fl,Ul="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},jl={},Vl=Vl||{},Bl=Ul||self;function zl(){}function ql(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Hl(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Wl="closure_uid_"+(1e9*Math.random()>>>0),Gl=0;function Kl(e,t,n){return e.call.apply(e.bind,arguments)}function Ql(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Yl(e,t,n){return(Yl=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Kl:Ql).apply(null,arguments)}function Xl(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Jl(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function $l(){this.s=this.s,this.o=this.o}var Zl={};$l.prototype.s=!1,$l.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Wl)&&e[Wl]||(e[Wl]=++Gl)}(this);delete Zl[e]}},$l.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var ef=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},tf=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function nf(e){return Array.prototype.concat.apply([],arguments)}function rf(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function af(e){return/^[\s\xa0]*$/.test(e)}var of,uf=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function sf(e,t){return-1!=e.indexOf(t)}function cf(e,t){return e<t?-1:e>t?1:0}e:{var lf=Bl.navigator;if(lf){var ff=lf.userAgent;if(ff){of=ff;break e}}of=""}function hf(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function df(e){var t={};for(var n in e)t[n]=e[n];return t}var pf="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function vf(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<pf.length;a++)n=pf[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function yf(e){return yf[" "](e),e}yf[" "]=zl;var mf,gf=sf(of,"Opera"),kf=sf(of,"Trident")||sf(of,"MSIE"),bf=sf(of,"Edge"),wf=bf||kf,xf=sf(of,"Gecko")&&!(sf(of.toLowerCase(),"webkit")&&!sf(of,"Edge"))&&!(sf(of,"Trident")||sf(of,"MSIE"))&&!sf(of,"Edge"),Ef=sf(of.toLowerCase(),"webkit")&&!sf(of,"Edge");function _f(){var e=Bl.document;return e?e.documentMode:void 0}e:{var Sf="",If=function(){var e=of;return xf?/rv:([^\);]+)(\)|;)/.exec(e):bf?/Edge\/([\d\.]+)/.exec(e):kf?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Ef?/WebKit\/(\S+)/.exec(e):gf?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(If&&(Sf=If?If[1]:""),kf){var Tf=_f();if(null!=Tf&&Tf>parseFloat(Sf)){mf=String(Tf);break e}}mf=Sf}var Cf,Af={};function Nf(){return function(e){var t=Af;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=uf(String(mf)).split("."),n=uf("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=cf(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||cf(0==a[2].length,0==o[2].length)||cf(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(Bl.document&&kf){var Of=_f();Cf=Of||(parseInt(mf,10)||void 0)}else Cf=void 0;var Pf=Cf,Df=function(){if(!Bl.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Bl.addEventListener("test",zl,t),Bl.removeEventListener("test",zl,t)}catch(n){}return e}();function Rf(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Lf(e,t){if(Rf.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(xf){e:{try{yf(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Mf[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Lf.Z.h.call(this)}}Rf.prototype.h=function(){this.defaultPrevented=!0},Jl(Lf,Rf);var Mf={2:"touch",3:"pen",4:"mouse"};Lf.prototype.h=function(){Lf.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Ff="closure_listenable_"+(1e6*Math.random()|0),Uf=0;function jf(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Uf,this.ca=this.fa=!1}function Vf(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Bf(e){this.src=e,this.g={},this.h=0}function zf(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=ef(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Vf(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function qf(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}Bf.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=qf(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new jf(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var Hf="closure_lm_"+(1e6*Math.random()|0),Wf={};function Gf(e,t,n,r,i){if(r&&r.once)return Qf(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Gf(e,t[a],n,r,i);return null}return n=th(n),e&&e[Ff]?e.N(t,n,Hl(r)?!!r.capture:!!r,i):Kf(e,t,n,!1,r,i)}function Kf(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Hl(i)?!!i.capture:!!i,u=Zf(e);if(u||(e[Hf]=u=new Bf(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=$f;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Df||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Jf(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Qf(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Qf(e,t[a],n,r,i);return null}return n=th(n),e&&e[Ff]?e.O(t,n,Hl(r)?!!r.capture:!!r,i):Kf(e,t,n,!0,r,i)}function Yf(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Yf(e,t[a],n,r,i);else r=Hl(r)?!!r.capture:!!r,n=th(n),e&&e[Ff]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=qf(a=e.g[t],n,r,i))&&(Vf(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Zf(e))&&(t=e.g[t.toString()],e=-1,t&&(e=qf(t,n,r,i)),(n=-1<e?t[e]:null)&&Xf(n))}function Xf(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Ff])zf(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Jf(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Zf(t))?(zf(n,e),0==n.h&&(n.src=null,t[Hf]=null)):Vf(e)}}}function Jf(e){return e in Wf?Wf[e]:Wf[e]="on"+e}function $f(e,t){if(e.ca)e=!0;else{t=new Lf(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Xf(e),e=n.call(r,t)}return e}function Zf(e){return(e=e[Hf])instanceof Bf?e:null}var eh="__closure_events_fn_"+(1e9*Math.random()>>>0);function th(e){return"function"===typeof e?e:(e[eh]||(e[eh]=function(t){return e.handleEvent(t)}),e[eh])}function nh(){$l.call(this),this.i=new Bf(this),this.P=this,this.I=null}function rh(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Rf(t,e);else if(t instanceof Rf)t.target=t.target||e;else{var i=t;vf(t=new Rf(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=ih(o,r,!0,t)&&i}if(i=ih(o=t.g=e,r,!0,t)&&i,i=ih(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=ih(o=t.g=n[a],r,!1,t)&&i}function ih(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&zf(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}Jl(nh,$l),nh.prototype[Ff]=!0,nh.prototype.removeEventListener=function(e,t,n,r){Yf(this,e,t,n,r)},nh.prototype.M=function(){if(nh.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Vf(n[r]);delete t.g[e],t.h--}}this.I=null},nh.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},nh.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var ah=Bl.JSON.stringify;function oh(){var e=ph,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var uh,sh=function(){function e(){dt(this,e),this.h=this.g=null}return vt(e,[{key:"add",value:function(e,t){var n=ch.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),ch=new(function(){function e(t,n){dt(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return vt(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new lh}),(function(e){return e.reset()})),lh=function(){function e(){dt(this,e),this.next=this.g=this.h=null}return vt(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function fh(e){Bl.setTimeout((function(){throw e}),0)}function hh(e,t){uh||function(){var e=Bl.Promise.resolve(void 0);uh=function(){e.then(vh)}}(),dh||(uh(),dh=!0),ph.add(e,t)}var dh=!1,ph=new sh;function vh(){for(var e;e=oh();){try{e.h.call(e.g)}catch(n){fh(n)}var t=ch;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}dh=!1}function yh(e,t){nh.call(this),this.h=e||1,this.g=t||Bl,this.j=Yl(this.kb,this),this.l=Date.now()}function mh(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function gh(e,t,n){if("function"===typeof e)n&&(e=Yl(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Yl(e.handleEvent,e)}return 2147483647<Number(t)?-1:Bl.setTimeout(e,t||0)}function kh(e){e.g=gh((function(){e.g=null,e.i&&(e.i=!1,kh(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Jl(yh,nh),(Fl=yh.prototype).da=!1,Fl.S=null,Fl.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),rh(this,"tick"),this.da&&(mh(this),this.start()))}},Fl.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Fl.M=function(){yh.Z.M.call(this),mh(this),delete this.g};var bh=function(e){Et(n,e);var t=Ct(n);function n(e,r){var i;return dt(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return vt(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:kh(this)}},{key:"M",value:function(){Er(_t(n.prototype),"M",this).call(this),this.g&&(Bl.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}($l);function wh(e){$l.call(this),this.h=e,this.g={}}Jl(wh,$l);var xh=[];function Eh(e,t,n,r){Array.isArray(n)||(n&&(xh[0]=n.toString()),n=xh);for(var i=0;i<n.length;i++){var a=Gf(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function _h(e){hf(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Xf(e)}),e),e.g={}}function Sh(){this.g=!0}function Ih(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return ah(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}wh.prototype.M=function(){wh.Z.M.call(this),_h(this)},wh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Sh.prototype.Aa=function(){this.g=!1},Sh.prototype.info=function(){};var Th={},Ch=null;function Ah(){return Ch=Ch||new nh}function Nh(e){Rf.call(this,Th.Ma,e)}function Oh(e){var t=Ah();rh(t,new Nh(t,e))}function Ph(e,t){Rf.call(this,Th.STAT_EVENT,e),this.stat=t}function Dh(e){var t=Ah();rh(t,new Ph(t,e))}function Rh(e,t){Rf.call(this,Th.Na,e),this.size=t}function Lh(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Bl.setTimeout((function(){e()}),t)}Th.Ma="serverreachability",Jl(Nh,Rf),Th.STAT_EVENT="statevent",Jl(Ph,Rf),Th.Na="timingevent",Jl(Rh,Rf);var Mh={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Fh={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Uh(){}function jh(e){return e.h||(e.h=e.i())}function Vh(){}Uh.prototype.h=null;var Bh,zh={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function qh(){Rf.call(this,"d")}function Hh(){Rf.call(this,"c")}function Wh(){}function Gh(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new wh(this),this.P=Qh,e=wf?125:void 0,this.W=new yh(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Kh}function Kh(){this.i=null,this.g="",this.h=!1}Jl(qh,Rf),Jl(Hh,Rf),Jl(Wh,Uh),Wh.prototype.g=function(){return new XMLHttpRequest},Wh.prototype.i=function(){return{}},Bh=new Wh;var Qh=45e3,Yh={},Xh={};function Jh(e,t,n){e.K=1,e.v=bd(pd(t)),e.s=n,e.U=!0,$h(e,null)}function $h(e,t){e.F=Date.now(),nd(e),e.A=pd(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Dd(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Kh,e.g=Lp(e.l,n?t:null,!e.s),0<e.O&&(e.L=new bh(Yl(e.Ia,e,e.g),e.O)),Eh(e.V,e.g,"readystatechange",e.gb),t=e.H?df(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Oh(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Zh(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function ed(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=td(e,n))==Xh){4==t&&(e.o=4,Dh(14),i=!1),Ih(e.j,e.m,null,"[Incomplete Response]");break}if(r==Yh){e.o=4,Dh(15),Ih(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Ih(e.j,e.m,r,null),ud(e,r)}Zh(e)&&r!=Xh&&r!=Yh&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Dh(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Tp(t),t.L=!0,Dh(11))):(Ih(e.j,e.m,n,"[Invalid Chunked Response]"),od(e),ad(e))}function td(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Xh:(n=Number(t.substring(n,r)),isNaN(n)?Yh:(r+=1)+n>t.length?Xh:(t=t.substr(r,n),e.C=r+n,t))}function nd(e){e.Y=Date.now()+e.P,rd(e,e.P)}function rd(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Lh(Yl(e.eb,e),t)}function id(e){e.B&&(Bl.clearTimeout(e.B),e.B=null)}function ad(e){0==e.l.G||e.I||Np(e.l,e)}function od(e){id(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,mh(e.W),_h(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function ud(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Bd(n.i,e)))if(n.I=e.N,!e.J&&Bd(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Ap(n),gp(n)}Ip(n),Dh(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Lh(Yl(n.ab,n),6e3));if(1>=Vd(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else Pp(n,11)}else if((e.J||n.g==e)&&Ap(n),!af(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(sf(l,"spdy")||sf(l,"quic")||sf(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(zd(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,kd(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=Rp(r,r.H?r.la:null,r.W),d.J){qd(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(id(p),nd(p)),r.g=d}else Sp(r);0<n.l.length&&wp(n)}else"stop"!=a[0]&&"close"!=a[0]||Pp(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Pp(n,7):mp(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}Oh(4)}catch(a){}}function sd(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(ql(e)||"string"===typeof e)tf(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(ql(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(ql(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function cd(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof cd)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function ld(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];fd(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)fd(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function fd(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Fl=Gh.prototype).setTimeout=function(e){this.P=e},Fl.gb=function(e){e=e.target;var t=this.L;t&&3==hp(e)?t.l():this.Ia(e)},Fl.Ia=function(e){try{if(e==this.g)e:{var t=hp(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||wf||this.g&&(this.h.h||this.g.ga()||dp(this.g)))){this.I||4!=t||7==n||Oh(8==n||0>=r?3:2),id(this);var i=this.g.ba();this.N=i;t:if(Zh(this)){var a=dp(this.g);e="";var o=a.length,u=4==hp(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){od(this),ad(this);var s="";break t}this.h.i=new Bl.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!af(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,Dh(12),od(this),ad(this);break e}Ih(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ud(this,i)}this.U?(ed(this,t,s),wf&&this.i&&3==t&&(Eh(this.V,this.W,"tick",this.fb),this.W.start())):(Ih(this.j,this.m,s,null),ud(this,s)),4==t&&od(this),this.i&&!this.I&&(4==t?Np(this.l,this):(this.i=!1,nd(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,Dh(12)):(this.o=0,Dh(13)),od(this),ad(this)}}}catch(t){}},Fl.fb=function(){if(this.g){var e=hp(this.g),t=this.g.ga();this.C<t.length&&(id(this),ed(this,e,t),this.i&&4!=e&&nd(this))}},Fl.cancel=function(){this.I=!0,od(this)},Fl.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Oh(3),Dh(17)),od(this),this.o=2,ad(this)):rd(this,this.Y-e)},(Fl=cd.prototype).R=function(){ld(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Fl.T=function(){return ld(this),this.g.concat()},Fl.get=function(e,t){return fd(this.h,e)?this.h[e]:t},Fl.set=function(e,t){fd(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Fl.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var hd=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function dd(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof dd){this.g=void 0!==t?t:e.g,vd(this,e.j),this.s=e.s,yd(this,e.i),md(this,e.m),this.l=e.l,t=e.h;var n=new Ad;n.i=t.i,t.g&&(n.g=new cd(t.g),n.h=t.h),gd(this,n),this.o=e.o}else e&&(n=String(e).match(hd))?(this.g=!!t,vd(this,n[1]||"",!0),this.s=wd(n[2]||""),yd(this,n[3]||"",!0),md(this,n[4]),this.l=wd(n[5]||"",!0),gd(this,n[6]||"",!0),this.o=wd(n[7]||"")):(this.g=!!t,this.h=new Ad(null,this.g))}function pd(e){return new dd(e)}function vd(e,t,n){e.j=n?wd(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function yd(e,t,n){e.i=n?wd(t,!0):t}function md(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function gd(e,t,n){t instanceof Ad?(e.h=t,function(e,t){t&&!e.j&&(Nd(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Od(this,t),Dd(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=xd(t,Td)),e.h=new Ad(t,e.g))}function kd(e,t,n){e.h.set(t,n)}function bd(e){return kd(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function wd(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function xd(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Ed),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Ed(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}dd.prototype.toString=function(){var e=[],t=this.j;t&&e.push(xd(t,_d,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(xd(t,_d,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(xd(n,"/"==n.charAt(0)?Id:Sd,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",xd(n,Cd)),e.join("")};var _d=/[#\/\?@]/g,Sd=/[#\?:]/g,Id=/[#\?]/g,Td=/[#\?@]/g,Cd=/#/g;function Ad(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Nd(e){e.g||(e.g=new cd,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Od(e,t){Nd(e),t=Rd(e,t),fd(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,fd((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&ld(e)))}function Pd(e,t){return Nd(e),t=Rd(e,t),fd(e.g.h,t)}function Dd(e,t,n){Od(e,t),0<n.length&&(e.i=null,e.g.set(Rd(e,t),rf(n)),e.h+=n.length)}function Rd(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Fl=Ad.prototype).add=function(e,t){Nd(this),this.i=null,e=Rd(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Fl.forEach=function(e,t){Nd(this),this.g.forEach((function(n,r){tf(n,(function(n){e.call(t,n,r,this)}),this)}),this)},Fl.T=function(){Nd(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Fl.R=function(e){Nd(this);var t=[];if("string"===typeof e)Pd(this,e)&&(t=nf(t,this.g.get(Rd(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=nf(t,e[n])}return t},Fl.set=function(e,t){return Nd(this),this.i=null,Pd(this,e=Rd(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Fl.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Fl.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var Ld=vt((function e(t,n){dt(this,e),this.h=t,this.g=n}));function Md(e){this.l=e||Ud,Bl.PerformanceNavigationTiming?e=0<(e=Bl.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Bl.g&&Bl.g.Ea&&Bl.g.Ea()&&Bl.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Fd,Ud=10;function jd(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Vd(e){return e.h?1:e.g?e.g.size:0}function Bd(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function zd(e,t){e.g?e.g.add(t):e.h=t}function qd(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Hd(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=gt(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return rf(e.i)}function Wd(){}function Gd(){this.g=new Wd}function Kd(e,t,n){var r=n||"";try{sd(e,(function(e,n){var i=e;Hl(e)&&(i=ah(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Qd(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Yd(e){this.l=e.$b||null,this.j=e.ib||!1}function Xd(e,t){nh.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Jd,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Md.prototype.cancel=function(){if(this.i=Hd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=gt(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Wd.prototype.stringify=function(e){return Bl.JSON.stringify(e,void 0)},Wd.prototype.parse=function(e){return Bl.JSON.parse(e,void 0)},Jl(Yd,Uh),Yd.prototype.g=function(){return new Xd(this.l,this.j)},Yd.prototype.i=(Fd={},function(){return Fd}),Jl(Xd,nh);var Jd=0;function $d(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Zd(e){e.readyState=4,e.l=null,e.j=null,e.A=null,ep(e)}function ep(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Fl=Xd.prototype).open=function(e,t){if(this.readyState!=Jd)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,ep(this)},Fl.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Bl).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Fl.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Zd(this)),this.readyState=Jd},Fl.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,ep(this)),this.g&&(this.readyState=3,ep(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof Bl.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;$d(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Fl.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Zd(this):ep(this),3==this.readyState&&$d(this)}},Fl.Ua=function(e){this.g&&(this.response=this.responseText=e,Zd(this))},Fl.Ta=function(e){this.g&&(this.response=e,Zd(this))},Fl.ha=function(){this.g&&Zd(this)},Fl.setRequestHeader=function(e,t){this.v.append(e,t)},Fl.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Fl.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Xd.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var tp=Bl.JSON.parse;function np(e){nh.call(this),this.headers=new cd,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=rp,this.K=this.L=!1}Jl(np,nh);var rp="",ip=/^https?$/i,ap=["POST","PUT"];function op(e){return"content-type"==e.toLowerCase()}function up(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,sp(e),lp(e)}function sp(e){e.D||(e.D=!0,rh(e,"complete"),rh(e,"error"))}function cp(e){if(e.h&&"undefined"!=typeof Vl&&(!e.C[1]||4!=hp(e)||2!=e.ba()))if(e.v&&4==hp(e))gh(e.Fa,0,e);else if(rh(e,"readystatechange"),4==hp(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(hd)[1]||null;if(!a&&Bl.self&&Bl.self.location){var o=Bl.self.location.protocol;a=o.substr(0,o.length-1)}i=!ip.test(a?a.toLowerCase():"")}t=i}if(t)rh(e,"complete"),rh(e,"success");else{e.m=6;try{var u=2<hp(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.ba()+"]",sp(e)}}finally{lp(e)}}}function lp(e,t){if(e.g){fp(e);var n=e.g,r=e.C[0]?zl:null;e.g=null,e.C=null,t||rh(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function fp(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Bl.clearTimeout(e.A),e.A=null)}function hp(e){return e.g?e.g.readyState:0}function dp(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case rp:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(KT){return null}}function pp(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return hf(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):kd(e,t,n))}function vp(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function yp(e){this.za=0,this.l=[],this.h=new Sh,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=vp("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=vp("baseRetryDelayMs",5e3,e),this.$a=vp("retryDelaySeedMs",1e4,e),this.Ya=vp("forwardChannelMaxRetries",2,e),this.ra=vp("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Md(e&&e.concurrentRequestLimit),this.Ca=new Gd,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function mp(e){if(kp(e),3==e.G){var t=e.V++,n=pd(e.F);kd(n,"SID",e.J),kd(n,"RID",t),kd(n,"TYPE","terminate"),Ep(e,n),(t=new Gh(e,e.h,t,void 0)).K=2,t.v=bd(pd(n)),n=!1,Bl.navigator&&Bl.navigator.sendBeacon&&(n=Bl.navigator.sendBeacon(t.v.toString(),"")),!n&&Bl.Image&&((new Image).src=t.v,n=!0),n||(t.g=Lp(t.l,null),t.g.ea(t.v)),t.F=Date.now(),nd(t)}Dp(e)}function gp(e){e.g&&(Tp(e),e.g.cancel(),e.g=null)}function kp(e){gp(e),e.u&&(Bl.clearTimeout(e.u),e.u=null),Ap(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Bl.clearTimeout(e.m),e.m=null)}function bp(e,t){e.l.push(new Ld(e.Za++,t)),3==e.G&&wp(e)}function wp(e){jd(e.i)||e.m||(e.m=!0,hh(e.Ha,e),e.C=0)}function xp(e,t){var n;n=t?t.m:e.V++;var r=pd(e.F);kd(r,"SID",e.J),kd(r,"RID",n),kd(r,"AID",e.U),Ep(e,r),e.o&&e.s&&pp(r,e.o,e.s),n=new Gh(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=_p(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),zd(e.i,n),Jh(n,r,t)}function Ep(e,t){e.j&&sd({},(function(e,n){kd(t,n,e)}))}function _p(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Yl(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{Kd(l,o,"req"+c+"_")}catch(cv){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Sp(e){e.g||e.u||(e.Y=1,hh(e.Ga,e),e.A=0)}function Ip(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=Lh(Yl(e.Ga,e),Op(e,e.A)),e.A++,!0)}function Tp(e){null!=e.B&&(Bl.clearTimeout(e.B),e.B=null)}function Cp(e){e.g=new Gh(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=pd(e.oa);kd(t,"RID","rpc"),kd(t,"SID",e.J),kd(t,"CI",e.N?"0":"1"),kd(t,"AID",e.U),Ep(e,t),kd(t,"TYPE","xmlhttp"),e.o&&e.s&&pp(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=bd(pd(t)),n.s=null,n.U=!0,$h(n,e)}function Ap(e){null!=e.v&&(Bl.clearTimeout(e.v),e.v=null)}function Np(e,t){var n=null;if(e.g==t){Ap(e),Tp(e),e.g=null;var r=2}else{if(!Bd(e.i,t))return;n=t.D,qd(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;rh(r=Ah(),new Rh(r,n,t,i)),wp(e)}else Sp(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Vd(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=Lh(Yl(e.Ha,e,t),Op(e,e.C)),e.C++,!0))}(e,t)||2==r&&Ip(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Pp(e,5);break;case 4:Pp(e,10);break;case 3:Pp(e,6);break;default:Pp(e,2)}}function Op(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Pp(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Yl(e.jb,e);n||(n=new dd("//www.google.com/images/cleardot.gif"),Bl.location&&"http"==Bl.location.protocol||vd(n,"https"),bd(n)),function(e,t){var n=new Sh;if(Bl.Image){var r=new Image;r.onload=Xl(Qd,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Xl(Qd,n,r,"TestLoadImage: error",!1,t),r.onabort=Xl(Qd,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Xl(Qd,n,r,"TestLoadImage: timeout",!1,t),Bl.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Dh(2);e.G=0,e.j&&e.j.va(t),Dp(e),kp(e)}function Dp(e){e.G=0,e.I=-1,e.j&&(0==Hd(e.i).length&&0==e.l.length||(e.i.i.length=0,rf(e.l),e.l.length=0),e.j.ua())}function Rp(e,t,n){var r=function(e){return e instanceof dd?pd(e):new dd(e,void 0)}(n);if(""!=r.i)t&&yd(r,t+"."+r.i),md(r,r.m);else{var i=Bl.location;r=function(e,t,n,r){var i=new dd(null,void 0);return e&&vd(i,e),t&&yd(i,t),n&&md(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&hf(e.aa,(function(e,t){kd(r,t,e)})),t=e.D,n=e.sa,t&&n&&kd(r,t,n),kd(r,"VER",e.ma),Ep(e,r),r}function Lp(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new np(new Yd({ib:!0})):new np(e.qa)).L=e.H,t}function Mp(){}function Fp(){if(kf&&!(10<=Number(Pf)))throw Error("Environmental error: no available transport.")}function Up(e,t){nh.call(this),this.g=new yp(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!af(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!af(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Bp(this)}function jp(e){qh.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Vp(){Hh.call(this),this.status=1}function Bp(e){this.g=e}(Fl=np.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Bh.g(),this.C=this.u?jh(this.u):jh(Bh),this.g.onreadystatechange=Yl(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void up(this,a)}e=n||"";var i=new cd(this.headers);r&&sd(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=op,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=Bl.FormData&&e instanceof Bl.FormData,!(0<=ef(ap,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{fp(this),0<this.B&&((this.K=function(e){return kf&&Nf()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Yl(this.pa,this)):this.A=gh(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){up(this,a)}},Fl.pa=function(){"undefined"!=typeof Vl&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,rh(this,"timeout"),this.abort(8))},Fl.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,rh(this,"complete"),rh(this,"abort"),lp(this))},Fl.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),lp(this,!0)),np.Z.M.call(this)},Fl.Fa=function(){this.s||(this.F||this.v||this.l?cp(this):this.cb())},Fl.cb=function(){cp(this)},Fl.ba=function(){try{return 2<hp(this)?this.g.status:-1}catch(Fd){return-1}},Fl.ga=function(){try{return this.g?this.g.responseText:""}catch(Fd){return""}},Fl.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),tp(t)}},Fl.Da=function(){return this.m},Fl.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(Fl=yp.prototype).ma=8,Fl.G=1,Fl.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(KT){}},Fl.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Gh(this,this.h,e,void 0),n=this.s;if(this.P&&(n?vf(n=df(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=_p(this,t,r),kd(i=pd(this.F),"RID",e),kd(i,"CVER",22),this.D&&kd(i,"X-HTTP-Session-Id",this.D),Ep(this,i),this.o&&n&&pp(i,this.o,n),zd(this.i,t),this.Ra&&kd(i,"TYPE","init"),this.ja?(kd(i,"$req",r),kd(i,"SID","null"),t.$=!0,Jh(t,i,null)):Jh(t,i,r),this.G=2}}else 3==this.G&&(e?xp(this,e):0==this.l.length||jd(this.i)||xp(this))},Fl.Ga=function(){if(this.u=null,Cp(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Lh(Yl(this.bb,this),e)}},Fl.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Dh(10),gp(this),Cp(this))},Fl.ab=function(){null!=this.v&&(this.v=null,gp(this),Ip(this),Dh(19))},Fl.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Dh(2)):(this.h.info("Failed to ping google.com"),Dh(1))},(Fl=Mp.prototype).xa=function(){},Fl.wa=function(){},Fl.va=function(){},Fl.ua=function(){},Fl.Oa=function(){},Fp.prototype.g=function(e,t){return new Up(e,t)},Jl(Up,nh),Up.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),hh(Yl(e.hb,e,t))),Dh(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Rp(e,null,e.W),wp(e)},Up.prototype.close=function(){mp(this.g)},Up.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,bp(this.g,t)}else this.v?((t={}).__data__=ah(e),bp(this.g,t)):bp(this.g,e)},Up.prototype.M=function(){this.g.j=null,delete this.j,mp(this.g),delete this.g,Up.Z.M.call(this)},Jl(jp,qh),Jl(Vp,Hh),Jl(Bp,Mp),Bp.prototype.xa=function(){rh(this.g,"a")},Bp.prototype.wa=function(e){rh(this.g,new jp(e))},Bp.prototype.va=function(e){rh(this.g,new Vp(e))},Bp.prototype.ua=function(){rh(this.g,"b")},Fp.prototype.createWebChannel=Fp.prototype.g,Up.prototype.send=Up.prototype.u,Up.prototype.open=Up.prototype.m,Up.prototype.close=Up.prototype.close,Mh.NO_ERROR=0,Mh.TIMEOUT=8,Mh.HTTP_ERROR=6,Fh.COMPLETE="complete",Vh.EventType=zh,zh.OPEN="a",zh.CLOSE="b",zh.ERROR="c",zh.MESSAGE="d",nh.prototype.listen=nh.prototype.N,np.prototype.listenOnce=np.prototype.O,np.prototype.getLastError=np.prototype.La,np.prototype.getLastErrorCode=np.prototype.Da,np.prototype.getStatus=np.prototype.ba,np.prototype.getResponseJson=np.prototype.Qa,np.prototype.getResponseText=np.prototype.ga,np.prototype.send=np.prototype.ea;var zp=jl.createWebChannelTransport=function(){return new Fp},qp=jl.getStatEventTarget=function(){return Ah()},Hp=jl.ErrorCode=Mh,Wp=jl.EventType=Fh,Gp=jl.Event=Th,Kp=jl.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Qp=jl.FetchXmlHttpFactory=Yd,Yp=jl.WebChannel=Vh,Xp=jl.XhrIo=np,Jp="@firebase/firestore",$p=function(){function e(t){dt(this,e),this.uid=t}return vt(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();$p.UNAUTHENTICATED=new $p(null),$p.GOOGLE_CREDENTIALS=new $p("google-credentials-uid"),$p.FIRST_PARTY=new $p("first-party-uid"),$p.MOCK_USER=new $p("mock-user");var Zp="9.6.9",ev=new Tn("@firebase/firestore");function tv(){return ev.logLevel}function nv(e){if(ev.logLevel<=gn.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(av);ev.debug.apply(ev,["Firestore (".concat(Zp,"): ").concat(e)].concat(dn(i)))}}function rv(e){if(ev.logLevel<=gn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(av);ev.error.apply(ev,["Firestore (".concat(Zp,"): ").concat(e)].concat(dn(i)))}}function iv(e){if(ev.logLevel<=gn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(av);ev.warn.apply(ev,["Firestore (".concat(Zp,"): ").concat(e)].concat(dn(i)))}}function av(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function ov(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Zp,") INTERNAL ASSERTION FAILED: ")+e;throw rv(t),new Error(t)}function uv(e,t){e||ov()}function sv(e,t){return e}var cv={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},lv=function(e){Et(n,e);var t=Ct(n);function n(e,r){var i;return dt(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return vt(n)}(Gt),fv=vt((function e(){var t=this;dt(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),hv=vt((function e(t,n){dt(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),dv=function(){function e(){dt(this,e)}return vt(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t($p.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),pv=function(){function e(t){dt(this,e),this.token=t,this.changeListener=null}return vt(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),vv=function(){function e(t){dt(this,e),this.t=t,this.currentUser=$p.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return vt(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new fv;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new fv,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(lt(ht().mark((function e(){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){nv("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(nv("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new fv)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(nv("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(uv("string"==typeof n.accessToken),new hv(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return uv(null===e||"string"==typeof e),new $p(e)}}]),e}(),yv=vt((function e(t,n,r){dt(this,e),this.type="FirstParty",this.user=$p.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),mv=function(){function e(t,n,r){dt(this,e),this.h=t,this.l=n,this.m=r}return vt(e,[{key:"getToken",value:function(){return Promise.resolve(new yv(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t($p.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),gv=vt((function e(t){dt(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),kv=function(){function e(t){dt(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return vt(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&nv("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,nv("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){nv("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):nv("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(uv("string"==typeof t.token),e.p=t.token,new gv(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),bv=function(){function e(t,n){var r=this;dt(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.I(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return vt(e,[{key:"I",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function wv(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}bv.A=-1;var xv=function(){function e(){dt(this,e)}return vt(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=wv(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Ev(e,t){return e<t?-1:e>t?1:0}function _v(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Sv(e){return e+"\0"}var Iv=function(){function e(t,n){if(dt(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new lv(cv.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new lv(cv.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new lv(cv.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new lv(cv.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return vt(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Ev(this.nanoseconds,e.nanoseconds):Ev(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Tv=function(){function e(t){dt(this,e),this.timestamp=t}return vt(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Iv(0,0))}}]),e}();function Cv(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Av(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Nv(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Ov=function(){function e(t,n,r){dt(this,e),void 0===n?n=0:n>t.length&&ov(),void 0===r?r=t.length-n:r>t.length-n&&ov(),this.segments=t,this.offset=n,this.len=r}return vt(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Pv=function(e){Et(n,e);var t=Ct(n);function n(){return dt(this,n),t.apply(this,arguments)}return vt(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new lv(cv.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,dn(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Ov),Dv=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Rv=function(e){Et(n,e);var t=Ct(n);function n(){return dt(this,n),t.apply(this,arguments)}return vt(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Dv.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new lv(cv.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new lv(cv.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new lv(cv.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new lv(cv.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Ov),Lv=function(){function e(t){dt(this,e),this.fields=t,t.sort(Rv.comparator)}return vt(e,[{key:"covers",value:function(e){var t,n=gt(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return _v(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var Mv=function(e){function t(e){dt(this,t),this.binaryString=e}return vt(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Ev(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Mv.EMPTY_BYTE_STRING=new Mv("");var Fv=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Uv(e){if(uv(!!e),"string"==typeof e){var t=0,n=Fv.exec(e);if(uv(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:jv(e.seconds),nanos:jv(e.nanos)}}function jv(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Vv(e){return"string"==typeof e?Mv.fromBase64String(e):Mv.fromUint8Array(e)}function Bv(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function zv(e){var t=e.mapValue.fields.__previous_value__;return Bv(t)?zv(t):t}function qv(e){var t=Uv(e.mapValue.fields.__local_write_time__.timestampValue);return new Iv(t.seconds,t.nanos)}var Hv=vt((function e(t,n,r,i,a,o,u,s){dt(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),Wv=function(){function e(t,n){dt(this,e),this.projectId=t,this.database=n||"(default)"}return vt(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function Gv(e){return null==e}function Kv(e){return 0===e&&1/e==-1/0}function Qv(e){return"number"==typeof e&&Number.isInteger(e)&&!Kv(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Yv=function(){function e(t){dt(this,e),this.path=t}return vt(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Pv.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Pv.fromString(t))}},{key:"fromName",value:function(t){return new e(Pv.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Pv.emptyPath())}},{key:"comparator",value:function(e,t){return Pv.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Pv(t.slice()))}}]),e}(),Xv={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Jv={nullValue:"NULL_VALUE"};function $v(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Bv(e)?4:hy(e)?9:10:ov()}function Zv(e,t){if(e===t)return!0;var n=$v(e);if(n!==$v(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return qv(e).isEqual(qv(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Uv(e.timestampValue),r=Uv(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Vv(e.bytesValue).isEqual(Vv(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return jv(e.geoPointValue.latitude)===jv(t.geoPointValue.latitude)&&jv(e.geoPointValue.longitude)===jv(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return jv(e.integerValue)===jv(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=jv(e.doubleValue),r=jv(t.doubleValue);return n===r?Kv(n)===Kv(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return _v(e.arrayValue.values||[],t.arrayValue.values||[],Zv);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Cv(n)!==Cv(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Zv(n[i],r[i])))return!1;return!0}(e,t);default:return ov()}}function ey(e,t){return void 0!==(e.values||[]).find((function(e){return Zv(e,t)}))}function ty(e,t){if(e===t)return 0;var n=$v(e),r=$v(t);if(n!==r)return Ev(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ev(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=jv(e.integerValue||e.doubleValue),r=jv(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return ny(e.timestampValue,t.timestampValue);case 4:return ny(qv(e),qv(t));case 5:return Ev(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Vv(e),r=Vv(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Ev(n[i],r[i]);if(0!==a)return a}return Ev(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Ev(jv(e.latitude),jv(t.latitude));return 0!==n?n:Ev(jv(e.longitude),jv(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=ty(n[i],r[i]);if(a)return a}return Ev(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=Ev(r[o],a[o]);if(0!==u)return u;var s=ty(n[r[o]],i[a[o]]);if(0!==s)return s}return Ev(r.length,a.length)}(e.mapValue,t.mapValue);default:throw ov()}}function ny(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Ev(e,t);var n=Uv(e),r=Uv(t),i=Ev(n.seconds,r.seconds);return 0!==i?i:Ev(n.nanos,r.nanos)}function ry(e){return iy(e)}function iy(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Uv(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Vv(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Yv.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=gt(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=iy(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=gt(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(iy(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):ov();var t,n}function ay(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function oy(e){return!!e&&"integerValue"in e}function uy(e){return!!e&&"arrayValue"in e}function sy(e){return!!e&&"nullValue"in e}function cy(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ly(e){return!!e&&"mapValue"in e}function fy(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Av(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=fy(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=fy(e.arrayValue.values[r]);return n}return Object.assign({},e)}function hy(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function dy(e,t){return void 0===e?t:void 0===t||ty(e,t)>0?e:t}function py(e,t){return void 0===e?t:void 0===t||ty(e,t)<0?e:t}var vy=function(){function e(t){dt(this,e),this.value=t}return vt(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!ly(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=fy(t)}},{key:"setAll",value:function(e){var t=this,n=Rv.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=fy(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());ly(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Zv(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];ly(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Av(t,(function(t,n){return e[t]=n}));var r,i=gt(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(fy(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function yy(e){var t=[];return Av(e.fields,(function(e,n){var r=new Rv([e]);if(ly(n)){var i=yy(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=gt(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new Lv(t)}var my=function(){function e(t,n,r,i,a,o){dt(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return vt(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=vy.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=vy.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Tv.min(),Tv.min(),vy.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,Tv.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Tv.min(),vy.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Tv.min(),vy.empty(),2)}}]),e}(),gy=vt((function e(t,n,r,i){dt(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function ky(e){return e.fields.find((function(e){return 2===e.kind}))}function by(e){return e.fields.filter((function(e){return 2!==e.kind}))}gy.UNKNOWN_ID=-1;var wy=vt((function e(t,n){dt(this,e),this.fieldPath=t,this.kind=n})),xy=function(){function e(t,n){dt(this,e),this.sequenceNumber=t,this.offset=n}return vt(e,null,[{key:"empty",value:function(){return new e(0,Ey.min())}}]),e}(),Ey=function(){function e(t,n,r){dt(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return vt(e,null,[{key:"min",value:function(){return new e(Tv.min(),Yv.empty(),-1)}}]),e}(),_y=vt((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;dt(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.P=null}));function Sy(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new _y(e,t,n,r,i,a,o)}function Iy(e){var t=sv(e);if(null===t.P){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+ry(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Gv(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return ry(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return ry(e)})).join(",")),t.P=n}return t.P}function Ty(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!By(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!Zv(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!qy(e.startAt,t.startAt)&&qy(e.endAt,t.endAt)}function Cy(e){return Yv.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Ay(e,t){return e.filters.filter((function(e){return e instanceof Ny&&e.field.isEqual(t)}))}var Ny=function(e){Et(n,e);var t=Ct(n);function n(e,r,i){var a;return dt(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return vt(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(ty(t,this.value)):null!==t&&$v(this.value)===$v(t)&&this.v(ty(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ov()}}},{key:"S",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new Oy(e,t,r):"array-contains"===t?new Ly(e,r):"in"===t?new My(e,r):"not-in"===t?new Fy(e,r):"array-contains-any"===t?new Uy(e,r):new n(e,t,r)}},{key:"V",value:function(e,t,n){return"in"===t?new Py(e,n):new Dy(e,n)}}]),n}(function(){return vt((function e(){dt(this,e)}))}()),Oy=function(e){Et(n,e);var t=Ct(n);function n(e,r,i){var a;return dt(this,n),(a=t.call(this,e,r,i)).key=Yv.fromName(i.referenceValue),a}return vt(n,[{key:"matches",value:function(e){var t=Yv.comparator(e.key,this.key);return this.v(t)}}]),n}(Ny),Py=function(e){Et(n,e);var t=Ct(n);function n(e,r){var i;return dt(this,n),(i=t.call(this,e,"in",r)).keys=Ry("in",r),i}return vt(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Ny),Dy=function(e){Et(n,e);var t=Ct(n);function n(e,r){var i;return dt(this,n),(i=t.call(this,e,"not-in",r)).keys=Ry("not-in",r),i}return vt(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Ny);function Ry(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Yv.fromName(e.referenceValue)}))}var Ly=function(e){Et(n,e);var t=Ct(n);function n(e,r){return dt(this,n),t.call(this,e,"array-contains",r)}return vt(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return uy(t)&&ey(t.arrayValue,this.value)}}]),n}(Ny),My=function(e){Et(n,e);var t=Ct(n);function n(e,r){return dt(this,n),t.call(this,e,"in",r)}return vt(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&ey(this.value.arrayValue,t)}}]),n}(Ny),Fy=function(e){Et(n,e);var t=Ct(n);function n(e,r){return dt(this,n),t.call(this,e,"not-in",r)}return vt(n,[{key:"matches",value:function(e){if(ey(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!ey(this.value.arrayValue,t)}}]),n}(Ny),Uy=function(e){Et(n,e);var t=Ct(n);function n(e,r){return dt(this,n),t.call(this,e,"array-contains-any",r)}return vt(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!uy(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return ey(t.value.arrayValue,e)}))}}]),n}(Ny),jy=vt((function e(t,n){dt(this,e),this.position=t,this.inclusive=n})),Vy=vt((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";dt(this,e),this.field=t,this.dir=n}));function By(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function zy(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Yv.comparator(Yv.fromName(o.referenceValue),n.key):ty(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function qy(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Zv(e.position[n],t.position[n]))return!1;return!0}var Hy=vt((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;dt(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.D=null,this.C=null,this.startAt,this.endAt}));function Wy(e,t,n,r,i,a,o,u){return new Hy(e,t,n,r,i,a,o,u)}function Gy(e){return new Hy(e)}function Ky(e){return!Gv(e.limit)&&"F"===e.limitType}function Qy(e){return!Gv(e.limit)&&"L"===e.limitType}function Yy(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Xy(e){var t,n=gt(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.S())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function Jy(e){return null!==e.collectionGroup}function $y(e){var t=sv(e);if(null===t.D){t.D=[];var n=Xy(t),r=Yy(t);if(null!==n&&null===r)n.isKeyField()||t.D.push(new Vy(n)),t.D.push(new Vy(Rv.keyField(),"asc"));else{var i,a=!1,o=gt(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.D.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new Vy(Rv.keyField(),s))}}}return t.D}function Zy(e){var t=sv(e);if(!t.C)if("F"===t.limitType)t.C=Sy(t.path,t.collectionGroup,$y(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=gt($y(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Vy(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new jy(t.endAt.position,!t.endAt.inclusive):null,s=t.startAt?new jy(t.startAt.position,!t.startAt.inclusive):null;t.C=Sy(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.C}function em(e,t,n){return new Hy(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function tm(e,t){return Ty(Zy(e),Zy(t))&&e.limitType===t.limitType}function nm(e){return"".concat(Iy(Zy(e)),"|lt:").concat(e.limitType)}function rm(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(ry(t.value));var t})).join(", "),"]")),Gv(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return ry(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return ry(e)})).join(",")),"Target(".concat(t,")")}(Zy(e)),"; limitType=").concat(e.limitType,")")}function im(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Yv.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=gt(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=gt(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=zy(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,$y(e),t))&&!(e.endAt&&!function(e,t,n){var r=zy(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,$y(e),t))}(e,t)}function am(e){return function(t,n){var r,i=!1,a=gt($y(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=om(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function om(e,t,n){var r=e.field.isKeyField()?Yv.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?ty(r,i):ov()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return ov()}}function um(e,t){if(e.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kv(t)?"-0":t}}function sm(e){return{integerValue:""+e}}function cm(e,t){return Qv(t)?sm(t):um(e,t)}var lm=vt((function e(){dt(this,e),this._=void 0}));function fm(e,t,n){return e instanceof pm?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof vm?ym(e,t):e instanceof mm?gm(e,t):function(e,t){var n=dm(e,t),r=bm(n)+bm(e.k);return oy(n)&&oy(e.k)?sm(r):um(e.M,r)}(e,t)}function hm(e,t,n){return e instanceof vm?ym(e,t):e instanceof mm?gm(e,t):n}function dm(e,t){return e instanceof km?oy(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var pm=function(e){Et(n,e);var t=Ct(n);function n(){return dt(this,n),t.apply(this,arguments)}return vt(n)}(lm),vm=function(e){Et(n,e);var t=Ct(n);function n(e){var r;return dt(this,n),(r=t.call(this)).elements=e,r}return vt(n)}(lm);function ym(e,t){var n,r=wm(t),i=gt(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Zv(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var mm=function(e){Et(n,e);var t=Ct(n);function n(e){var r;return dt(this,n),(r=t.call(this)).elements=e,r}return vt(n)}(lm);function gm(e,t){var n,r=wm(t),i=gt(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Zv(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var km=function(e){Et(n,e);var t=Ct(n);function n(e,r){var i;return dt(this,n),(i=t.call(this)).M=e,i.k=r,i}return vt(n)}(lm);function bm(e){return jv(e.integerValue||e.doubleValue)}function wm(e){return uy(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var xm=vt((function e(t,n){dt(this,e),this.field=t,this.transform=n}));var Em=vt((function e(t,n){dt(this,e),this.version=t,this.transformResults=n})),_m=function(){function e(t,n){dt(this,e),this.updateTime=t,this.exists=n}return vt(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Sm(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Im=vt((function e(){dt(this,e)}));function Tm(e,t,n){e instanceof Pm?function(e,t,n){var r=e.value.clone(),i=Lm(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Dm?function(e,t,n){if(Sm(e.precondition,t)){var r=Lm(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Rm(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Cm(e,t,n){e instanceof Pm?function(e,t,n){if(Sm(e.precondition,t)){var r=e.value.clone(),i=Mm(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Om(t),r).setHasLocalMutations()}}(e,t,n):e instanceof Dm?function(e,t,n){if(Sm(e.precondition,t)){var r=Mm(e.fieldTransforms,n,t),i=t.data;i.setAll(Rm(e)),i.setAll(r),t.convertToFoundDocument(Om(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){Sm(e.precondition,t)&&t.convertToNoDocument(Tv.min())}(e,t)}function Am(e,t){var n,r=null,i=gt(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=dm(a.transform,o||null);null!=u&&(null==r&&(r=vy.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function Nm(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&_v(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof vm&&t instanceof vm||e instanceof mm&&t instanceof mm?_v(e.elements,t.elements,Zv):e instanceof km&&t instanceof km?Zv(e.k,t.k):e instanceof pm&&t instanceof pm}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Om(e){return e.isFoundDocument()?e.version:Tv.min()}var Pm=function(e){Et(n,e);var t=Ct(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return dt(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return vt(n)}(Im),Dm=function(e){Et(n,e);var t=Ct(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return dt(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return vt(n)}(Im);function Rm(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Lm(e,t,n){var r=new Map;uv(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,hm(o,u,n[i]))}return r}function Mm(e,t,n){var r,i=new Map,a=gt(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,fm(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Fm,Um,jm=function(e){Et(n,e);var t=Ct(n);function n(e,r){var i;return dt(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return vt(n)}(Im),Vm=function(e){Et(n,e);var t=Ct(n);function n(e,r){var i;return dt(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return vt(n)}(Im),Bm=vt((function e(t){dt(this,e),this.count=t}));function zm(e){switch(e){default:return ov();case cv.CANCELLED:case cv.UNKNOWN:case cv.DEADLINE_EXCEEDED:case cv.RESOURCE_EXHAUSTED:case cv.INTERNAL:case cv.UNAVAILABLE:case cv.UNAUTHENTICATED:return!1;case cv.INVALID_ARGUMENT:case cv.NOT_FOUND:case cv.ALREADY_EXISTS:case cv.PERMISSION_DENIED:case cv.FAILED_PRECONDITION:case cv.ABORTED:case cv.OUT_OF_RANGE:case cv.UNIMPLEMENTED:case cv.DATA_LOSS:return!0}}function qm(e){if(void 0===e)return rv("GRPC error has no .code"),cv.UNKNOWN;switch(e){case Fm.OK:return cv.OK;case Fm.CANCELLED:return cv.CANCELLED;case Fm.UNKNOWN:return cv.UNKNOWN;case Fm.DEADLINE_EXCEEDED:return cv.DEADLINE_EXCEEDED;case Fm.RESOURCE_EXHAUSTED:return cv.RESOURCE_EXHAUSTED;case Fm.INTERNAL:return cv.INTERNAL;case Fm.UNAVAILABLE:return cv.UNAVAILABLE;case Fm.UNAUTHENTICATED:return cv.UNAUTHENTICATED;case Fm.INVALID_ARGUMENT:return cv.INVALID_ARGUMENT;case Fm.NOT_FOUND:return cv.NOT_FOUND;case Fm.ALREADY_EXISTS:return cv.ALREADY_EXISTS;case Fm.PERMISSION_DENIED:return cv.PERMISSION_DENIED;case Fm.FAILED_PRECONDITION:return cv.FAILED_PRECONDITION;case Fm.ABORTED:return cv.ABORTED;case Fm.OUT_OF_RANGE:return cv.OUT_OF_RANGE;case Fm.UNIMPLEMENTED:return cv.UNIMPLEMENTED;case Fm.DATA_LOSS:return cv.DATA_LOSS;default:return ov()}}(Um=Fm||(Fm={}))[Um.OK=0]="OK",Um[Um.CANCELLED=1]="CANCELLED",Um[Um.UNKNOWN=2]="UNKNOWN",Um[Um.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Um[Um.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Um[Um.NOT_FOUND=5]="NOT_FOUND",Um[Um.ALREADY_EXISTS=6]="ALREADY_EXISTS",Um[Um.PERMISSION_DENIED=7]="PERMISSION_DENIED",Um[Um.UNAUTHENTICATED=16]="UNAUTHENTICATED",Um[Um.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Um[Um.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Um[Um.ABORTED=10]="ABORTED",Um[Um.OUT_OF_RANGE=11]="OUT_OF_RANGE",Um[Um.UNIMPLEMENTED=12]="UNIMPLEMENTED",Um[Um.INTERNAL=13]="INTERNAL",Um[Um.UNAVAILABLE=14]="UNAVAILABLE",Um[Um.DATA_LOSS=15]="DATA_LOSS";var Hm=function(){function e(t,n){dt(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return vt(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=gt(n);try{for(i.s();!(r=i.n()).done;){var a=wt(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Av(this.inner,(function(t,n){var r,i=gt(n);try{for(i.s();!(r=i.n()).done;){var a=wt(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Nv(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Wm=function(){function e(t,n){dt(this,e),this.comparator=t,this.root=n||Km.EMPTY}return vt(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Km.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Km.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Gm(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Gm(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Gm(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Gm(this.root,e,this.comparator,!0)}}]),e}(),Gm=function(){function e(t,n,r,i){dt(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return vt(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Km=function(){function e(t,n,r,i,a){dt(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return vt(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw ov();if(this.right.isRed())throw ov();var e=this.left.check();if(e!==this.right.check())throw ov();return e+(this.isRed()?0:1)}}]),e}();Km.EMPTY=null,Km.RED=!0,Km.BLACK=!1,Km.EMPTY=new(function(){function e(){dt(this,e),this.size=0}return vt(e,[{key:"key",get:function(){throw ov()}},{key:"value",get:function(){throw ov()}},{key:"color",get:function(){throw ov()}},{key:"left",get:function(){throw ov()}},{key:"right",get:function(){throw ov()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Km(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Qm=function(){function e(t){dt(this,e),this.comparator=t,this.data=new Wm(this.comparator)}return vt(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Ym(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Ym(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Ym=function(){function e(t){dt(this,e),this.iter=t}return vt(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function Xm(e){return e.hasNext()?e.getNext():void 0}var Jm=new Wm(Yv.comparator);function $m(){return Jm}var Zm=new Wm(Yv.comparator);function eg(){return Zm}function tg(){return new Hm((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var ng=new Wm(Yv.comparator),rg=new Qm(Yv.comparator);function ig(){for(var e=rg,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var ag=new Qm(Ev);function og(){return ag}var ug=function(){function e(t,n,r,i,a){dt(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return vt(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,sg.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Tv.min(),r,og(),$m(),ig())}}]),e}(),sg=function(){function e(t,n,r,i,a){dt(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return vt(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(Mv.EMPTY_BYTE_STRING,n,ig(),ig(),ig())}}]),e}(),cg=vt((function e(t,n,r,i){dt(this,e),this.O=t,this.removedTargetIds=n,this.key=r,this.$=i})),lg=vt((function e(t,n){dt(this,e),this.targetId=t,this.F=n})),fg=vt((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Mv.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;dt(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),hg=function(){function e(){dt(this,e),this.B=0,this.L=vg(),this.q=Mv.EMPTY_BYTE_STRING,this.U=!1,this.K=!0}return vt(e,[{key:"current",get:function(){return this.U}},{key:"resumeToken",get:function(){return this.q}},{key:"G",get:function(){return 0!==this.B}},{key:"j",get:function(){return this.K}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.K=!0,this.q=e)}},{key:"H",value:function(){var e=ig(),t=ig(),n=ig();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:ov()}})),new sg(this.q,this.U,e,t,n)}},{key:"J",value:function(){this.K=!1,this.L=vg()}},{key:"Y",value:function(e,t){this.K=!0,this.L=this.L.insert(e,t)}},{key:"X",value:function(e){this.K=!0,this.L=this.L.remove(e)}},{key:"Z",value:function(){this.B+=1}},{key:"tt",value:function(){this.B-=1}},{key:"et",value:function(){this.K=!0,this.U=!0}}]),e}(),dg=function(){function e(t){dt(this,e),this.nt=t,this.st=new Map,this.it=$m(),this.rt=pg(),this.ot=new Qm(Ev)}return vt(e,[{key:"at",value:function(e){var t,n=gt(e.O);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.$&&e.$.isFoundDocument()?this.ut(r,e.$):this.ct(r,e.key,e.$)}}catch(u){n.e(u)}finally{n.f()}var i,a=gt(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.ct(o,e.key,e.$)}}catch(u){a.e(u)}finally{a.f()}}},{key:"ht",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.lt(n);switch(e.state){case 0:t.ft(n)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||t.removeTarget(n);break;case 3:t.ft(n)&&(r.et(),r.W(e.resumeToken));break;case 4:t.ft(n)&&(t.dt(n),r.W(e.resumeToken));break;default:ov()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((function(e,r){n.ft(r)&&t(r)}))}},{key:"_t",value:function(e){var t=e.targetId,n=e.F.count,r=this.wt(t);if(r){var i=r.target;if(Cy(i))if(0===n){var a=new Yv(i.path);this.ct(t,a,my.newNoDocument(a,Tv.min()))}else uv(1===n);else this.gt(t)!==n&&(this.dt(t),this.ot=this.ot.add(t))}}},{key:"yt",value:function(e){var t=this,n=new Map;this.st.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&Cy(a.target)){var o=new Yv(a.target.path);null!==t.it.get(o)||t.It(i,o)||t.ct(i,o,my.newNoDocument(o,e))}r.j&&(n.set(i,r.H()),r.J())}}));var r=ig();this.rt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.it.forEach((function(t,n){return n.setReadTime(e)}));var i=new ug(e,n,this.ot,this.it,r);return this.it=$m(),this.rt=pg(),this.ot=new Qm(Ev),i}},{key:"ut",value:function(e,t){if(this.ft(e)){var n=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,n),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}}},{key:"ct",value:function(e,t,n){if(this.ft(e)){var r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),n&&(this.it=this.it.insert(t,n))}}},{key:"removeTarget",value:function(e){this.st.delete(e)}},{key:"gt",value:function(e){var t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Z",value:function(e){this.lt(e).Z()}},{key:"lt",value:function(e){var t=this.st.get(e);return t||(t=new hg,this.st.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.rt.get(e);return t||(t=new Qm(Ev),this.rt=this.rt.insert(e,t)),t}},{key:"ft",value:function(e){var t=null!==this.wt(e);return t||nv("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}},{key:"dt",value:function(e){var t=this;this.st.set(e,new hg),this.nt.getRemoteKeysForTarget(e).forEach((function(n){t.ct(e,n,null)}))}},{key:"It",value:function(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}]),e}();function pg(){return new Wm(Yv.comparator)}function vg(){return new Wm(Yv.comparator)}var yg={asc:"ASCENDING",desc:"DESCENDING"},mg={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gg=vt((function e(t,n){dt(this,e),this.databaseId=t,this.N=n}));function kg(e,t){return e.N?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function bg(e,t){return e.N?t.toBase64():t.toUint8Array()}function wg(e,t){return kg(e,t.toTimestamp())}function xg(e){return uv(!!e),Tv.fromTimestamp(function(e){var t=Uv(e);return new Iv(t.seconds,t.nanos)}(e))}function Eg(e,t){return function(e){return new Pv(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function _g(e){var t=Pv.fromString(e);return uv(Kg(t)),t}function Sg(e,t){return Eg(e.databaseId,t.path)}function Ig(e,t){var n=_g(t);if(n.get(1)!==e.databaseId.projectId)throw new lv(cv.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new lv(cv.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Yv(Ng(n))}function Tg(e,t){return Eg(e.databaseId,t)}function Cg(e){var t=_g(e);return 4===t.length?Pv.emptyPath():Ng(t)}function Ag(e){return new Pv(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Ng(e){return uv(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Og(e,t,n){return{name:Sg(e,t),fields:n.value.mapValue.fields}}function Pg(e,t,n){var r=Ig(e,t.name),i=xg(t.updateTime),a=new vy({mapValue:{fields:t.fields}}),o=my.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Dg(e,t){return"found"in t?function(e,t){uv(!!t.found),t.found.name,t.found.updateTime;var n=Ig(e,t.found.name),r=xg(t.found.updateTime),i=new vy({mapValue:{fields:t.found.fields}});return my.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){uv(!!t.missing),uv(!!t.readTime);var n=Ig(e,t.missing),r=xg(t.readTime);return my.newNoDocument(n,r)}(e,t):ov()}function Rg(e,t){var n;if(t instanceof Pm)n={update:Og(e,t.key,t.value)};else if(t instanceof jm)n={delete:Sg(e,t.key)};else if(t instanceof Dm)n={update:Og(e,t.key,t.data),updateMask:Gg(t.fieldMask)};else{if(!(t instanceof Vm))return ov();n={verify:Sg(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof pm)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof vm)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof mm)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof km)return{fieldPath:t.field.canonicalString(),increment:n.k};throw ov()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:wg(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:ov()}(e,t.precondition)),n}function Lg(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?_m.updateTime(xg(e.updateTime)):void 0!==e.exists?_m.exists(e.exists):_m.none()}(t.currentDocument):_m.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)uv("REQUEST_TIME"===t.setToServerValue),n=new pm;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new vm(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new mm(i)}else"increment"in t?n=new km(e,t.increment):ov();var a=Rv.fromServerFormat(t.fieldPath);return new xm(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=Ig(e,t.update.name),a=new vy({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Lv(t.map((function(e){return Rv.fromServerFormat(e)})))}(t.updateMask);return new Dm(i,a,o,n,r)}return new Pm(i,a,n,r)}if(t.delete){var u=Ig(e,t.delete);return new jm(u,n)}if(t.verify){var s=Ig(e,t.verify);return new Vm(s,n)}return ov()}function Mg(e,t){return{documents:[Tg(e,t.path)]}}function Fg(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Tg(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Tg(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(cy(e.value))return{unaryFilter:{field:zg(e.field),op:"IS_NAN"}};if(sy(e.value))return{unaryFilter:{field:zg(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(cy(e.value))return{unaryFilter:{field:zg(e.field),op:"IS_NOT_NAN"}};if(sy(e.value))return{unaryFilter:{field:zg(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zg(e.field),op:Bg(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:zg(e.field),direction:Vg(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.N||Gv(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Ug(e){var t=Cg(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){uv(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=jg(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new Vy(qg(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return Gv(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new jy(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new jy(n,t)}(n.endAt)),Wy(t,i,u,o,s,"F",c,l)}function jg(e){return e?void 0!==e.unaryFilter?[Wg(e)]:void 0!==e.fieldFilter?[Hg(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return jg(e)})).reduce((function(e,t){return e.concat(t)})):ov():[]}function Vg(e){return yg[e]}function Bg(e){return mg[e]}function zg(e){return{fieldPath:e.canonicalString()}}function qg(e){return Rv.fromServerFormat(e.fieldPath)}function Hg(e){return Ny.create(qg(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ov()}}(e.fieldFilter.op),e.fieldFilter.value)}function Wg(e){switch(e.unaryFilter.op){case"IS_NAN":var t=qg(e.unaryFilter.field);return Ny.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=qg(e.unaryFilter.field);return Ny.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=qg(e.unaryFilter.field);return Ny.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=qg(e.unaryFilter.field);return Ny.create(i,"!=",{nullValue:"NULL_VALUE"});default:return ov()}}function Gg(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Kg(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Qg(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Xg(t)),t=Yg(e.get(n),t);return Xg(t)}function Yg(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function Xg(e){return e+"\x01\x01"}function Jg(e){var t=e.length;if(uv(t>=2),2===t)return uv("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Pv.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&ov(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:ov()}a=o+2}return new Pv(r)}var $g=["userId","batchId"];function Zg(e,t){return[e,Qg(t)]}function ek(e,t,n){return[e,Qg(t),n]}var tk={},nk=["parentPath","readTime"],rk=["canonicalId","targetId"],ik=["targetId","path"],ak=["path","targetId"],ok=["collectionId","parent"],uk=["indexId","uid"],sk=["uid","sequenceNumber"],ck=["indexId","uid","arrayValue","directionalValue","documentKey"],lk=["indexId","uid","documentKey"],fk=["userId","collectionPath","documentId"],hk=["userId","collectionPath","largestBatchId"],dk=["userId","collectionGroup","largestBatchId"],pk=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),vk=[].concat(dn(pk),["documentOverlays"]),yk=[].concat(dn(vk),["indexConfiguration","indexState","indexEntries"]),mk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",gk=function(){function e(){dt(this,e),this.onCommittedListeners=[]}return vt(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),kk=function(){function e(t){var n=this;dt(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return vt(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&ov(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=gt(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),bk=function(){function e(t,n){var r=this;dt(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.At=new fv,this.transaction.oncomplete=function(){r.At.resolve()},this.transaction.onabort=function(){n.error?r.At.reject(new Ek(t,n.error)):r.At.resolve()},this.transaction.onerror=function(e){var n=Ck(e.target.error);r.At.reject(new Ek(t,n))}}return vt(e,[{key:"Rt",get:function(){return this.At.promise}},{key:"abort",value:function(e){e&&this.At.reject(e),this.aborted||(nv("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"bt",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new Sk(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Ek(n,t)}}}]),e}(),wk=function(){function e(t,n,r){dt(this,e),this.name=t,this.version=n,this.Pt=r,12.2===e.Vt(jt())&&rv("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return vt(e,[{key:"Nt",value:function(){var e=lt(ht().mark((function e(t){var n=this;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return nv("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Ek(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new lv(cv.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new lv(cv.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new Ek(t,n))},i.onupgradeneeded=function(e){nv("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.Pt.kt(t,i.transaction,e.oldVersion,n.version).next((function(){nv("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.Mt&&(this.db.onversionchange=function(e){return n.Mt(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ot",value:function(e){this.Mt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=lt(ht().mark((function e(t,n,r,i){var a,o,u,s,c=this;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(ht().mark((function e(){var n,o;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Nt(t);case 2:return c.db=e.sent,n=bk.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.bt(),e})).catch((function(e){return n.abort(e),kk.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.Rt;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s="FirebaseError"!==e.t1.name&&o<3,nv("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",s),this.close(),s){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return nv("SimpleDb","Removing database:",e),Ik(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"vt",value:function(){if(!Wt())return!1;if(e.St())return!0;var t=jt(),n=e.Vt(t),r=0<n&&n<10,i=e.Dt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"St",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.Ct)}},{key:"xt",value:function(e,t){return e.store(t)}},{key:"Vt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"Dt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),xk=function(){function e(t){dt(this,e),this.$t=t,this.Ft=!1,this.Bt=null}return vt(e,[{key:"isDone",get:function(){return this.Ft}},{key:"Lt",get:function(){return this.Bt}},{key:"cursor",set:function(e){this.$t=e}},{key:"done",value:function(){this.Ft=!0}},{key:"qt",value:function(e){this.Bt=e}},{key:"delete",value:function(){return Ik(this.$t.delete())}}]),e}(),Ek=function(e){Et(n,e);var t=Ct(n);function n(e,r){var i;return dt(this,n),(i=t.call(this,cv.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return vt(n)}(lv);function _k(e){return"IndexedDbTransactionError"===e.name}var Sk=function(){function e(t){dt(this,e),this.store=t}return vt(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(nv("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(nv("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Ik(n)}},{key:"add",value:function(e){return nv("SimpleDb","ADD",this.store.name,e,e),Ik(this.store.add(e))}},{key:"get",value:function(e){var t=this;return Ik(this.store.get(e)).next((function(n){return void 0===n&&(n=null),nv("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return nv("SimpleDb","DELETE",this.store.name,e),Ik(this.store.delete(e))}},{key:"count",value:function(){return nv("SimpleDb","COUNT",this.store.name),Ik(this.store.count())}},{key:"Ut",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.Kt(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new kk((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"Gt",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new kk((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Qt",value:function(e,t){nv("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.jt=!1;var r=this.cursor(n);return this.Kt(r,(function(e,t,n){return n.delete()}))}},{key:"Wt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Kt(r,t)}},{key:"zt",value:function(e){var t=this.cursor({});return new kk((function(n,r){t.onerror=function(e){var t=Ck(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Kt",value:function(e,t){var n=[];return new kk((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new xk(i),o=t(i.primaryKey,i.value,a);if(o instanceof kk){var u=o.catch((function(e){return a.done(),kk.reject(e)}));n.push(u)}a.isDone?r():null===a.Lt?i.continue():i.continue(a.Lt)}else r()}})).next((function(){return kk.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.jt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function Ik(e){return new kk((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Ck(e.target.error);n(t)}}))}var Tk=!1;function Ck(e){var t=wk.Vt(jt());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new lv("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Tk||(Tk=!0,setTimeout((function(){throw r}),0)),r}}return e}var Ak=function(e){Et(n,e);var t=Ct(n);function n(e,r){var i;return dt(this,n),(i=t.call(this)).Ht=e,i.currentSequenceNumber=r,i}return vt(n)}(gk);function Nk(e,t){var n=sv(e);return wk.xt(n.Ht,t)}var Ok=function(){function e(t,n,r,i){dt(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return vt(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Tm(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=gt(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&Cm(r,e,this.localWriteTime)}}catch(u){n.e(u)}finally{n.f()}var i,a=gt(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&Cm(o,e,this.localWriteTime)}}catch(u){a.e(u)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Tv.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),ig())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&_v(this.mutations,e.mutations,(function(e,t){return Nm(e,t)}))&&_v(this.baseMutations,e.baseMutations,(function(e,t){return Nm(e,t)}))}}]),e}(),Pk=function(){function e(t,n,r,i){dt(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return vt(e,null,[{key:"from",value:function(t,n,r){uv(t.mutations.length===r.length);for(var i=ng,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Dk=function(){function e(t,n){dt(this,e),this.largestBatchId=t,this.mutation=n}return vt(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Rk=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Tv.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Tv.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Mv.EMPTY_BYTE_STRING;dt(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return vt(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Lk=vt((function e(t){dt(this,e),this.Jt=t}));function Mk(e,t){var n;if(t.document)n=Pg(e.Jt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=Yv.fromSegments(t.noDocument.path),i=Bk(t.noDocument.readTime);n=my.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return ov();var a=Yv.fromSegments(t.unknownDocument.path),o=Bk(t.unknownDocument.version);n=my.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(jk(t.readTime)),n}function Fk(e,t){var n=t.key.path.popLast().toArray(),r=Uk(t.readTime);if(t.isFoundDocument()){var i=function(e,t){return{name:Sg(e,t.key),fields:t.data.value.mapValue.fields,updateTime:kg(e,t.version.toTimestamp())}}(e.Jt,t);return{document:i,hasCommittedMutations:t.hasCommittedMutations,readTime:r,parentPath:n}}if(t.isNoDocument()){var a=t.key.path.toArray(),o=t.hasCommittedMutations;return{noDocument:{path:a,readTime:Vk(t.version)},hasCommittedMutations:o,readTime:r,parentPath:n}}return t.isUnknownDocument()?{unknownDocument:{path:t.key.path.toArray(),version:Vk(t.version)},hasCommittedMutations:!0,readTime:r,parentPath:n}:ov()}function Uk(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function jk(e){var t=new Iv(e[0],e[1]);return Tv.fromTimestamp(t)}function Vk(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Bk(e){var t=new Iv(e.seconds,e.nanoseconds);return Tv.fromTimestamp(t)}function zk(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Lg(e.Jt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return Lg(e.Jt,t)})),u=Iv.fromMillis(t.localWriteTimeMs);return new Ok(t.batchId,u,n,o)}function qk(e){var t,n,r=Bk(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Bk(e.lastLimboFreeSnapshotVersion):Tv.min();return void 0!==e.query.documents?(uv(1===(n=e.query).documents.length),t=Zy(Gy(Cg(n.documents[0])))):t=function(e){return Zy(Ug(e))}(e.query),new Rk(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Mv.fromBase64String(e.resumeToken))}function Hk(e,t){var n,r=Vk(t.snapshotVersion),i=Vk(t.lastLimboFreeSnapshotVersion);n=Cy(t.target)?Mg(e.Jt,t.target):Fg(e.Jt,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Iy(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function Wk(e){var t=Ug({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?em(t,t.limit,"L"):t}function Gk(e,t){return new Dk(t.largestBatchId,Lg(e.Jt,t.overlayMutation))}function Kk(e,t){var n=t.path.lastSegment();return[e,Qg(t.path.popLast()),n]}var Qk=function(){function e(){dt(this,e)}return vt(e,[{key:"getBundleMetadata",value:function(e,t){return Yk(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Bk(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return Yk(e).put({bundleId:(n=t).id,createTime:Vk(xg(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return Xk(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Wk(t.bundledQuery),readTime:Bk(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return Xk(e).put(function(e){return{name:e.name,readTime:Vk(xg(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function Yk(e){return Nk(e,"bundles")}function Xk(e){return Nk(e,"namedQueries")}var Jk=function(){function e(t,n){dt(this,e),this.M=t,this.userId=n}return vt(e,[{key:"getOverlay",value:function(e,t){var n=this;return $k(e).get(Kk(this.userId,t)).next((function(e){return e?Gk(n.M,e):null}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new Dk(t,a);i.push(r.Xt(e,o))})),kk.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(Qg(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push($k(e).Qt("collectionPathOverlayIndex",i))})),kk.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=tg(),a=Qg(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return $k(e).Ut("collectionPathOverlayIndex",o).next((function(e){var t,n=gt(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=Gk(r.M,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=tg(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return $k(e).Wt({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=Gk(a.M,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"Xt",value:function(e,t){return $k(e).put(function(e,t,n){var r=wt(Kk(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Rg(e.Jt,n.mutation)}}(this.M,this.userId,t))}}],[{key:"Yt",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function $k(e){return Nk(e,"documentOverlays")}var Zk=function(){function e(){dt(this,e)}return vt(e,[{key:"Zt",value:function(e,t){this.te(e,t),t.ee()}},{key:"te",value:function(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(jv(e.integerValue));else if("doubleValue"in e){var n=jv(e.doubleValue);isNaN(n)?this.ne(t,13):(this.ne(t,15),Kv(n)?t.se(0):t.se(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie("".concat(r.seconds||"")),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ae(Vv(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ue(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ne(t,45),t.se(i.latitude||0),t.se(i.longitude||0)}else"mapValue"in e?hy(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):ov()}},{key:"re",value:function(e,t){this.ne(t,25),this.le(e,t)}},{key:"le",value:function(e,t){t.ie(e)}},{key:"ce",value:function(e,t){var n=e.fields||{};this.ne(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.re(a,t),this.te(n[a],t)}}},{key:"he",value:function(e,t){var n=e.values||[];this.ne(t,50);var r,i=gt(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.te(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ue",value:function(e,t){var n=this;this.ne(t,37),Yv.fromName(e).path.forEach((function(e){n.ne(t,60),n.le(e,t)}))}},{key:"ne",value:function(e,t){e.se(t)}},{key:"oe",value:function(e){e.se(2)}}]),e}();function eb(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function tb(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=eb(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Zk.fe=new Zk;var nb=function(){function e(){dt(this,e),this.buffer=new Uint8Array(1024),this.position=0}return vt(e,[{key:"de",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this._e(n.value),n=t.next();this.we()}},{key:"me",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.ge(n.value),n=t.next();this.ye()}},{key:"pe",value:function(e){var t,n=gt(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this._e(i);else if(i<2048)this._e(960|i>>>6),this._e(128|63&i);else if(r<"\ud800"||"\udbff"<r)this._e(480|i>>>12),this._e(128|63&i>>>6),this._e(128|63&i);else{var a=r.codePointAt(0);this._e(240|a>>>18),this._e(128|63&a>>>12),this._e(128|63&a>>>6),this._e(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.we()}},{key:"Ie",value:function(e){var t,n=gt(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.ge(i);else if(i<2048)this.ge(960|i>>>6),this.ge(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.ge(480|i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i);else{var a=r.codePointAt(0);this.ge(240|a>>>18),this.ge(128|63&a>>>12),this.ge(128|63&a>>>6),this.ge(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ye()}},{key:"Te",value:function(e){var t=this.Ee(e),n=tb(t);this.Ae(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Re",value:function(e){var t=this.Ee(e),n=tb(t);this.Ae(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"be",value:function(){this.Pe(255),this.Pe(255)}},{key:"Ve",value:function(){this.ve(255),this.ve(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Se",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ee",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"_e",value:function(e){var t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}},{key:"ge",value:function(e){var t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}},{key:"we",value:function(){this.Pe(0),this.Pe(1)}},{key:"ye",value:function(){this.ve(0),this.ve(1)}},{key:"Pe",value:function(e){this.Ae(1),this.buffer[this.position++]=e}},{key:"ve",value:function(e){this.Ae(1),this.buffer[this.position++]=~e}},{key:"Ae",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),rb=function(){function e(t){dt(this,e),this.De=t}return vt(e,[{key:"ae",value:function(e){this.De.de(e)}},{key:"ie",value:function(e){this.De.pe(e)}},{key:"se",value:function(e){this.De.Te(e)}},{key:"ee",value:function(){this.De.be()}}]),e}(),ib=function(){function e(t){dt(this,e),this.De=t}return vt(e,[{key:"ae",value:function(e){this.De.me(e)}},{key:"ie",value:function(e){this.De.Ie(e)}},{key:"se",value:function(e){this.De.Re(e)}},{key:"ee",value:function(){this.De.Ve()}}]),e}(),ab=function(){function e(){dt(this,e),this.De=new nb,this.Ce=new rb(this.De),this.xe=new ib(this.De)}return vt(e,[{key:"seed",value:function(e){this.De.seed(e)}},{key:"Ne",value:function(e){return 0===e?this.Ce:this.xe}},{key:"Se",value:function(){return this.De.Se()}},{key:"reset",value:function(){this.De.reset()}}]),e}(),ob=function(){function e(t,n,r,i){dt(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return vt(e,[{key:"ke",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function ub(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=sb(e.arrayValue,t.arrayValue))?n:0!==(n=sb(e.directionalValue,t.directionalValue))?n:Yv.comparator(e.documentKey,t.documentKey)}function sb(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var cb=function(){function e(t){dt(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Me=t.orderBy,this.Oe=[];var n,r=gt(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.S()?this.$e=i:this.Oe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return vt(e,[{key:"Fe",value:function(e){var t=ky(e);if(void 0!==t&&!this.Be(t))return!1;for(var n=by(e),r=0,i=0;r<n.length&&this.Be(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.$e){var a=n[r];if(!this.Le(this.$e,a)||!this.qe(this.Me[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Me.length||!this.qe(this.Me[i++],o))return!1}return!0}},{key:"Be",value:function(e){var t,n=gt(this.Oe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.Le(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"Le",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"qe",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),lb=function(){function e(){dt(this,e),this.Ue=new fb}return vt(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.Ue.add(t),kk.resolve()}},{key:"getCollectionParents",value:function(e,t){return kk.resolve(this.Ue.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return kk.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return kk.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return kk.resolve(null)}},{key:"getFieldIndex",value:function(e,t){return kk.resolve(null)}},{key:"getFieldIndexes",value:function(e,t){return kk.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return kk.resolve(null)}},{key:"updateCollectionGroup",value:function(e,t,n){return kk.resolve()}},{key:"updateIndexEntries",value:function(e,t){return kk.resolve()}}]),e}(),fb=function(){function e(){dt(this,e),this.index={}}return vt(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Qm(Pv.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Qm(Pv.comparator)).toArray()}}]),e}(),hb=new Uint8Array(0),db=function(){function e(t){dt(this,e),this.user=t,this.Ke=new fb,this.Ge=new Hm((function(e){return Iy(e)}),(function(e,t){return Ty(e,t)})),this.uid=t.uid||""}return vt(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ke.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ke.add(t)}));var a={collectionId:r,parent:Qg(i)};return pb(e).put(a)}return kk.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Sv(t),""],!1,!0);return pb(e).Ut(r).next((function(e){var r,i=gt(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(Jg(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=yb(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);return delete r.indexId,n.add(r).next()}},{key:"deleteFieldIndex",value:function(e,t){var n=yb(e),r=mb(e),i=vb(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=vb(e),i=!0,a=new Map;return kk.forEach(this.Qe(t),(function(t){return n.getFieldIndex(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=ig();return kk.forEach(a,(function(i,a){var o;nv("IndexedDbIndexManager","Using index ".concat((o=i,"id=".concat(o.indexId,"|cg=").concat(o.collectionGroup,"|f=").concat(o.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(Iy(t)));var u=function(e,t){var n=ky(t);if(void 0===n)return null;var r,i=gt(Ay(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),s=function(e,t){var n,r=new Map,i=gt(by(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=gt(Ay(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r,i=[],a=!0,o=gt(by(t));try{for(o.s();!(n=o.n()).done;){var u,s=n.value,c=void 0,l=!0,f=gt(Ay(e,s.fieldPath));try{for(f.s();!(u=f.n()).done;){var h=u.value,d=void 0,p=!0;switch(h.op){case"<":case"<=":d="nullValue"in(r=h.value)?Jv:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?ay(Wv.empty(),Yv.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?{mapValue:{}}:ov();break;case"==":case"in":case">=":d=h.value;break;case">":d=h.value,p=!1;break;case"!=":case"not-in":d=Jv}dy(c,d)===d&&(c=d,l=p)}}catch(m){f.e(m)}finally{f.f()}if(null!==e.startAt)for(var v=0;v<e.orderBy.length;++v)if(e.orderBy[v].field.isEqual(s.fieldPath)){var y=e.startAt.position[v];dy(c,y)===y&&(c=y,l=e.startAt.inclusive);break}if(void 0===c)return null;i.push(c),a&&(a=l)}}catch(m){o.e(m)}finally{o.f()}return new jy(i,a)}(a,i),l=function(e,t){var n,r,i=[],a=!0,o=gt(by(t));try{for(o.s();!(n=o.n()).done;){var u,s=n.value,c=void 0,l=!0,f=gt(Ay(e,s.fieldPath));try{for(f.s();!(u=f.n()).done;){var h=u.value,d=void 0,p=!0;switch(h.op){case">=":case">":d="nullValue"in(r=h.value)?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?ay(Wv.empty(),Yv.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?{mapValue:{}}:"mapValue"in r?Xv:ov(),p=!1;break;case"==":case"in":case"<=":d=h.value;break;case"<":d=h.value,p=!1;break;case"!=":case"not-in":d=Xv}py(c,d)===d&&(c=d,l=p)}}catch(m){f.e(m)}finally{f.f()}if(null!==e.endAt)for(var v=0;v<e.orderBy.length;++v)if(e.orderBy[v].field.isEqual(s.fieldPath)){var y=e.endAt.position[v];py(c,y)===y&&(c=y,l=e.endAt.inclusive);break}if(void 0===c)return null;i.push(c),a&&(a=l)}}catch(m){o.e(m)}finally{o.f()}return new jy(i,a)}(a,i),f=n.je(i,a,c),h=n.je(i,a,l),d=n.We(i,a,s),p=n.ze(i.indexId,u,f,!!c&&c.inclusive,h,!!l&&l.inclusive,d);return kk.forEach(p,(function(n){return r.Gt(n,t.limit).next((function(t){t.forEach((function(t){e=e.add(new Yv(Jg(t.documentKey)))}))}))}))})).next((function(){return e}))}return kk.resolve(null)}))}},{key:"Qe",value:function(e){var t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}},{key:"ze",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(null!=n?n.length:1,null!=i?i.length:1),c=s/(null!=t?t.length:1),l=[],f=function(s){var f=t?u.He(t[s/c]):hb,h=n?u.Je(e,f,n[s%c],r):u.Ye(e),d=i?u.Xe(e,f,i[s%c],a):u.Ye(e+1);l.push.apply(l,dn(u.createRange(h,d,o.map((function(t){return u.Je(e,f,t,!0)})))))},h=0;h<s;++h)f(h);return l}},{key:"Je",value:function(e,t,n,r){var i=new ob(e,Yv.empty(),t,n);return r?i:i.ke()}},{key:"Xe",value:function(e,t,n,r){var i=new ob(e,Yv.empty(),t,n);return r?i.ke():i}},{key:"Ye",value:function(e){return new ob(e,Yv.empty(),hb,hb)}},{key:"getFieldIndex",value:function(e,t){var n=new cb(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t=e.filter((function(e){return n.Fe(e)}));return t.sort((function(e,t){return t.fields.length-e.fields.length})),t.length>0?t[0]:null}))}},{key:"Ze",value:function(e,t){var n,r=new ab,i=gt(by(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Ne(a.kind);Zk.fe.Zt(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Se()}},{key:"He",value:function(e){var t=new ab;return Zk.fe.Zt(e,t.Ne(0)),t.Se()}},{key:"We",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new ab);var i,a=0,o=gt(by(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=gt(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.tn(t,s.fieldPath)&&uy(c))r=this.en(r,s,c);else{var h=f.Ne(s.kind);Zk.fe.Zt(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.nn(r)}},{key:"je",value:function(e,t,n){return null==n?null:this.We(e,t,n.position)}},{key:"nn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Se();return t}},{key:"en",value:function(e,t,n){var r,i=dn(e),a=[],o=gt(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=gt(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new ab;f.seed(l.Se()),Zk.fe.Zt(s,f.Ne(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"tn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof Ny&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=yb(e),i=mb(e);return(t?r.Ut("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.Ut()).next((function(e){var t=[];return kk.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new xy(t.sequenceNumber,new Ey(Bk(t.readTime),new Yv(Jg(t.documentKey)),t.largestBatchId)):xy.empty(),r=e.fields.map((function(e){var t=wt(e,2),n=t[0],r=t[1];return new wy(Rv.fromServerFormat(n),r)}));return new gy(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Ev(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=yb(e),a=mb(e);return this.sn(e).next((function(e){return i.Ut("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return kk.forEach(t,(function(t){return a.put(function(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:Vk(r.readTime),documentKey:Qg(r.documentKey.path),largestBatchId:r.largestBatchId}}(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return kk.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?kk.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),kk.forEach(a,(function(r){return n.rn(e,t,r).next((function(t){var a=n.on(i,r);return t.isEqual(a)?kk.resolve():n.an(e,i,t,a)}))}))}))}))}},{key:"un",value:function(e,t,n){return vb(e).put({indexId:n.indexId,uid:this.uid,arrayValue:n.arrayValue,directionalValue:n.directionalValue,documentKey:Qg(t.key.path)})}},{key:"cn",value:function(e,t,n){return vb(e).delete([n.indexId,this.uid,n.arrayValue,n.directionalValue,Qg(t.key.path)])}},{key:"rn",value:function(e,t,n){var r=vb(e),i=new Qm(ub);return r.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,Qg(t.path)])},(function(e,r){i=i.add(new ob(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"on",value:function(e,t){var n=new Qm(ub),r=this.Ze(t,e);if(null==r)return n;var i=ky(t);if(null!=i){var a=e.data.field(i.fieldPath);if(uy(a)){var o,u=gt(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new ob(t.indexId,e.key,this.He(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new ob(t.indexId,e.key,hb,r));return n}},{key:"an",value:function(e,t,n,r){var i=this;nv("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var a=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=Xm(a),s=Xm(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=Xm(o)):l?(i(u),u=Xm(a)):(u=Xm(a),s=Xm(o))}}(n,r,ub,(function(n){a.push(i.un(e,t,n))}),(function(n){a.push(i.cn(e,t,n))})),kk.waitFor(a)}},{key:"sn",value:function(e){var t=1;return mb(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return ub(e,t)})).filter((function(e,t,n){return!t||0!==ub(e,n[t-1])}));var r=[];r.push(e);var i,a=gt(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=ub(o,e),s=ub(o,t);if(0===u)r[0]=e.ke();else if(u>0&&s<0)r.push(o),r.push(o.ke());else if(s>0)break}}catch(f){a.e(f)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,""],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,""]));return c}}]),e}();function pb(e){return Nk(e,"collectionParents")}function vb(e){return Nk(e,"indexEntries")}function yb(e){return Nk(e,"indexConfiguration")}function mb(e){return Nk(e,"indexState")}var gb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},kb=function(){function e(t,n,r){dt(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return vt(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function bb(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Wt({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){uv(1===u)})));var c,l=[],f=gt(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=ek(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return kk.waitFor(a).next((function(){return l}))}function wb(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw ov();t=e.noDocument}return JSON.stringify(t).length}kb.DEFAULT_COLLECTION_PERCENTILE=10,kb.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,kb.DEFAULT=new kb(41943040,kb.DEFAULT_COLLECTION_PERCENTILE,kb.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),kb.DISABLED=new kb(-1,0,0);var xb=function(){function e(t,n,r,i){dt(this,e),this.userId=t,this.M=n,this.indexManager=r,this.referenceDelegate=i,this.hn={}}return vt(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return _b(e).Wt({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=Sb(e),o=_b(e);return o.add({}).next((function(u){uv("number"==typeof u);var s,c=new Ok(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return Rg(e.Jt,t)})),i=n.mutations.map((function(t){return Rg(e.Jt,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.M,i.userId,c),f=[],h=new Qm((function(e,t){return Ev(e.canonicalString(),t.canonicalString())})),d=gt(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=ek(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,tk))}}catch(y){d.e(y)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.hn[u]=c.keys()})),kk.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return _b(e).get(t).next((function(e){return e?(uv(e.userId===n.userId),zk(n.M,e)):null}))}},{key:"ln",value:function(e,t){var n=this;return this.hn[t]?kk.resolve(this.hn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.hn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return _b(e).Wt({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(uv(t.batchId>=r),a=zk(n.M,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return _b(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return _b(e).Ut("userMutationsIndex",n).next((function(e){return e.map((function(e){return zk(t.M,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Zg(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return Sb(e).Wt({range:i},(function(r,i,o){var u=wt(r,3),s=u[0],c=u[1],l=u[2],f=Jg(c);if(s===n.userId&&t.path.isEqual(f))return _b(e).get(l).next((function(e){if(!e)throw ov();uv(e.userId===n.userId),a.push(zk(n.M,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Qm(Ev),i=[];return t.forEach((function(t){var a=Zg(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=Sb(e).Wt({range:o},(function(e,i,a){var o=wt(e,3),u=o[0],s=o[1],c=o[2],l=Jg(s);u===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(u)})),kk.waitFor(i).next((function(){return n.fn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=Zg(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new Qm(Ev);return Sb(e).Wt({range:o},(function(e,t,a){var o=wt(e,3),s=o[0],c=o[1],l=o[2],f=Jg(c);s===n.userId&&r.isPrefixOf(f)?f.length===i&&(u=u.add(l)):a.done()})).next((function(){return n.fn(e,u)}))}},{key:"fn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(_b(e).get(t).next((function(e){if(null===e)throw ov();uv(e.userId===n.userId),r.push(zk(n.M,e))})))})),kk.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return bb(e.Ht,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.dn(t.batchId)})),kk.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"dn",value:function(e){delete this.hn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return kk.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return Sb(e).Wt({range:r},(function(e,n,r){if(e[0]===t.userId){var a=Jg(e[1]);i.push(a)}else r.done()})).next((function(){uv(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return Eb(e,this.userId,t)}},{key:"_n",value:function(e){var t=this;return Ib(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"Yt",value:function(t,n,r,i){return uv(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function Eb(e,t,n){var r=Zg(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return Sb(e).Wt({range:a,jt:!0},(function(e,n,r){var a=wt(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function _b(e){return Nk(e,"mutations")}function Sb(e){return Nk(e,"documentMutations")}function Ib(e){return Nk(e,"mutationQueues")}var Tb=function(){function e(t){dt(this,e),this.wn=t}return vt(e,[{key:"next",value:function(){return this.wn+=2,this.wn}}],[{key:"mn",value:function(){return new e(0)}},{key:"gn",value:function(){return new e(-1)}}]),e}(),Cb=function(){function e(t,n){dt(this,e),this.referenceDelegate=t,this.M=n}return vt(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.yn(e).next((function(n){var r=new Tb(n.highestTargetId);return n.highestTargetId=r.next(),t.pn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.yn(e).next((function(e){return Tv.fromTimestamp(new Iv(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.yn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.yn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.pn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.In(e,t).next((function(){return n.yn(e).next((function(r){return r.targetCount+=1,n.Tn(t,r),n.pn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.In(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Ab(e).delete(t.targetId)})).next((function(){return n.yn(e)})).next((function(t){return uv(t.targetCount>0),t.targetCount-=1,n.pn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return Ab(e).Wt((function(o,u){var s=qk(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return kk.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return Ab(e).Wt((function(e,n){var r=qk(n);t(r)}))}},{key:"yn",value:function(e){return Nb(e).get("targetGlobalKey").next((function(e){return uv(null!==e),e}))}},{key:"pn",value:function(e,t){return Nb(e).put("targetGlobalKey",t)}},{key:"In",value:function(e,t){return Ab(e).put(Hk(this.M,t))}},{key:"Tn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.yn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=Iy(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Ab(e).Wt({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=qk(n);Ty(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=Ob(e);return t.forEach((function(t){var o=Qg(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),kk.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=Ob(e);return kk.forEach(t,(function(t){var a=Qg(t.path);return kk.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=Ob(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Ob(e),i=ig();return r.Wt({range:n,jt:!0},(function(e,t,n){var r=Jg(e[1]),a=new Yv(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=Qg(t.path),r=IDBKeyRange.bound([n],[Sv(n)],!1,!0),i=0;return Ob(e).Wt({index:"documentTargetsIndex",jt:!0,range:r},(function(e,t,n){var r=wt(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"Et",value:function(e,t){return Ab(e).get(t).next((function(e){return e?qk(e):null}))}}]),e}();function Ab(e){return Nk(e,"targets")}function Nb(e){return Nk(e,"targetGlobal")}function Ob(e){return Nk(e,"targetDocuments")}function Pb(e){return Db.apply(this,arguments)}function Db(){return Db=lt(ht().mark((function e(t){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===cv.FAILED_PRECONDITION&&t.message===mk){e.next=2;break}throw t;case 2:nv("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),Db.apply(this,arguments)}function Rb(e,t){var n=wt(e,2),r=n[0],i=n[1],a=wt(t,2),o=a[0],u=a[1],s=Ev(r,o);return 0===s?Ev(i,u):s}var Lb=function(){function e(t){dt(this,e),this.En=t,this.buffer=new Qm(Rb),this.An=0}return vt(e,[{key:"Rn",value:function(){return++this.An}},{key:"bn",value:function(e){var t=[e,this.Rn()];if(this.buffer.size<this.En)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Rb(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),Mb=function(){function e(t,n){dt(this,e),this.garbageCollector=t,this.asyncQueue=n,this.Pn=!1,this.Vn=null}return vt(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.vn(e)}},{key:"stop",value:function(){this.Vn&&(this.Vn.cancel(),this.Vn=null)}},{key:"started",get:function(){return null!==this.Vn}},{key:"vn",value:function(e){var t=this,n=this.Pn?3e5:6e4;nv("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this.Vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,lt(ht().mark((function n(){return ht().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.Vn=null,t.Pn=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!_k(n.t0)){n.next=12;break}nv("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,Pb(n.t0);case 14:return n.next=16,t.vn(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),Fb=function(){function e(t,n){dt(this,e),this.Sn=t,this.params=n}return vt(e,[{key:"calculateTargetCount",value:function(e,t){return this.Sn.Dn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return kk.resolve(bv.A);var r=new Lb(t);return this.Sn.forEachTarget(e,(function(e){return r.bn(e.sequenceNumber)})).next((function(){return n.Sn.Cn(e,(function(e){return r.bn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.Sn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Sn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(nv("LruGarbageCollector","Garbage collection skipped; disabled"),kk.resolve(gb)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(nv("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),gb):n.xn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.Sn.getCacheSize(e)}},{key:"xn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(nv("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),tv()<=gn.DEBUG&&nv("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),kk.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),Ub=function(){function e(t,n){dt(this,e),this.db=t,this.garbageCollector=function(e,t){return new Fb(e,t)}(this,n)}return vt(e,[{key:"Dn",value:function(e){var t=this.Nn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Nn",value:function(e){var t=0;return this.Cn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Cn",value:function(e,t){return this.kn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return jb(e,n)}},{key:"removeReference",value:function(e,t,n){return jb(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return jb(e,t)}},{key:"Mn",value:function(e,t){return function(e,t){var n=!1;return Ib(e).zt((function(r){return Eb(e,r,t).next((function(e){return e&&(n=!0),kk.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.kn(e,(function(o,u){if(u<=t){var s=n.Mn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,Tv.min()),Ob(e).delete([0,Qg(o.path)])}))}));i.push(s)}})).next((function(){return kk.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return jb(e,t)}},{key:"kn",value:function(e,t){var n,r=Ob(e),i=bv.A;return r.Wt({index:"documentTargetsIndex"},(function(e,r){var a=wt(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==bv.A&&t(new Yv(Jg(n)),i),i=s,n=u):i=bv.A})).next((function(){i!==bv.A&&t(new Yv(Jg(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function jb(e,t){return Ob(e).put(function(e,t){return{targetId:0,path:Qg(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var Vb=function(){function e(){dt(this,e),this.changes=new Hm((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return vt(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,my.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?kk.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),Bb=function(){function e(t){dt(this,e),this.M=t}return vt(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return Hb(e).put(Wb(t),n)}},{key:"removeEntry",value:function(e,t){var n=Hb(e),r=Wb(t);return n.delete(r)}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.On(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this;return Hb(e).get(Wb(t)).next((function(e){return n.$n(t,e)}))}},{key:"Fn",value:function(e,t){var n=this;return Hb(e).get(Wb(t)).next((function(e){return{document:n.$n(t,e),size:wb(e)}}))}},{key:"getEntries",value:function(e,t){var n=this,r=$m();return this.Bn(e,t,(function(e,t){var i=n.$n(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Ln",value:function(e,t){var n=this,r=$m(),i=new Wm(Yv.comparator);return this.Bn(e,t,(function(e,t){var a=n.$n(e,t);r=r.insert(e,a),i=i.insert(e,wb(t))})).next((function(){return{documents:r,qn:i}}))}},{key:"Bn",value:function(e,t,n){if(t.isEmpty())return kk.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),a=i.getNext();return Hb(e).Wt({range:r},(function(e,t,r){for(var o=Yv.fromSegments(e);a&&Yv.comparator(a,o)<0;)n(a,null),a=i.getNext();a&&a.isEqual(o)&&(n(a,t),a=i.hasNext()?i.getNext():null),a?r.qt(a.path.toArray()):r.done()})).next((function(){for(;a;)n(a,null),a=i.hasNext()?i.getNext():null}))}},{key:"getAll",value:function(e,t,n){var r=this,i=$m(),a=t.length+1,o={};if(n.isEqual(Tv.min())){var u=t.toArray();o.range=IDBKeyRange.lowerBound(u)}else{var s=t.toArray(),c=Uk(n);o.range=IDBKeyRange.lowerBound([s,c],!0),o.index="collectionReadTimeIndex"}return Hb(e).Wt(o,(function(e,n,o){if(e.length===a){var u=r.$n(Yv.fromSegments(e),n);t.isPrefixOf(u.key.path)?i=i.insert(u.key,u):o.done()}})).next((function(){return i}))}},{key:"newChangeBuffer",value:function(e){return new zb(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return qb(e).get("remoteDocumentGlobalKey").next((function(e){return uv(!!e),e}))}},{key:"On",value:function(e,t){return qb(e).put("remoteDocumentGlobalKey",t)}},{key:"$n",value:function(e,t){if(t){var n=Mk(this.M,t);if(!n.isNoDocument()||!n.version.isEqual(Tv.min()))return n}return my.newInvalidDocument(e)}}]),e}(),zb=function(e){Et(n,e);var t=Ct(n);function n(e,r){var i;return dt(this,n),(i=t.call(this)).Un=e,i.trackRemovals=r,i.Kn=new Hm((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return vt(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Qm((function(e,t){return Ev(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Kn.get(a);if(o.isValidDocument()){var s=Fk(t.Un.M,o);i=i.add(a.path.popLast());var c=wb(s);r+=c-u,n.push(t.Un.addEntry(e,a,s))}else if(r-=u,t.trackRemovals){var l=Fk(t.Un.M,o.convertToNoDocument(Tv.min()));n.push(t.Un.addEntry(e,a,l))}else n.push(t.Un.removeEntry(e,a))})),i.forEach((function(r){n.push(t.Un.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Un.updateMetadata(e,r)),kk.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Un.Fn(e,t).next((function(e){return n.Kn.set(t,e.size),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Un.Ln(e,t).next((function(e){var t=e.documents;return e.qn.forEach((function(e,t){n.Kn.set(e,t)})),t}))}}]),n}(Vb);function qb(e){return Nk(e,"remoteDocumentGlobal")}function Hb(e){return Nk(e,"remoteDocuments")}function Wb(e){return e.path.toArray()}var Gb=function(){function e(t){dt(this,e),this.M=t}return vt(e,[{key:"kt",value:function(e,t,n,r){var i=this,a=new bk("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",$g,{unique:!0}),e.createObjectStore("documentMutations")}(e),Kb(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=kk.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Kb(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Tv.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").Ut().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",$g,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return kk.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Gn(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Qn(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.jn(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.Wn(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore("remoteDocuments");t.createIndex("readTimeIndex","readTime",{unique:!1}),t.createIndex("collectionReadTimeIndex",nk,{unique:!1})}(t)}))),n<10&&r>=10&&(o=o.next((function(){return i.zn(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:fk});t.createIndex("collectionPathOverlayIndex",hk,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",dk,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){!function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:uk}).createIndex("sequenceNumberIndex",sk,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:ck}).createIndex("documentKeyIndex",lk,{unique:!1})}(e)}))),o}},{key:"Qn",value:function(e){var t=0;return e.store("remoteDocuments").Wt((function(e,n){t+=wb(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Gn",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.Ut().next((function(n){return kk.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Ut("userMutationsIndex",i).next((function(r){return kk.forEach(r,(function(r){uv(r.userId===n.userId);var i=zk(t.M,r);return bb(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"jn",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Wt((function(n,i){var a=new Pv(n),o=function(e){return[0,Qg(e)]}(a);r.push(t.get(o).next((function(n){return n?kk.resolve():function(n){return t.put({targetId:0,path:Qg(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return kk.waitFor(r)}))}))}},{key:"Wn",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:ok});var n=t.store("collectionParents"),r=new fb,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Qg(i)})}};return t.store("remoteDocuments").Wt({jt:!0},(function(e,t){var n=new Pv(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Wt({jt:!0},(function(e,t){var n=wt(e,3),r=(n[0],n[1]),a=(n[2],Jg(r));return i(a.popLast())}))}))}},{key:"zn",value:function(e){var t=this,n=e.store("targets");return n.Wt((function(e,r){var i=qk(r),a=Hk(t.M,i);return n.put(a)}))}}]),e}();function Kb(e){e.createObjectStore("targetDocuments",{keyPath:ik}).createIndex("documentTargetsIndex",ak,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",rk,{unique:!0}),e.createObjectStore("targetGlobal")}var Qb="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Yb=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:12;if(dt(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Hn=a,this.window=o,this.document=u,this.Jn=c,this.Yn=l,this.Xn=f,this.Zn=null,this.ts=!1,this.isPrimary=!1,this.networkEnabled=!0,this.es=null,this.inForeground=!1,this.ns=null,this.ss=null,this.rs=Number.NEGATIVE_INFINITY,this.os=function(e){return Promise.resolve()},!e.vt())throw new lv(cv.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Ub(this,i),this.us=n+"main",this.M=new Lk(s),this.cs=new wk(this.us,this.Xn,new Gb(this.M)),this.hs=new Cb(this.referenceDelegate,this.M),this.ls=function(e){return new Bb(e)}(this.M),this.fs=new Qk,this.window&&this.window.localStorage?this.ds=this.window.localStorage:(this.ds=null,!1===l&&rv("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return vt(e,[{key:"start",value:function(){var e=this;return this._s().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new lv(cv.FAILED_PRECONDITION,Qb);return e.ws(),e.gs(),e.ys(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.hs.getHighestSequenceNumber(t)}))})).then((function(t){e.Zn=new bv(t,e.Jn)})).then((function(){e.ts=!0})).catch((function(t){return e.cs&&e.cs.close(),Promise.reject(t)}))}},{key:"ps",value:function(e){var t=this;return this.os=function(){var n=lt(ht().mark((function n(r){return ht().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.cs.Ot(function(){var t=lt(ht().mark((function t(n){return ht().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hn.enqueueAndForget(lt(ht().mark((function e(){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t._s();case 4:case"end":return e.stop()}}),e)})))))}},{key:"_s",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Jb(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.Is(t).next((function(t){t||(e.isPrimary=!1,e.Hn.enqueueRetryable((function(){return e.os(!1)})))}))})).next((function(){return e.Ts(t)})).next((function(n){return e.isPrimary&&!n?e.Es(t).next((function(){return!1})):!!n&&e.As(t).next((function(){return!0}))}))})).catch((function(t){if(_k(t))return nv("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return nv("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Hn.enqueueRetryable((function(){return e.os(t)})),e.isPrimary=t}))}},{key:"Is",value:function(e){var t=this;return Xb(e).get("owner").next((function(e){return kk.resolve(t.Rs(e))}))}},{key:"bs",value:function(e){return Jb(e).delete(this.clientId)}},{key:"Ps",value:function(){var e=lt(ht().mark((function e(){var t,n,r,i,a=this;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.Vs(this.rs,18e5)){e.next=6;break}return this.rs=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Nk(e,"clientMetadata");return t.Ut().next((function(e){var n=a.vs(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return kk.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.ds){n=gt(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.ds.removeItem(this.Ss(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ys",value:function(){var e=this;this.ss=this.Hn.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e._s().then((function(){return e.Ps()})).then((function(){return e.ys()}))}))}},{key:"Rs",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"Ts",value:function(e){var t=this;return this.Yn?kk.resolve(!0):Xb(e).get("owner").next((function(n){if(null!==n&&t.Vs(n.leaseTimestampMs,5e3)&&!t.Ds(n.ownerId)){if(t.Rs(n)&&t.networkEnabled)return!0;if(!t.Rs(n)){if(!n.allowTabSynchronization)throw new lv(cv.FAILED_PRECONDITION,Qb);return!1}}return!(!t.networkEnabled||!t.inForeground)||Jb(e).Ut().next((function(e){return void 0===t.vs(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&nv("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=lt(ht().mark((function e(){var t=this;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ts=!1,this.Cs(),this.ss&&(this.ss.cancel(),this.ss=null),this.xs(),this.Ns(),e.next=7,this.cs.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new Ak(e,bv.A);return t.Es(n).next((function(){return t.bs(n)}))}));case 7:this.cs.close(),this.ks();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"vs",value:function(e,t){var n=this;return e.filter((function(e){return n.Vs(e.updateTimeMs,t)&&!n.Ds(e.clientId)}))}},{key:"Ms",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Jb(t).Ut().next((function(t){return e.vs(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.ts}},{key:"getMutationQueue",value:function(e,t){return xb.Yt(e,this.M,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.hs}},{key:"getRemoteDocumentCache",value:function(){return this.ls}},{key:"getIndexManager",value:function(e){return new db(e)}},{key:"getDocumentOverlayCache",value:function(e){return Jk.Yt(this.M,e)}},{key:"getBundleCache",value:function(){return this.fs}},{key:"runTransaction",value:function(e,t,n){var r=this;nv("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=13===(i=this.Xn)?yk:12===i?vk:11===i?pk:void ov();return this.cs.runTransaction(e,o,u,(function(i){return a=new Ak(i,r.Zn?r.Zn.next():bv.A),"readwrite-primary"===t?r.Is(a).next((function(e){return!!e||r.Ts(a)})).next((function(t){if(!t)throw rv("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Hn.enqueueRetryable((function(){return r.os(!1)})),new lv(cv.FAILED_PRECONDITION,mk);return n(a)})).next((function(e){return r.As(a).next((function(){return e}))})):r.Os(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Os",value:function(e){var t=this;return Xb(e).get("owner").next((function(e){if(null!==e&&t.Vs(e.leaseTimestampMs,5e3)&&!t.Ds(e.ownerId)&&!t.Rs(e)&&!(t.Yn||t.allowTabSynchronization&&e.allowTabSynchronization))throw new lv(cv.FAILED_PRECONDITION,Qb)}))}},{key:"As",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Xb(e).put("owner",t)}},{key:"Es",value:function(e){var t=this,n=Xb(e);return n.get("owner").next((function(e){return t.Rs(e)?(nv("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):kk.resolve()}))}},{key:"Vs",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(rv("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ws",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ns=function(){e.Hn.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e._s()}))},this.document.addEventListener("visibilitychange",this.ns),this.inForeground="visible"===this.document.visibilityState)}},{key:"xs",value:function(){this.ns&&(this.document.removeEventListener("visibilitychange",this.ns),this.ns=null)}},{key:"gs",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.es=function(){t.Cs(),!Bt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Hn.enterRestrictedMode(!0),t.Hn.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.es))}},{key:"Ns",value:function(){this.es&&(this.window.removeEventListener("pagehide",this.es),this.es=null)}},{key:"Ds",value:function(e){var t;try{var n=null!==(null===(t=this.ds)||void 0===t?void 0:t.getItem(this.Ss(e)));return nv("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return rv("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Cs",value:function(){if(this.ds)try{this.ds.setItem(this.Ss(this.clientId),String(Date.now()))}catch(Jl){rv("Failed to set zombie client id.",Jl)}}},{key:"ks",value:function(){if(this.ds)try{this.ds.removeItem(this.Ss(this.clientId))}catch(Jl){}}},{key:"Ss",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"vt",value:function(){return wk.vt()}}]),e}();function Xb(e){return Nk(e,"owner")}function Jb(e){return Nk(e,"clientMetadata")}function $b(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Zb=vt((function e(t,n){dt(this,e),this.progress=t,this.$s=n})),ew=function(){function e(t,n,r){dt(this,e),this.ls=t,this.Fs=n,this.indexManager=r}return vt(e,[{key:"Bs",value:function(e,t){var n=this;return this.Fs.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.Ls(e,t,r)}))}},{key:"Ls",value:function(e,t,n){return this.ls.getEntry(e,t).next((function(e){var t,r=gt(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"qs",value:function(e,t){e.forEach((function(e,n){var r,i=gt(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"Us",value:function(e,t){var n=this;return this.ls.getEntries(e,t).next((function(t){return n.Ks(e,t).next((function(){return t}))}))}},{key:"Ks",value:function(e,t){var n=this;return this.Fs.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.qs(t,e)}))}},{key:"Gs",value:function(e,t,n){return function(e){return Yv.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Qs(e,t.path):Jy(t)?this.js(e,t,n):this.Ws(e,t,n)}},{key:"Qs",value:function(e,t){return this.Bs(e,new Yv(t)).next((function(e){var t=eg();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"js",value:function(e,t,n){var r=this,i=t.collectionGroup,a=eg();return this.indexManager.getCollectionParents(e,i).next((function(o){return kk.forEach(o,(function(o){var u=function(e,t){return new Hy(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.Ws(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"Ws",value:function(e,t,n){var r,i=this;return this.ls.getAll(e,t.path,n).next((function(n){return r=n,i.Fs.getAllMutationBatchesAffectingQuery(e,t)})).next((function(e){var t,n=gt(e);try{for(n.s();!(t=n.n()).done;){var i,a=t.value,o=gt(a.mutations);try{for(o.s();!(i=o.n()).done;){var u=i.value,s=u.key,c=r.get(s);null==c&&(c=my.newInvalidDocument(s),r=r.insert(s,c)),Cm(u,c,a.localWriteTime),c.isFoundDocument()||(r=r.remove(s))}}catch(l){o.e(l)}finally{o.f()}}}catch(l){n.e(l)}finally{n.f()}})).next((function(){return r.forEach((function(e,n){im(t,n)||(r=r.remove(e))})),r}))}}]),e}(),tw=function(){function e(t,n,r,i){dt(this,e),this.targetId=t,this.fromCache=n,this.zs=r,this.Hs=i}return vt(e,null,[{key:"Js",value:function(t,n){var r,i=ig(),a=ig(),o=gt(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),nw=function(){function e(){dt(this,e)}return vt(e,[{key:"Ys",value:function(e){this.Xs=e}},{key:"Gs",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(Tv.min())?this.Zs(e,t):this.Xs.Us(e,r).next((function(a){var o=i.ti(t,a);return(Ky(t)||Qy(t))&&i.ei(t.limitType,o,r,n)?i.Zs(e,t):(tv()<=gn.DEBUG&&nv("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),rm(t)),i.Xs.Gs(e,t,n).next((function(e){return o.forEach((function(t){e=e.insert(t.key,t)})),e})))}))}},{key:"ti",value:function(e,t){var n=new Qm(am(e));return t.forEach((function(t,r){im(e,r)&&(n=n.add(r))})),n}},{key:"ei",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Zs",value:function(e,t){return tv()<=gn.DEBUG&&nv("QueryEngine","Using full collection scan to execute query:",rm(t)),this.Xs.Gs(e,t,Tv.min())}}]),e}(),rw=function(){function e(t,n,r,i){dt(this,e),this.persistence=t,this.ni=n,this.M=i,this.si=new Wm(Ev),this.ii=new Hm((function(e){return Iy(e)}),Ty),this.ri=Tv.min(),this.oi=t.getRemoteDocumentCache(),this.hs=t.getTargetCache(),this.fs=t.getBundleCache(),this.ai(r)}return vt(e,[{key:"ai",value:function(e){this.indexManager=this.persistence.getIndexManager(e),this.Fs=this.persistence.getMutationQueue(e,this.indexManager),this.ui=new ew(this.oi,this.Fs,this.indexManager),this.oi.setIndexManager(this.indexManager),this.ni.Ys(this.ui)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.si)}))}}]),e}();function iw(e,t,n,r){return new rw(e,t,n,r)}function aw(e,t){return ow.apply(this,arguments)}function ow(){return ow=lt(ht().mark((function e(t,n){var r;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=sv(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.Fs.getAllMutationBatches(e).next((function(i){return t=i,r.ai(n),r.Fs.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=ig(),s=gt(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=gt(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=gt(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var y,m=gt(v.mutations);try{for(m.s();!(y=m.n()).done;){var g=y.value;u=u.add(g.key)}}catch(k){m.e(k)}finally{m.f()}}}catch(k){p.e(k)}finally{p.f()}return r.ui.Us(e,u).next((function(e){return{ci:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),ow.apply(this,arguments)}function uw(e,t){var n=sv(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.oi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=kk.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);uv(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.Fs.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.Fs.performConsistencyCheck(e)})).next((function(){return n.ui.Us(e,r)}))}))}function sw(e){var t=sv(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.hs.getLastRemoteSnapshotVersion(e)}))}function cw(e,t){var n=sv(e),r=t.snapshotVersion,i=n.si;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.oi.newChangeBuffer({trackRemovals:!0});i=n.si;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.hs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.hs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(Mv.EMPTY_BYTE_STRING,Tv.min()).withLastLimboFreeSnapshotVersion(Tv.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.hs.updateTargetData(e,c))}}));var u=$m();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(lw(e,a,t.documentUpdates).next((function(e){u=e}))),!r.isEqual(Tv.min())){var s=n.hs.getLastRemoteSnapshotVersion(e).next((function(t){return n.hs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(s)}return kk.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.ui.Ks(e,u)})).next((function(){return u}))})).then((function(e){return n.si=i,e}))}function lw(e,t,n){var r=ig();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=$m();return n.forEach((function(n,i){var a=e.get(n);i.isNoDocument()&&i.version.isEqual(Tv.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):nv("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)})),r}))}function fw(e,t){var n=sv(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.Fs.getNextMutationBatchAfterBatchId(e,t)}))}function hw(e,t){var n=sv(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.hs.getTargetData(e,t).next((function(i){return i?(r=i,kk.resolve(r)):n.hs.allocateTargetId(e).next((function(i){return r=new Rk(t,i,0,e.currentSequenceNumber),n.hs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.si.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.si=n.si.insert(e.targetId,e),n.ii.set(t,e.targetId)),e}))}function dw(e,t,n){return pw.apply(this,arguments)}function pw(){return pw=lt(ht().mark((function e(t,n,r){var i,a,o;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=sv(t),a=i.si.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),_k(e.t1)){e.next=12;break}throw e.t1;case 12:nv("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.si=i.si.remove(n),i.ii.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),pw.apply(this,arguments)}function vw(e,t,n){var r=sv(e),i=Tv.min(),a=ig();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=sv(e),i=r.ii.get(n);return void 0!==i?kk.resolve(r.si.get(i)):r.hs.getTargetData(t,n)}(r,e,Zy(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.hs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.ni.Gs(e,t,n?i:Tv.min(),n?a:ig())})).next((function(e){return{documents:e,hi:a}}))}))}function yw(e,t){var n=sv(e),r=sv(n.hs),i=n.si.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Et(e,t).next((function(e){return e?e.target:null}))}))}function mw(e){var t=sv(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=sv(e),i=$m(),a=Uk(n),o=Hb(t),u=IDBKeyRange.lowerBound(a,!0);return o.Wt({index:"readTimeIndex",range:u},(function(e,t){var n=Mk(r.M,t);i=i.insert(n.key,n),a=t.readTime})).next((function(){return{$s:i,readTime:jk(a)}}))}(t.oi,e,t.ri)})).then((function(e){var n=e.$s,r=e.readTime;return t.ri=r,n}))}function gw(e){return kw.apply(this,arguments)}function kw(){return kw=lt(ht().mark((function e(t){var n;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=sv(t),e.abrupt("return",n.persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=Hb(e),n=Tv.min();return t.Wt({index:"readTimeIndex",reverse:!0},(function(e,t,r){t.readTime&&(n=jk(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){n.ri=e})));case 2:case"end":return e.stop()}}),e)}))),kw.apply(this,arguments)}function bw(e,t,n,r){return ww.apply(this,arguments)}function ww(){return ww=lt(ht().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=sv(t),o=ig(),u=$m(),s=gt(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.li(l.metadata.name),l.document&&(o=o.add(f)),(h=n.fi(l)).setReadTime(n.di(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.oi.newChangeBuffer({trackRemovals:!0}),e.next=7,hw(a,function(e){return Zy(Gy(Pv.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return lw(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.hs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.hs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.ui.Ks(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)}))),ww.apply(this,arguments)}function xw(e,t){return Ew.apply(this,arguments)}function Ew(){return Ew=lt(ht().mark((function e(t,n){var r,i,a,o=arguments;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:ig(),e.next=3,hw(t,Zy(Wk(n.bundledQuery)));case 3:return i=e.sent,a=sv(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=xg(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.fs.saveNamedQuery(e,n);var o=i.withResumeToken(Mv.EMPTY_BYTE_STRING,t);return a.si=a.si.insert(o.targetId,o),a.hs.updateTargetData(e,o).next((function(){return a.hs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.hs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.fs.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),Ew.apply(this,arguments)}var _w=function(){function e(t){dt(this,e),this.M=t,this._i=new Map,this.wi=new Map}return vt(e,[{key:"getBundleMetadata",value:function(e,t){return kk.resolve(this._i.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this._i.set(t.id,{id:(n=t).id,version:n.version,createTime:xg(n.createTime)}),kk.resolve()}},{key:"getNamedQuery",value:function(e,t){return kk.resolve(this.wi.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.wi.set(t.name,function(e){return{name:e.name,query:Wk(e.bundledQuery),readTime:xg(e.readTime)}}(t)),kk.resolve()}}]),e}(),Sw=function(){function e(){dt(this,e),this.overlays=new Wm(Yv.comparator),this.mi=new Map}return vt(e,[{key:"getOverlay",value:function(e,t){return kk.resolve(this.overlays.get(t))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.Xt(e,t,i)})),kk.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.mi.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.mi.delete(n)),kk.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=tg(),i=t.length+1,a=new Yv(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return kk.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Wm((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=tg(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=tg(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return kk.resolve(s)}},{key:"Xt",value:function(e,t,n){if(null!==n){var r=this.overlays.get(n.key);if(null!==r){var i=this.mi.get(r.largestBatchId).delete(n.key);this.mi.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new Dk(t,n));var a=this.mi.get(t);void 0===a&&(a=ig(),this.mi.set(t,a)),this.mi.set(t,a.add(n.key))}}}]),e}(),Iw=function(){function e(){dt(this,e),this.gi=new Qm(Tw.yi),this.pi=new Qm(Tw.Ii)}return vt(e,[{key:"isEmpty",value:function(){return this.gi.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Tw(e,t);this.gi=this.gi.add(n),this.pi=this.pi.add(n)}},{key:"Ti",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.Ei(new Tw(e,t))}},{key:"Ai",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Ri",value:function(e){var t=this,n=new Yv(new Pv([])),r=new Tw(n,e),i=new Tw(n,e+1),a=[];return this.pi.forEachInRange([r,i],(function(e){t.Ei(e),a.push(e.key)})),a}},{key:"bi",value:function(){var e=this;this.gi.forEach((function(t){return e.Ei(t)}))}},{key:"Ei",value:function(e){this.gi=this.gi.delete(e),this.pi=this.pi.delete(e)}},{key:"Pi",value:function(e){var t=new Yv(new Pv([])),n=new Tw(t,e),r=new Tw(t,e+1),i=ig();return this.pi.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Tw(e,0),n=this.gi.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Tw=function(){function e(t,n){dt(this,e),this.key=t,this.Vi=n}return vt(e,null,[{key:"yi",value:function(e,t){return Yv.comparator(e.key,t.key)||Ev(e.Vi,t.Vi)}},{key:"Ii",value:function(e,t){return Ev(e.Vi,t.Vi)||Yv.comparator(e.key,t.key)}}]),e}(),Cw=function(){function e(t,n){dt(this,e),this.indexManager=t,this.referenceDelegate=n,this.Fs=[],this.vi=1,this.Si=new Qm(Tw.yi)}return vt(e,[{key:"checkEmpty",value:function(e){return kk.resolve(0===this.Fs.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.vi;this.vi++,this.Fs.length>0&&this.Fs[this.Fs.length-1];var a=new Ok(i,t,n,r);this.Fs.push(a);var o,u=gt(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.Si=this.Si.add(new Tw(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return kk.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return kk.resolve(this.Di(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.Ci(n),i=r<0?0:r;return kk.resolve(this.Fs.length>i?this.Fs[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return kk.resolve(0===this.Fs.length?-1:this.vi-1)}},{key:"getAllMutationBatches",value:function(e){return kk.resolve(this.Fs.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Tw(t,0),i=new Tw(t,Number.POSITIVE_INFINITY),a=[];return this.Si.forEachInRange([r,i],(function(e){var t=n.Di(e.Vi);a.push(t)})),kk.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Qm(Ev);return t.forEach((function(e){var t=new Tw(e,0),i=new Tw(e,Number.POSITIVE_INFINITY);n.Si.forEachInRange([t,i],(function(e){r=r.add(e.Vi)}))})),kk.resolve(this.xi(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Yv.isDocumentKey(i)||(i=i.child(""));var a=new Tw(new Yv(i),0),o=new Qm(Ev);return this.Si.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Vi)),!0)}),a),kk.resolve(this.xi(o))}},{key:"xi",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Di(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;uv(0===this.Ni(t.batchId,"removed")),this.Fs.shift();var r=this.Si;return kk.forEach(t.mutations,(function(i){var a=new Tw(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Si=r}))}},{key:"dn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Tw(t,0),r=this.Si.firstAfterOrEqual(n);return kk.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.Fs.length,kk.resolve()}},{key:"Ni",value:function(e,t){return this.Ci(e)}},{key:"Ci",value:function(e){return 0===this.Fs.length?0:e-this.Fs[0].batchId}},{key:"Di",value:function(e){var t=this.Ci(e);return t<0||t>=this.Fs.length?null:this.Fs[t]}}]),e}(),Aw=function(){function e(t){dt(this,e),this.ki=t,this.docs=new Wm(Yv.comparator),this.size=0}return vt(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.ki(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return kk.resolve(n?n.document.mutableCopy():my.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=$m();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():my.newInvalidDocument(e))})),kk.resolve(r)}},{key:"getAll",value:function(e,t,n){for(var r=$m(),i=new Yv(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||s.readTime.compareTo(n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return kk.resolve(r)}},{key:"Mi",value:function(e,t){return kk.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Nw(this)}},{key:"getSize",value:function(e){return kk.resolve(this.size)}}]),e}(),Nw=function(e){Et(n,e);var t=Ct(n);function n(e){var r;return dt(this,n),(r=t.call(this)).Un=e,r}return vt(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Un.addEntry(e,i)):t.Un.removeEntry(r)})),kk.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Un.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Un.getEntries(e,t)}}]),n}(Vb),Ow=function(){function e(t){dt(this,e),this.persistence=t,this.Oi=new Hm((function(e){return Iy(e)}),Ty),this.lastRemoteSnapshotVersion=Tv.min(),this.highestTargetId=0,this.$i=0,this.Fi=new Iw,this.targetCount=0,this.Bi=Tb.mn()}return vt(e,[{key:"forEachTarget",value:function(e,t){return this.Oi.forEach((function(e,n){return t(n)})),kk.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return kk.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return kk.resolve(this.$i)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Bi.next(),kk.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.$i&&(this.$i=t),kk.resolve()}},{key:"In",value:function(e){this.Oi.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Bi=new Tb(t),this.highestTargetId=t),e.sequenceNumber>this.$i&&(this.$i=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.In(t),this.targetCount+=1,kk.resolve()}},{key:"updateTargetData",value:function(e,t){return this.In(t),kk.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Oi.delete(t.target),this.Fi.Ri(t.targetId),this.targetCount-=1,kk.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Oi.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Oi.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),kk.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return kk.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Oi.get(t)||null;return kk.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Fi.Ti(t,n),kk.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Fi.Ai(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),kk.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Fi.Ri(t),kk.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Fi.Pi(t);return kk.resolve(n)}},{key:"containsKey",value:function(e,t){return kk.resolve(this.Fi.containsKey(t))}}]),e}(),Pw=function(){function e(t,n){var r=this;dt(this,e),this.Li={},this.overlays={},this.Zn=new bv(0),this.ts=!1,this.ts=!0,this.referenceDelegate=t(this),this.hs=new Ow(this),this.indexManager=new lb,this.ls=new Aw((function(e){return r.referenceDelegate.qi(e)})),this.M=new Lk(n),this.fs=new _w(this.M)}return vt(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.ts=!1,Promise.resolve()}},{key:"started",get:function(){return this.ts}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new Sw,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Li[e.toKey()];return n||(n=new Cw(t,this.referenceDelegate),this.Li[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.hs}},{key:"getRemoteDocumentCache",value:function(){return this.ls}},{key:"getBundleCache",value:function(){return this.fs}},{key:"runTransaction",value:function(e,t,n){var r=this;nv("MemoryPersistence","Starting transaction:",e);var i=new Dw(this.Zn.next());return this.referenceDelegate.Ui(),n(i).next((function(e){return r.referenceDelegate.Ki(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Gi",value:function(e,t){return kk.or(Object.values(this.Li).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Dw=function(e){Et(n,e);var t=Ct(n);function n(e){var r;return dt(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return vt(n)}(gk),Rw=function(){function e(t){dt(this,e),this.persistence=t,this.Qi=new Iw,this.ji=null}return vt(e,[{key:"zi",get:function(){if(this.ji)return this.ji;throw ov()}},{key:"addReference",value:function(e,t,n){return this.Qi.addReference(n,t),this.zi.delete(n.toString()),kk.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Qi.removeReference(n,t),this.zi.add(n.toString()),kk.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.zi.add(t.toString()),kk.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Qi.Ri(t.targetId).forEach((function(e){return n.zi.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.zi.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Ui",value:function(){this.ji=new Set}},{key:"Ki",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return kk.forEach(this.zi,(function(r){var i=Yv.fromPath(r);return t.Hi(e,i).next((function(e){e||n.removeEntry(i,Tv.min())}))})).next((function(){return t.ji=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Hi(e,t).next((function(e){e?n.zi.delete(t.toString()):n.zi.add(t.toString())}))}},{key:"qi",value:function(e){return 0}},{key:"Hi",value:function(e,t){var n=this;return kk.or([function(){return kk.resolve(n.Qi.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Gi(e,t)}])}}],[{key:"Wi",value:function(t){return new e(t)}}]),e}();function Lw(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Mw(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function Fw(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var Uw=function(){function e(t,n,r,i){dt(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return vt(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new lv(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(rv("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),jw=function(){function e(t,n,r){dt(this,e),this.targetId=t,this.state=n,this.error=r}return vt(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new lv(i.error.code,i.error.message))),a?new e(t,i.state,r):(rv("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),Vw=function(){function e(t,n){dt(this,e),this.clientId=t,this.activeTargetIds=n}return vt(e,null,[{key:"Ji",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=og(),o=0;i&&o<r.activeTargetIds.length;++o)i=Qv(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(rv("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),Bw=function(){function e(t,n){dt(this,e),this.clientId=t,this.onlineState=n}return vt(e,null,[{key:"Ji",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(rv("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),zw=function(){function e(){dt(this,e),this.activeTargetIds=og()}return vt(e,[{key:"Xi",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Zi",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Yi",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),qw=function(){function e(t,n,r,i,a){dt(this,e),this.window=t,this.Hn=n,this.persistenceKey=r,this.tr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new Wm(Ev),this.started=!1,this.ir=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.rr=Lw(this.persistenceKey,this.tr),this.ar=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.sr=this.sr.insert(this.tr,new zw),this.ur=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.cr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.hr=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.lr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.dr=function(e){return"firestore_bundle_loaded_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.er)}return vt(e,[{key:"start",value:function(){var e=lt(ht().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Ms();case 2:t=e.sent,n=gt(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.tr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(Lw(this.persistenceKey,i)))&&(o=Vw.Ji(i,a))&&(this.sr=this.sr.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this._r(),(u=this.storage.getItem(this.lr))&&(s=this.wr(u))&&this.mr(s),c=gt(this.ir);try{for(c.s();!(l=c.n()).done;)f=l.value,this.nr(f)}catch(d){c.e(d)}finally{c.f()}this.ir=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.ar,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.gr(this.sr)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.sr.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.yr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.yr(e,t,n),this.pr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Fw(this.persistenceKey,e));if(n){var r=jw.Ji(e,n);r&&(t=r.state)}}return this.Ir.Xi(e),this._r(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ir.Zi(e),this._r()}},{key:"isLocalQueryTarget",value:function(e){return this.Ir.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(Fw(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Tr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.pr(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Er(e)}},{key:"notifyBundleLoaded",value:function(){this.Ar()}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return nv("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){nv("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){nv("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"nr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(nv("SharedClientState","EVENT",n.key,n.newValue),n.key===this.rr)return void rv("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hn.enqueueRetryable(lt(ht().mark((function e(){var r,i,a,o,u,s;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=41;break}if(null===n.key){e.next=39;break}if(!t.ur.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Rr(n.key),e.abrupt("return",t.br(r,null));case 6:if(!(i=t.Pr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.br(i.clientId,i));case 9:e.next=39;break;case 11:if(!t.cr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Vr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.vr(a));case 16:e.next=39;break;case 18:if(!t.hr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Sr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Dr(o));case 23:e.next=39;break;case 25:if(n.key!==t.lr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.wr(n.newValue))){e.next=30;break}return e.abrupt("return",t.mr(u));case 30:e.next=39;break;case 32:if(n.key!==t.ar){e.next=37;break}s=function(e){var t=bv.A;if(null!=e)try{var n=JSON.parse(e);uv("number"==typeof n),t=n}catch(e){rv("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==bv.A&&t.sequenceNumberHandler(s),e.next=39;break;case 37:if(n.key!==t.dr){e.next=39;break}return e.abrupt("return",t.syncEngine.Cr());case 39:e.next=42;break;case 41:t.ir.push(n);case 42:case"end":return e.stop()}}),e)}))))}}},{key:"Ir",get:function(){return this.sr.get(this.tr)}},{key:"_r",value:function(){this.setItem(this.rr,this.Ir.Yi())}},{key:"yr",value:function(e,t,n){var r=new Uw(this.currentUser,e,t,n),i=Mw(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Yi())}},{key:"pr",value:function(e){var t=Mw(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Er",value:function(e){var t={clientId:this.tr,onlineState:e};this.storage.setItem(this.lr,JSON.stringify(t))}},{key:"Tr",value:function(e,t,n){var r=Fw(this.persistenceKey,e),i=new jw(e,t,n);this.setItem(r,i.Yi())}},{key:"Ar",value:function(){this.setItem(this.dr,"value-not-used")}},{key:"Rr",value:function(e){var t=this.ur.exec(e);return t?t[1]:null}},{key:"Pr",value:function(e,t){var n=this.Rr(e);return Vw.Ji(n,t)}},{key:"Vr",value:function(e,t){var n=this.cr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Uw.Ji(new $p(i),r,t)}},{key:"Sr",value:function(e,t){var n=this.hr.exec(e),r=Number(n[1]);return jw.Ji(r,t)}},{key:"wr",value:function(e){return Bw.Ji(e)}},{key:"vr",value:function(){var e=lt(ht().mark((function e(t){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Nr(t.batchId,t.state,t.error));case 2:nv("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Dr",value:function(e){return this.syncEngine.kr(e.targetId,e.state,e.error)}},{key:"br",value:function(e,t){var n=this,r=t?this.sr.insert(e,t):this.sr.remove(e),i=this.gr(this.sr),a=this.gr(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Mr(o,u).then((function(){n.sr=r}))}},{key:"mr",value:function(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"gr",value:function(e){var t=og();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"vt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),Hw=function(){function e(){dt(this,e),this.Or=new zw,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return vt(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Or.Xi(e),this.$r[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.$r[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Or.Zi(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Or.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.$r[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Or.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Or.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Or=new zw,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(){}}]),e}(),Ww=function(){function e(){dt(this,e)}return vt(e,[{key:"Fr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Gw=function(){function e(){var t=this;dt(this,e),this.Br=function(){return t.Lr()},this.qr=function(){return t.Ur()},this.Kr=[],this.Gr()}return vt(e,[{key:"Fr",value:function(e){this.Kr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Br),window.removeEventListener("offline",this.qr)}},{key:"Gr",value:function(){window.addEventListener("online",this.Br),window.addEventListener("offline",this.qr)}},{key:"Lr",value:function(){nv("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=gt(this.Kr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Ur",value:function(){nv("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=gt(this.Kr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"vt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Kw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Qw=function(){function e(t){dt(this,e),this.Qr=t.Qr,this.jr=t.jr}return vt(e,[{key:"Wr",value:function(e){this.zr=e}},{key:"Hr",value:function(e){this.Jr=e}},{key:"onMessage",value:function(e){this.Yr=e}},{key:"close",value:function(){this.jr()}},{key:"send",value:function(e){this.Qr(e)}},{key:"Xr",value:function(){this.zr()}},{key:"Zr",value:function(e){this.Jr(e)}},{key:"eo",value:function(e){this.Yr(e)}}]),e}(),Yw=function(e){Et(n,e);var t=Ct(n);function n(e){var r;return dt(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return vt(n,[{key:"ao",value:function(e,t,n,r){return new Promise((function(i,a){var o=new Xp;o.listenOnce(Wp.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case Hp.NO_ERROR:var t=o.getResponseJson();nv("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Hp.TIMEOUT:nv("Connection",'RPC "'+e+'" timed out'),a(new lv(cv.DEADLINE_EXCEEDED,"Request time out"));break;case Hp.HTTP_ERROR:var n=o.getStatus();if(nv("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(cv).indexOf(t)>=0?t:cv.UNKNOWN}(r.status);a(new lv(u,r.message))}else a(new lv(cv.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new lv(cv.UNAVAILABLE,"Connection failed."));break;default:ov()}}finally{nv("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"co",value:function(e,t,n){var r=[this.no,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=zp(),a=qp(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Qp({})),this.oo(o.initMessageHeaders,t,n),Vt()||qt()||jt().indexOf("Electron/")>=0||Ht()||jt().indexOf("MSAppHost/")>=0||zt()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");nv("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new Qw({Qr:function(e){l?nv("Connection","Not sending because WebChannel is closed:",e):(c||(nv("Connection","Opening WebChannel transport."),s.open(),c=!0),nv("Connection","WebChannel sending:",e),s.send(e))},jr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,Yp.EventType.OPEN,(function(){l||nv("Connection","WebChannel transport opened.")})),h(s,Yp.EventType.CLOSE,(function(){l||(l=!0,nv("Connection","WebChannel transport closed"),f.Zr())})),h(s,Yp.EventType.ERROR,(function(e){l||(l=!0,iv("Connection","WebChannel transport errored:",e),f.Zr(new lv(cv.UNAVAILABLE,"The operation could not be completed")))})),h(s,Yp.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];uv(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){nv("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=Fm[e];if(void 0!==t)return qm(t)}(a),u=i.message;void 0===o&&(o=cv.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.Zr(new lv(o,u)),s.close()}else nv("Connection","WebChannel received:",n),f.eo(n)}})),h(a,Gp.STAT_EVENT,(function(e){e.stat===Kp.PROXY?nv("Connection","Detected buffering proxy"):e.stat===Kp.NOPROXY&&nv("Connection","Detected no buffering proxy")})),setTimeout((function(){f.Xr()}),0),f}}]),n}(function(){function e(t){dt(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.no=n+"://"+t.host,this.so="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return vt(e,[{key:"io",value:function(e,t,n,r,i){var a=this.ro(e,t);nv("RestConnection","Sending: ",a,n);var o={};return this.oo(o,r,i),this.ao(e,a,o,n).then((function(e){return nv("RestConnection","Received: ",e),e}),(function(t){throw iv("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"uo",value:function(e,t,n,r,i){return this.io(e,t,n,r,i)}},{key:"oo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Zp,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ro",value:function(e,t){var n=Kw[e];return"".concat(this.no,"/v1/").concat(t,":").concat(n)}}]),e}());function Xw(){return"undefined"!=typeof window?window:null}function Jw(){return"undefined"!=typeof document?document:null}function $w(e){return new gg(e,!0)}var Zw=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;dt(this,e),this.Hn=t,this.timerId=n,this.ho=r,this.lo=i,this.fo=a,this._o=0,this.wo=null,this.mo=Date.now(),this.reset()}return vt(e,[{key:"reset",value:function(){this._o=0}},{key:"yo",value:function(){this._o=this.fo}},{key:"po",value:function(e){var t=this;this.cancel();var n=Math.floor(this._o+this.Io()),r=Math.max(0,Date.now()-this.mo),i=Math.max(0,n-r);i>0&&nv("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this._o," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.wo=this.Hn.enqueueAfterDelay(this.timerId,i,(function(){return t.mo=Date.now(),e()})),this._o*=this.lo,this._o<this.ho&&(this._o=this.ho),this._o>this.fo&&(this._o=this.fo)}},{key:"To",value:function(){null!==this.wo&&(this.wo.skipDelay(),this.wo=null)}},{key:"cancel",value:function(){null!==this.wo&&(this.wo.cancel(),this.wo=null)}},{key:"Io",value:function(){return(Math.random()-.5)*this._o}}]),e}(),ex=function(){function e(t,n,r,i,a,o,u,s){dt(this,e),this.Hn=t,this.Eo=r,this.Ao=i,this.Ro=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.bo=0,this.Po=null,this.Vo=null,this.stream=null,this.vo=new Zw(t,n)}return vt(e,[{key:"So",value:function(){return 1===this.state||5===this.state||this.Do()}},{key:"Do",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Co()}},{key:"stop",value:function(){var e=lt(ht().mark((function e(){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.So(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"xo",value:function(){this.state=0,this.vo.reset()}},{key:"No",value:function(){var e=this;this.Do()&&null===this.Po&&(this.Po=this.Hn.enqueueAfterDelay(this.Eo,6e4,(function(){return e.ko()})))}},{key:"Mo",value:function(e){this.Oo(),this.stream.send(e)}},{key:"ko",value:function(){var e=lt(ht().mark((function e(){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Do()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Oo",value:function(){this.Po&&(this.Po.cancel(),this.Po=null)}},{key:"$o",value:function(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}},{key:"close",value:function(){var e=lt(ht().mark((function e(t,n){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Oo(),this.$o(),this.vo.cancel(),this.bo++,4!==t?this.vo.reset():n&&n.code===cv.RESOURCE_EXHAUSTED?(rv(n.toString()),rv("Using maximum backoff delay to prevent overloading the backend."),this.vo.yo()):n&&n.code===cv.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Fo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Hr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Fo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Bo(this.bo),n=this.bo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=wt(t,2),i=r[0],a=r[1];e.bo===n&&e.Lo(i,a)}),(function(n){t((function(){var t=new lv(cv.UNKNOWN,"Fetching auth token failed: "+n.message);return e.qo(t)}))}))}},{key:"Lo",value:function(e,t){var n=this,r=this.Bo(this.bo);this.stream=this.Uo(e,t),this.stream.Wr((function(){r((function(){return n.state=2,n.Vo=n.Hn.enqueueAfterDelay(n.Ao,1e4,(function(){return n.Do()&&(n.state=3),Promise.resolve()})),n.listener.Wr()}))})),this.stream.Hr((function(e){r((function(){return n.qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Co",value:function(){var e=this;this.state=5,this.vo.po(lt(ht().mark((function t(){return ht().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"qo",value:function(e){return nv("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Bo",value:function(e){var t=this;return function(n){t.Hn.enqueueAndForget((function(){return t.bo===e?n():(nv("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),tx=function(e){Et(n,e);var t=Ct(n);function n(e,r,i,a,o,u){var s;return dt(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).M=o,s}return vt(n,[{key:"Uo",value:function(e,t){return this.Ro.co("Listen",e,t)}},{key:"onMessage",value:function(e){this.vo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:ov()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.N?(uv(void 0===t||"string"==typeof t),Mv.fromBase64String(t||"")):(uv(void 0===t||t instanceof Uint8Array),Mv.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?cv.UNKNOWN:qm(e.code);return new lv(t,e.message||"")}(o);n=new fg(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=Ig(e,s.document.name),l=xg(s.document.updateTime),f=new vy({mapValue:{fields:s.document.fields}}),h=my.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new cg(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var y=Ig(e,v.document),m=v.readTime?xg(v.readTime):Tv.min(),g=my.newNoDocument(y,m),k=v.removedTargetIds||[];n=new cg([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=Ig(e,b.document),x=b.removedTargetIds||[];n=new cg([],x,w,null)}else{if(!("filter"in t))return ov();t.filter;var E=t.filter;E.targetId;var _=E.count||0,S=new Bm(_),I=E.targetId;n=new lg(I,S)}return n}(this.M,e),n=function(e){if(!("targetChange"in e))return Tv.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Tv.min():t.readTime?xg(t.readTime):Tv.min()}(e);return this.listener.Ko(t,n)}},{key:"Go",value:function(e){var t={};t.database=Ag(this.M),t.addTarget=function(e,t){var n,r=t.target;return(n=Cy(r)?{documents:Mg(e,r)}:{query:Fg(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=bg(e,t.resumeToken):t.snapshotVersion.compareTo(Tv.min())>0&&(n.readTime=kg(e,t.snapshotVersion.toTimestamp())),n}(this.M,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ov()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.M,e);n&&(t.labels=n),this.Mo(t)}},{key:"Qo",value:function(e){var t={};t.database=Ag(this.M),t.removeTarget=e,this.Mo(t)}}]),n}(ex),nx=function(e){Et(n,e);var t=Ct(n);function n(e,r,i,a,o,u){var s;return dt(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).M=o,s.jo=!1,s}return vt(n,[{key:"Wo",get:function(){return this.jo}},{key:"start",value:function(){this.jo=!1,this.lastStreamToken=void 0,Er(_t(n.prototype),"start",this).call(this)}},{key:"Fo",value:function(){this.jo&&this.zo([])}},{key:"Uo",value:function(e,t){return this.Ro.co("Write",e,t)}},{key:"onMessage",value:function(e){if(uv(!!e.streamToken),this.lastStreamToken=e.streamToken,this.jo){this.vo.reset();var t=function(e,t){return e&&e.length>0?(uv(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?xg(e.updateTime):xg(t);return n.isEqual(Tv.min())&&(n=xg(t)),new Em(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=xg(e.commitTime);return this.listener.Ho(n,t)}return uv(!e.writeResults||0===e.writeResults.length),this.jo=!0,this.listener.Jo()}},{key:"Yo",value:function(){var e={};e.database=Ag(this.M),this.Mo(e)}},{key:"zo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Rg(t.M,e)}))};this.Mo(n)}}]),n}(ex),rx=function(e){Et(n,e);var t=Ct(n);function n(e,r,i,a){var o;return dt(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.Ro=i,o.M=a,o.Xo=!1,o}return vt(n,[{key:"Zo",value:function(){if(this.Xo)throw new lv(cv.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"io",value:function(e,t,n){var r=this;return this.Zo(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=wt(i,2),o=a[0],u=a[1];return r.Ro.io(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===cv.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new lv(cv.UNKNOWN,e.toString())}))}},{key:"uo",value:function(e,t,n){var r=this;return this.Zo(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=wt(i,2),o=a[0],u=a[1];return r.Ro.uo(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===cv.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new lv(cv.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.Xo=!0}}]),n}(function(){return vt((function e(){dt(this,e)}))}()),ix=function(){function e(t,n){dt(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.ta=0,this.ea=null,this.na=!0}return vt(e,[{key:"sa",value:function(){var e=this;0===this.ta&&(this.ia("Unknown"),this.ea=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ea=null,e.ra("Backend didn't respond within 10 seconds."),e.ia("Offline"),Promise.resolve()})))}},{key:"oa",value:function(e){"Online"===this.state?this.ia("Unknown"):(this.ta++,this.ta>=1&&(this.aa(),this.ra("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ia("Offline")))}},{key:"set",value:function(e){this.aa(),this.ta=0,"Online"===e&&(this.na=!1),this.ia(e)}},{key:"ia",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"ra",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.na?(rv(t),this.na=!1):nv("OnlineStateTracker",t)}},{key:"aa",value:function(){null!==this.ea&&(this.ea.cancel(),this.ea=null)}}]),e}(),ax=vt((function e(t,n,r,i,a){var o=this;dt(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.ua=[],this.ca=new Map,this.ha=new Set,this.la=[],this.fa=a,this.fa.Fr((function(e){r.enqueueAndForget(lt(ht().mark((function e(){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=yx(o),!e.t0){e.next=5;break}return nv("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=lt(ht().mark((function e(t){var n;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=sv(t)).ha.add(4),e.next=4,sx(n);case 4:return n.da.set("Unknown"),n.ha.delete(4),e.next=8,ox(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.da=new ix(r,i)}));function ox(e){return ux.apply(this,arguments)}function ux(){return ux=lt(ht().mark((function e(t){var n,r,i;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!yx(t)){e.next=18;break}n=gt(t.la),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),ux.apply(this,arguments)}function sx(e){return cx.apply(this,arguments)}function cx(){return cx=lt(ht().mark((function e(t){var n,r,i;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=gt(t.la),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),cx.apply(this,arguments)}function lx(e,t){var n=sv(e);n.ca.has(t.targetId)||(n.ca.set(t.targetId,t),vx(n)?px(n):Wx(n).Do()&&hx(n,t))}function fx(e,t){var n=sv(e),r=Wx(n);n.ca.delete(t),r.Do()&&dx(n,t),0===n.ca.size&&(r.Do()?r.No():yx(n)&&n.da.set("Unknown"))}function hx(e,t){e._a.Z(t.targetId),Wx(e).Go(t)}function dx(e,t){e._a.Z(t),Wx(e).Qo(t)}function px(e){e._a=new dg({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e.ca.get(t)||null}}),Wx(e).start(),e.da.sa()}function vx(e){return yx(e)&&!Wx(e).So()&&e.ca.size>0}function yx(e){return 0===sv(e).ha.size}function mx(e){e._a=void 0}function gx(e){return kx.apply(this,arguments)}function kx(){return kx=lt(ht().mark((function e(t){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.ca.forEach((function(e,n){hx(t,e)}));case 1:case"end":return e.stop()}}),e)}))),kx.apply(this,arguments)}function bx(e,t){return wx.apply(this,arguments)}function wx(){return wx=lt(ht().mark((function e(t,n){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:mx(t),vx(t)?(t.da.oa(n),px(t)):t.da.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),wx.apply(this,arguments)}function xx(e,t,n){return Ex.apply(this,arguments)}function Ex(){return Ex=lt(ht().mark((function e(t,n,r){var i;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.da.set("Online"),!(n instanceof fg&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=lt(ht().mark((function e(t,n){var r,i,a,o;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=gt(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.ca.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.ca.delete(o),t._a.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),nv("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,_x(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof cg?t._a.at(n):n instanceof lg?t._a._t(n):t._a.ht(n),r.isEqual(Tv.min())){e.next=29;break}return e.prev=14,e.next=17,sw(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e._a.yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.ca.get(r);i&&e.ca.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.ca.get(t);if(n){e.ca.set(t,n.withResumeToken(Mv.EMPTY_BYTE_STRING,n.snapshotVersion)),dx(e,t);var r=new Rk(n.target,t,1,n.sequenceNumber);hx(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),nv("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,_x(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),Ex.apply(this,arguments)}function _x(e,t,n){return Sx.apply(this,arguments)}function Sx(){return Sx=lt(ht().mark((function e(t,n,r){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_k(n)){e.next=2;break}throw n;case 2:return t.ha.add(1),e.next=5,sx(t);case 5:t.da.set("Offline"),r||(r=function(){return sw(t.localStore)}),t.asyncQueue.enqueueRetryable(lt(ht().mark((function e(){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return nv("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.ha.delete(1),e.next=6,ox(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),Sx.apply(this,arguments)}function Ix(e,t){return t().catch((function(n){return _x(e,n,t)}))}function Tx(e){return Cx.apply(this,arguments)}function Cx(){return Cx=lt(ht().mark((function e(t){var n,r,i,a;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=sv(t),r=Gx(n),i=n.ua.length>0?n.ua[n.ua.length-1].batchId:-1;case 2:if(!Ax(n)){e.next=19;break}return e.prev=3,e.next=6,fw(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.ua.length&&r.No(),e.abrupt("break",19);case 10:i=a.batchId,Nx(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,_x(n,e.t0);case 17:e.next=2;break;case 19:Ox(n)&&Px(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),Cx.apply(this,arguments)}function Ax(e){return yx(e)&&e.ua.length<10}function Nx(e,t){e.ua.push(t);var n=Gx(e);n.Do()&&n.Wo&&n.zo(t.mutations)}function Ox(e){return yx(e)&&!Gx(e).So()&&e.ua.length>0}function Px(e){Gx(e).start()}function Dx(e){return Rx.apply(this,arguments)}function Rx(){return Rx=lt(ht().mark((function e(t){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Gx(t).Yo();case 1:case"end":return e.stop()}}),e)}))),Rx.apply(this,arguments)}function Lx(e){return Mx.apply(this,arguments)}function Mx(){return Mx=lt(ht().mark((function e(t){var n,r,i,a;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Gx(t),r=gt(t.ua);try{for(r.s();!(i=r.n()).done;)a=i.value,n.zo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),Mx.apply(this,arguments)}function Fx(e,t,n){return Ux.apply(this,arguments)}function Ux(){return Ux=lt(ht().mark((function e(t,n,r){var i,a;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.ua.shift(),a=Pk.from(i,n,r),e.next=3,Ix(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,Tx(t);case 5:case"end":return e.stop()}}),e)}))),Ux.apply(this,arguments)}function jx(e,t){return Vx.apply(this,arguments)}function Vx(){return Vx=lt(ht().mark((function e(t,n){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&Gx(t).Wo,!e.t0){e.next=4;break}return e.next=4,function(){var e=lt(ht().mark((function e(t,n){var r,i;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!zm(i=n.code)||i===cv.ABORTED){e.next=7;break}return r=t.ua.shift(),Gx(t).xo(),e.next=5,Ix(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,Tx(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:Ox(t)&&Px(t);case 5:case"end":return e.stop()}}),e)}))),Vx.apply(this,arguments)}function Bx(e,t){return zx.apply(this,arguments)}function zx(){return zx=lt(ht().mark((function e(t,n){var r,i;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=sv(t)).asyncQueue.verifyOperationInProgress(),nv("RemoteStore","RemoteStore received new credentials"),i=yx(r),r.ha.add(3),e.next=6,sx(r);case 6:return i&&r.da.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.ha.delete(3),e.next=12,ox(r);case 12:case"end":return e.stop()}}),e)}))),zx.apply(this,arguments)}function qx(e,t){return Hx.apply(this,arguments)}function Hx(){return Hx=lt(ht().mark((function e(t,n){var r;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=sv(t),!n){e.next=7;break}return r.ha.delete(2),e.next=5,ox(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.ha.add(2),e.next=12,sx(r);case 12:r.da.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),Hx.apply(this,arguments)}function Wx(e){return e.wa||(e.wa=function(e,t,n){var r=sv(e);return r.Zo(),new tx(t,r.Ro,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{Wr:gx.bind(null,e),Hr:bx.bind(null,e),Ko:xx.bind(null,e)}),e.la.push(function(){var t=lt(ht().mark((function t(n){return ht().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.wa.xo(),vx(e)?px(e):e.da.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.wa.stop();case 6:mx(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.wa}function Gx(e){return e.ma||(e.ma=function(e,t,n){var r=sv(e);return r.Zo(),new nx(t,r.Ro,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{Wr:Dx.bind(null,e),Hr:jx.bind(null,e),Jo:Lx.bind(null,e),Ho:Fx.bind(null,e)}),e.la.push(function(){var t=lt(ht().mark((function t(n){return ht().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.ma.xo(),t.next=4,Tx(e);case 4:t.next=9;break;case 6:return t.next=8,e.ma.stop();case 8:e.ua.length>0&&(nv("RemoteStore","Stopping write stream with ".concat(e.ua.length," pending writes")),e.ua=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.ma}var Kx=function(){function e(t,n,r,i,a){dt(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new fv,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return vt(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new lv(cv.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function Qx(e,t){if(rv("AsyncQueue","".concat(t,": ").concat(e)),_k(e))return new lv(cv.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var Yx=function(){function e(t){dt(this,e),this.comparator=t?function(e,n){return t(e,n)||Yv.comparator(e.key,n.key)}:function(e,t){return Yv.comparator(e.key,t.key)},this.keyedMap=eg(),this.sortedSet=new Wm(this.comparator)}return vt(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),Xx=function(){function e(){dt(this,e),this.ga=new Wm(Yv.comparator)}return vt(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.ga.get(t);n?0!==e.type&&3===n.type?this.ga=this.ga.insert(t,e):3===e.type&&1!==n.type?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.ga=this.ga.remove(t):1===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):ov():this.ga=this.ga.insert(t,e)}},{key:"ya",value:function(){var e=[];return this.ga.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),Jx=function(){function e(t,n,r,i,a,o,u,s){dt(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return vt(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&tm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,Yx.emptySet(n),a,r,i,!0,!1)}}]),e}(),$x=vt((function e(){dt(this,e),this.pa=void 0,this.listeners=[]})),Zx=vt((function e(){dt(this,e),this.queries=new Hm((function(e){return nm(e)}),tm),this.onlineState="Unknown",this.Ia=new Set}));function eE(e,t){return tE.apply(this,arguments)}function tE(){return tE=lt(ht().mark((function e(t,n){var r,i,a,o,u;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=sv(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new $x),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.pa=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=Qx(e.t0,"Initialization of query '".concat(rm(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.Ta(r.onlineState),o.pa&&n.Ea(o.pa)&&oE(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),tE.apply(this,arguments)}function nE(e,t){return rE.apply(this,arguments)}function rE(){return rE=lt(ht().mark((function e(t,n){var r,i,a,o,u;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=sv(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),rE.apply(this,arguments)}function iE(e,t){var n,r=sv(e),i=!1,a=gt(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=gt(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Ea(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.pa=o}}}catch(f){a.e(f)}finally{a.f()}i&&oE(r)}function aE(e,t,n){var r=sv(e),i=r.queries.get(t);if(i){var a,o=gt(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function oE(e){e.Ia.forEach((function(e){e.next()}))}var uE=function(){function e(t,n,r){dt(this,e),this.query=t,this.Aa=n,this.Ra=!1,this.ba=null,this.onlineState="Unknown",this.options=r||{}}return vt(e,[{key:"Ea",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=gt(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new Jx(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.Ra?this.Pa(e)&&(this.Aa.next(e),a=!0):this.Va(e,this.onlineState)&&(this.va(e),a=!0),this.ba=e,a}},{key:"onError",value:function(e){this.Aa.error(e)}},{key:"Ta",value:function(e){this.onlineState=e;var t=!1;return this.ba&&!this.Ra&&this.Va(this.ba,e)&&(this.va(this.ba),t=!0),t}},{key:"Va",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Sa||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"Pa",value:function(e){if(e.docChanges.length>0)return!0;var t=this.ba&&this.ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"va",value:function(e){e=Jx.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Ra=!0,this.Aa.next(e)}}]),e}(),sE=function(){function e(t,n){dt(this,e),this.payload=t,this.byteLength=n}return vt(e,[{key:"Da",value:function(){return"metadata"in this.payload}}]),e}(),cE=function(){function e(t){dt(this,e),this.M=t}return vt(e,[{key:"li",value:function(e){return Ig(this.M,e)}},{key:"fi",value:function(e){return e.metadata.exists?Pg(this.M,e.document,!1):my.newNoDocument(this.li(e.metadata.name),this.di(e.metadata.readTime))}},{key:"di",value:function(e){return xg(e)}}]),e}(),lE=function(){function e(t,n,r){dt(this,e),this.Ca=t,this.localStore=n,this.M=r,this.queries=[],this.documents=[],this.progress=fE(t)}return vt(e,[{key:"xa",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"Na",value:function(e){var t,n=new Map,r=new cE(this.M),i=gt(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.li(a.metadata.name),s=gt(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||ig()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=lt(ht().mark((function e(){var t,n,r,i,a;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bw(this.localStore,new cE(this.M),this.documents,this.Ca.id);case 2:t=e.sent,n=this.Na(this.documents),r=gt(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,xw(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",new Zb(Object.assign({},this.progress),t)));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function fE(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var hE=vt((function e(t){dt(this,e),this.key=t})),dE=vt((function e(t){dt(this,e),this.key=t})),pE=function(){function e(t,n){dt(this,e),this.query=t,this.ka=n,this.Ma=null,this.current=!1,this.Oa=ig(),this.mutatedKeys=ig(),this.$a=am(t),this.Fa=new Yx(this.$a)}return vt(e,[{key:"Ba",get:function(){return this.ka}},{key:"La",value:function(e,t){var n=this,r=t?t.qa:new Xx,i=t?t.Fa:this.Fa,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s=Ky(this.query)&&i.size===this.query.limit?i.last():null,c=Qy(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=im(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Ua(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.$a(f,s)>0||c&&n.$a(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),Ky(this.query)||Qy(this.query))for(;o.size>this.query.limit;){var l=Ky(this.query)?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Fa:o,qa:r,ei:u,mutatedKeys:a}}},{key:"Ua",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Fa;this.Fa=e.Fa,this.mutatedKeys=e.mutatedKeys;var a=e.qa.ya();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ov()}};return n(e)-n(t)}(e.type,t.type)||r.$a(e.doc,t.doc)})),this.Ka(n);var o=t?this.Ga():[],u=0===this.Oa.size&&this.current?1:0,s=u!==this.Ma;return this.Ma=u,0!==a.length||s?{snapshot:new Jx(this.query,e.Fa,i,a,e.mutatedKeys,0===u,s,!1),Qa:o}:{Qa:o}}},{key:"Ta",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Fa:this.Fa,qa:new Xx,mutatedKeys:this.mutatedKeys,ei:!1},!1)):{Qa:[]}}},{key:"ja",value:function(e){return!this.ka.has(e)&&!!this.Fa.has(e)&&!this.Fa.get(e).hasLocalMutations}},{key:"Ka",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.ka=t.ka.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.ka=t.ka.delete(e)})),this.current=e.current)}},{key:"Ga",value:function(){var e=this;if(!this.current)return[];var t=this.Oa;this.Oa=ig(),this.Fa.forEach((function(t){e.ja(t.key)&&(e.Oa=e.Oa.add(t.key))}));var n=[];return t.forEach((function(t){e.Oa.has(t)||n.push(new dE(t))})),this.Oa.forEach((function(e){t.has(e)||n.push(new hE(e))})),n}},{key:"Wa",value:function(e){this.ka=e.hi,this.Oa=ig();var t=this.La(e.documents);return this.applyChanges(t,!0)}},{key:"za",value:function(){return Jx.fromInitialDocuments(this.query,this.Fa,this.mutatedKeys,0===this.Ma)}}]),e}(),vE=vt((function e(t,n,r){dt(this,e),this.query=t,this.targetId=n,this.view=r})),yE=vt((function e(t){dt(this,e),this.key=t,this.Ha=!1})),mE=function(){function e(t,n,r,i,a,o){dt(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Ja={},this.Ya=new Hm((function(e){return nm(e)}),tm),this.Xa=new Map,this.Za=new Set,this.tu=new Wm(Yv.comparator),this.eu=new Map,this.nu=new Iw,this.su={},this.iu=new Map,this.ru=Tb.gn(),this.onlineState="Unknown",this.ou=void 0}return vt(e,[{key:"isPrimaryClient",get:function(){return!0===this.ou}}]),e}();function gE(e,t){return kE.apply(this,arguments)}function kE(){return kE=lt(ht().mark((function e(t,n){var r,i,a,o,u,s;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=f_(t),!(o=r.Ya.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.za(),e.next=15;break;case 6:return e.next=8,hw(r.localStore,Zy(n));case 8:return u=e.sent,r.isPrimaryClient&&lx(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,bE(r,n,i,"current"===s);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),kE.apply(this,arguments)}function bE(e,t,n,r){return wE.apply(this,arguments)}function wE(){return wE=lt(ht().mark((function e(t,n,r,i){var a,o,u,s,c,l;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.au=function(e,n,r){return function(){var e=lt(ht().mark((function e(t,n,r,i){var a,o,u;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.La(r),e.t0=a.ei,!e.t0){e.next=6;break}return e.next=5,vw(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.La(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(BE(t,n.targetId,u.Qa),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,vw(t.localStore,n,!0);case 3:return a=e.sent,o=new pE(n,a.hi),u=o.La(a.documents),s=sg.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(u,t.isPrimaryClient,s),BE(t,r,c.Qa),l=new vE(n,r,o),e.abrupt("return",(t.Ya.set(n,l),t.Xa.has(r)?t.Xa.get(r).push(n):t.Xa.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),wE.apply(this,arguments)}function xE(e,t){return EE.apply(this,arguments)}function EE(){return EE=lt(ht().mark((function e(t,n){var r,i,a;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=sv(t),i=r.Ya.get(n),!((a=r.Xa.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.Xa.set(i.targetId,a.filter((function(e){return!tm(e,n)}))),void r.Ya.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,dw(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),fx(r.remoteStore,i.targetId),jE(r,i.targetId)})).catch(Pb);case 9:e.next=14;break;case 11:return jE(r,i.targetId),e.next=14,dw(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),EE.apply(this,arguments)}function _E(e,t,n){return SE.apply(this,arguments)}function SE(){return SE=lt(ht().mark((function e(t,n,r){var i,a,o;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=h_(t),e.prev=1,e.next=4,function(e,t){var n,r=sv(e),i=Iv.now(),a=t.reduce((function(e,t){return e.add(t.key)}),ig());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.ui.Us(e,a).next((function(a){n=a;var o,u=[],s=gt(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=Am(c,n.get(c.key));null!=l&&u.push(new Dm(c.key,l,yy(l.value.mapValue),_m.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return r.Fs.addMutationBatch(e,i,u,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.su[e.currentUser.toKey()];r||(r=new Wm(Ev)),r=r.insert(t,n),e.su[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,HE(i,a.changes);case 9:return e.next=11,Tx(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=Qx(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),SE.apply(this,arguments)}function IE(e,t){return TE.apply(this,arguments)}function TE(){return TE=lt(ht().mark((function e(t,n){var r,i;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=sv(t),e.prev=1,e.next=4,cw(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.eu.get(t);n&&(uv(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Ha=!0:e.modifiedDocuments.size>0?uv(n.Ha):e.removedDocuments.size>0&&(uv(n.Ha),n.Ha=!1))})),e.next=8,HE(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Pb(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),TE.apply(this,arguments)}function CE(e,t,n){var r=sv(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Ya.forEach((function(e,n){var r=n.view.Ta(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=sv(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=gt(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Ta(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&oE(n)}(r.eventManager,t),i.length&&r.Ja.Ko(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function AE(e,t,n){return NE.apply(this,arguments)}function NE(){return NE=lt(ht().mark((function e(t,n,r){var i,a,o,u,s,c;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=sv(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.eu.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new Wm(Yv.comparator)).insert(o,my.newNoDocument(o,Tv.min())),s=ig().add(o),c=new ug(Tv.min(),new Map,new Qm(Ev),u,s),e.next=9,IE(i,c);case 9:i.tu=i.tu.remove(o),i.eu.delete(n),qE(i),e.next=16;break;case 14:return e.next=16,dw(i.localStore,n,!1).then((function(){return jE(i,n,r)})).catch(Pb);case 16:case"end":return e.stop()}}),e)}))),NE.apply(this,arguments)}function OE(e,t){return PE.apply(this,arguments)}function PE(){return PE=lt(ht().mark((function e(t,n){var r,i,a;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=sv(t),i=n.batch.batchId,e.prev=1,e.next=4,uw(r.localStore,n);case 4:return a=e.sent,UE(r,i,null),FE(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,HE(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Pb(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),PE.apply(this,arguments)}function DE(e,t,n){return RE.apply(this,arguments)}function RE(){return RE=lt(ht().mark((function e(t,n,r){var i,a;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=sv(t),e.prev=1,e.next=4,function(e,t){var n=sv(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.Fs.lookupMutationBatch(e,t).next((function(t){return uv(null!==t),r=t.keys(),n.Fs.removeMutationBatch(e,t)})).next((function(){return n.Fs.performConsistencyCheck(e)})).next((function(){return n.ui.Us(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,UE(i,n,r),FE(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,HE(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Pb(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),RE.apply(this,arguments)}function LE(e,t){return ME.apply(this,arguments)}function ME(){return ME=lt(ht().mark((function e(t,n){var r,i,a,o;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return yx((r=sv(t)).remoteStore)||nv("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=sv(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.Fs.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.iu.get(i)||[]).push(n),r.iu.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=Qx(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),ME.apply(this,arguments)}function FE(e,t){(e.iu.get(t)||[]).forEach((function(e){e.resolve()})),e.iu.delete(t)}function UE(e,t,n){var r=sv(e),i=r.su[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.su[r.currentUser.toKey()]=i}}function jE(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=gt(e.Xa.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.Ya.delete(a),n&&e.Ja.uu(a,n)}}catch(o){i.e(o)}finally{i.f()}e.Xa.delete(t),e.isPrimaryClient&&e.nu.Ri(t).forEach((function(t){e.nu.containsKey(t)||VE(e,t)}))}function VE(e,t){e.Za.delete(t.path.canonicalString());var n=e.tu.get(t);null!==n&&(fx(e.remoteStore,n),e.tu=e.tu.remove(t),e.eu.delete(n),qE(e))}function BE(e,t,n){var r,i=gt(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof hE?(e.nu.addReference(a.key,t),zE(e,a)):a instanceof dE?(nv("SyncEngine","Document no longer in limbo: "+a.key),e.nu.removeReference(a.key,t),e.nu.containsKey(a.key)||VE(e,a.key)):ov()}}catch(o){i.e(o)}finally{i.f()}}function zE(e,t){var n=t.key,r=n.path.canonicalString();e.tu.get(n)||e.Za.has(r)||(nv("SyncEngine","New document in limbo: "+n),e.Za.add(r),qE(e))}function qE(e){for(;e.Za.size>0&&e.tu.size<e.maxConcurrentLimboResolutions;){var t=e.Za.values().next().value;e.Za.delete(t);var n=new Yv(Pv.fromString(t)),r=e.ru.next();e.eu.set(r,new yE(n)),e.tu=e.tu.insert(n,r),lx(e.remoteStore,new Rk(Zy(Gy(n.path)),r,2,bv.A))}}function HE(e,t,n){return WE.apply(this,arguments)}function WE(){return WE=lt(ht().mark((function e(t,n,r){var i,a,o,u;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=sv(t),a=[],o=[],u=[],e.t0=i.Ya.isEmpty(),e.t0){e.next=9;break}return i.Ya.forEach((function(e,t){u.push(i.au(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=tw.Js(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.Ja.Ko(a),e.next=9,function(){var e=lt(ht().mark((function e(t,n){var r,i,a,o,u,s,c,l;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=sv(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return kk.forEach(n,(function(t){return kk.forEach(t.zs,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return kk.forEach(t.Hs,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),_k(e.t0)){e.next=10;break}throw e.t0;case 10:nv("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=gt(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.si.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.si=r.si.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),WE.apply(this,arguments)}function GE(e,t){return KE.apply(this,arguments)}function KE(){return KE=lt(ht().mark((function e(t,n){var r,i;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=sv(t)).currentUser.isEqual(n)){e.next=11;break}return nv("SyncEngine","User change. New user:",n.toKey()),e.next=5,aw(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.iu.forEach((function(e){e.forEach((function(e){e.reject(new lv(cv.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.iu.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,HE(r,i.ci);case 11:case"end":return e.stop()}}),e)}))),KE.apply(this,arguments)}function QE(e,t){var n=sv(e),r=n.eu.get(t);if(r&&r.Ha)return ig().add(r.key);var i=ig(),a=n.Xa.get(t);if(!a)return i;var o,u=gt(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.Ya.get(s);i=i.unionWith(c.view.Ba)}}catch(l){u.e(l)}finally{u.f()}return i}function YE(e,t){return XE.apply(this,arguments)}function XE(){return XE=lt(ht().mark((function e(t,n){var r,i,a;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=sv(t),e.next=3,vw(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.Wa(i),e.abrupt("return",(r.isPrimaryClient&&BE(r,n.targetId,a.Qa),a));case 6:case"end":return e.stop()}}),e)}))),XE.apply(this,arguments)}function JE(e){return $E.apply(this,arguments)}function $E(){return $E=lt(ht().mark((function e(t){var n;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=sv(t),e.abrupt("return",mw(n.localStore).then((function(e){return HE(n,e)})));case 2:case"end":return e.stop()}}),e)}))),$E.apply(this,arguments)}function ZE(e,t,n,r){return e_.apply(this,arguments)}function e_(){return e_=lt(ht().mark((function e(t,n,r,i){var a,o;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=sv(t),e.next=3,function(e,t){var n=sv(e),r=sv(n.Fs);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.ln(e,t).next((function(t){return t?n.ui.Us(e,t):kk.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,Tx(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(UE(a,n,i||null),FE(a,n),function(e,t){sv(sv(e).Fs).dn(t)}(a.localStore,n)):ov();case 11:return e.next=13,HE(a,o);case 13:e.next=16;break;case 15:nv("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),e_.apply(this,arguments)}function t_(e,t){return n_.apply(this,arguments)}function n_(){return n_=lt(ht().mark((function e(t,n){var r,i,a,o,u,s,c,l;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f_(r=sv(t)),h_(r),!0!==n||!0===r.ou){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,r_(r,i.toArray());case 5:return a=e.sent,r.ou=!0,e.next=9,qx(r.remoteStore,!0);case 9:o=gt(a);try{for(o.s();!(u=o.n()).done;)s=u.value,lx(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.ou){e.next=25;break}return c=[],l=Promise.resolve(),r.Xa.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return jE(r,t),dw(r.localStore,t,!0)})),fx(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,r_(r,c);case 21:return function(e){var t=sv(e);t.eu.forEach((function(e,n){fx(t.remoteStore,n)})),t.nu.bi(),t.eu=new Map,t.tu=new Wm(Yv.comparator)}(r),r.ou=!1,e.next=25,qx(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),n_.apply(this,arguments)}function r_(e,t,n){return i_.apply(this,arguments)}function i_(){return i_=lt(ht().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,y,m;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=sv(t),a=[],o=[],u=gt(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.Xa.get(c))||0===f.length){e.next=34;break}return e.next=11,hw(i.localStore,Zy(f[0]));case 11:l=e.sent,h=gt(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.Ya.get(p),e.next=20,YE(i,v);case 20:(y=e.sent).snapshot&&o.push(y.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,yw(i.localStore,c);case 36:return m=e.sent,e.next=39,hw(i.localStore,m);case 39:return l=e.sent,e.next=42,bE(i,a_(m),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.Ja.Ko(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),i_.apply(this,arguments)}function a_(e){return Wy(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function o_(e){var t=sv(e);return sv(sv(t.localStore).persistence).Ms()}function u_(e,t,n,r){return s_.apply(this,arguments)}function s_(){return s_=lt(ht().mark((function e(t,n,r,i){var a,o,u;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=sv(t)).ou){e.next=5;break}nv("SyncEngine","Ignoring unexpected query state notification."),e.next=21;break;case 5:if(!a.Xa.has(n)){e.next=21;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?9:"rejected"===e.t0?16:20;break;case 9:return e.next=11,mw(a.localStore);case 11:return o=e.sent,u=ug.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=15,HE(a,o,u);case 15:return e.abrupt("break",21);case 16:return e.next=18,dw(a.localStore,n,!0);case 18:return jE(a,n,i),e.abrupt("break",21);case 20:ov();case 21:case"end":return e.stop()}}),e)}))),s_.apply(this,arguments)}function c_(e,t,n){return l_.apply(this,arguments)}function l_(){return l_=lt(ht().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=f_(t)).ou){e.next=45;break}a=gt(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.Xa.has(u)){e.next=10;break}return nv("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,yw(i.localStore,u);case 12:return s=e.sent,e.next=15,hw(i.localStore,s);case 15:return c=e.sent,e.next=18,bE(i,a_(s),c.targetId,!1);case 18:lx(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=gt(r),e.prev=30,h=ht().mark((function e(){var t;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.Xa.has(t),!e.t0){e.next=5;break}return e.next=5,dw(i.localStore,t,!1).then((function(){fx(i.remoteStore,t),jE(i,t)})).catch(Pb);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),l_.apply(this,arguments)}function f_(e){var t=sv(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=IE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=QE.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=AE.bind(null,t),t.Ja.Ko=iE.bind(null,t.eventManager),t.Ja.uu=aE.bind(null,t.eventManager),t}function h_(e){var t=sv(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=OE.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=DE.bind(null,t),t}function d_(e,t,n){var r=sv(e);(function(){var e=lt(ht().mark((function e(t,n,r){var i,a,o,u,s;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=sv(e),r=xg(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.fs.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=10;break}return e.next=9,n.close();case 9:return e.abrupt("return",void r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)));case 10:return r._updateProgress(fE(i)),a=new lE(i,t.localStore,n.M),e.next=14,n.cu();case 14:o=e.sent;case 15:if(!o){e.next=25;break}return e.next=18,a.xa(o);case 18:return(u=e.sent)&&r._updateProgress(u),e.next=22,n.cu();case 22:o=e.sent;case 23:e.next=15;break;case 25:return e.next=27,a.complete();case 27:return s=e.sent,e.next=30,HE(t,s.$s,void 0);case 30:return e.next=32,function(e,t){var n=sv(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.fs.saveBundleMetadata(e,t)}))}(t.localStore,i);case 32:r._completeWith(s.progress),e.next=38;break;case 35:e.prev=35,e.t0=e.catch(0),iv("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0);case 38:case"end":return e.stop()}}),e,null,[[0,35]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(){r.sharedClientState.notifyBundleLoaded()}))}var p_=function(){function e(){dt(this,e),this.synchronizeTabs=!1}return vt(e,[{key:"initialize",value:function(){var e=lt(ht().mark((function e(t){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.M=$w(t.databaseInfo.databaseId),this.sharedClientState=this.hu(t),this.persistence=this.lu(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.fu(t),this.localStore=this.du(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"fu",value:function(e){return null}},{key:"du",value:function(e){return iw(this.persistence,new nw,e.initialUser,this.M)}},{key:"lu",value:function(e){return new Pw(Rw.Wi,this.M)}},{key:"hu",value:function(e){return new Hw}},{key:"terminate",value:function(){var e=lt(ht().mark((function e(){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),v_=function(e){Et(n,e);var t=Ct(n);function n(e,r,i){var a;return dt(this,n),(a=t.call(this))._u=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return vt(n,[{key:"initialize",value:function(){var e=lt(ht().mark((function e(t){var r=this;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Er(_t(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,gw(this.localStore);case 4:return e.next=6,this._u.initialize(this,t);case 6:return e.next=8,h_(this._u.syncEngine);case 8:return e.next=10,Tx(this._u.remoteStore);case 10:return e.next=12,this.persistence.ps((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"du",value:function(e){return iw(this.persistence,new nw,e.initialUser,this.M)}},{key:"fu",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new Mb(t,e.asyncQueue)}},{key:"lu",value:function(e){var t=$b(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?kb.withCacheSize(this.cacheSizeBytes):kb.DEFAULT;return new Yb(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Xw(),Jw(),this.M,this.sharedClientState,!!this.forceOwnership)}},{key:"hu",value:function(e){return new Hw}}]),n}(p_),y_=function(e){Et(n,e);var t=Ct(n);function n(e,r){var i;return dt(this,n),(i=t.call(this,e,r,!1))._u=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return vt(n,[{key:"initialize",value:function(){var e=lt(ht().mark((function e(t){var r,i=this;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Er(_t(n.prototype),"initialize",this).call(this,t);case 2:if(r=this._u.syncEngine,e.t0=this.sharedClientState instanceof qw,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Nr:ZE.bind(null,r),kr:u_.bind(null,r),Mr:c_.bind(null,r),Ms:o_.bind(null,r),Cr:JE.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.ps(function(){var e=lt(ht().mark((function e(t){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t_(i._u.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):t||i.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"hu",value:function(e){var t=Xw();if(!qw.vt(t))throw new lv(cv.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=$b(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new qw(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(v_),m_=function(){function e(){dt(this,e)}return vt(e,[{key:"initialize",value:function(){var e=lt(ht().mark((function e(t,n){var r=this;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return CE(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=GE.bind(null,this.syncEngine),e.next=12,qx(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new Zx}},{key:"createDatastore",value:function(e){var t,n=$w(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Yw(t));return function(e,t,n,r){return new rx(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return CE(o.syncEngine,e,0)},a=Gw.vt()?new Gw:new Ww,new ax(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new mE(e,t,n,r,i,a);return o&&(u.ou=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=lt(ht().mark((function e(t){var n;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=sv(t),nv("RemoteStore","RemoteStore shutting down."),n.ha.add(5),e.next=5,sx(n);case 5:n.fa.shutdown(),n.da.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function g_(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return lt(ht().mark((function r(){var i;return ht().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return lt(ht().mark((function e(){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var k_=function(){function e(t){dt(this,e),this.observer=t,this.muted=!1}return vt(e,[{key:"next",value:function(e){this.observer.next&&this.wu(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.wu(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"mu",value:function(){this.muted=!0}},{key:"wu",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),b_=function(){function e(t,n){var r=this;dt(this,e),this.gu=t,this.M=n,this.metadata=new fv,this.buffer=new Uint8Array,this.yu=new TextDecoder("utf-8"),this.pu().then((function(e){e&&e.Da()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return vt(e,[{key:"close",value:function(){return this.gu.cancel()}},{key:"getMetadata",value:function(){var e=lt(ht().mark((function e(){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"cu",value:function(){var e=lt(ht().mark((function e(){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.pu());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"pu",value:function(){var e=lt(ht().mark((function e(){var t,n,r,i;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Iu();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.yu.decode(t),r=Number(n),isNaN(r)&&this.Tu("length string (".concat(n,") is not valid number")),e.next=9,this.Eu(r);case 9:return i=e.sent,e.abrupt("return",new sE(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Au",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Iu",value:function(){var e=lt(ht().mark((function e(){var t,n;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Au()<0)){e.next=7;break}return e.next=3,this.Ru();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Au())<0&&this.Tu("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Eu",value:function(){var e=lt(ht().mark((function e(t){var n;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Ru();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Tu("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.yu.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Tu",value:function(e){throw this.gu.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Ru",value:function(){var e=lt(ht().mark((function e(){var t,n;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.gu.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),w_=function(){function e(t){dt(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return vt(e,[{key:"lookup",value:function(){var e=lt(ht().mark((function e(t){var n,r=this;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new lv(cv.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=lt(ht().mark((function e(t,n){var r,i,a,o,u,s;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=sv(t),i=Ag(r.M)+"/documents",a={documents:n.map((function(e){return Sg(r.M,e)}))},e.next=5,r.uo("BatchGetDocuments",i,a);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=Dg(r.M,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());uv(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new jm(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=lt(ht().mark((function e(){var t,n=this;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Yv.fromPath(t);n.mutations.push(new Vm(r,n.precondition(r)))})),e.next=7,function(){var e=lt(ht().mark((function e(t,n){var r,i,a;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=sv(t),i=Ag(r.M)+"/documents",a={writes:n.map((function(e){return Rg(r.M,e)}))},e.next=3,r.io("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ov();t=Tv.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new lv(cv.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?_m.updateTime(t):_m.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Tv.min()))throw new lv(cv.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return _m.updateTime(t)}return _m.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),x_=function(){function e(t,n,r,i){dt(this,e),this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.bu=5,this.vo=new Zw(this.asyncQueue,"transaction_retry")}return vt(e,[{key:"run",value:function(){this.bu-=1,this.Pu()}},{key:"Pu",value:function(){var e=this;this.vo.po(lt(ht().mark((function t(){var n,r;return ht().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new w_(e.datastore),(r=e.Vu(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.vu(t)}))}))})).catch((function(t){e.vu(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Vu",value:function(e){try{var t=this.updateFunction(e);return!Gv(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"vu",value:function(e){var t=this;this.bu>0&&this.Su(e)?(this.bu-=1,this.asyncQueue.enqueueAndForget((function(){return t.Pu(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Su",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!zm(t)}return!1}}]),e}(),E_=function(){function e(t,n,r,i){var a=this;dt(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=$p.UNAUTHENTICATED,this.clientId=xv.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=lt(ht().mark((function e(t){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return nv("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return nv("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return vt(e,[{key:"getConfiguration",value:function(){var e=lt(ht().mark((function e(){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new lv(cv.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new fv;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(lt(ht().mark((function n(){var r;return ht().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=Qx(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function __(e,t){return S_.apply(this,arguments)}function S_(){return S_=lt(ht().mark((function e(t,n){var r,i;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),nv("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=lt(ht().mark((function e(t){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,aw(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),S_.apply(this,arguments)}function I_(e,t){return T_.apply(this,arguments)}function T_(){return T_=lt(ht().mark((function e(t,n){var r,i;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,C_(t);case 3:return r=e.sent,nv("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return Bx(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return Bx(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),T_.apply(this,arguments)}function C_(e){return A_.apply(this,arguments)}function A_(){return A_=lt(ht().mark((function e(t){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return nv("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,__(t,new p_);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),A_.apply(this,arguments)}function N_(e){return O_.apply(this,arguments)}function O_(){return O_=lt(ht().mark((function e(t){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return nv("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,I_(t,new m_);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),O_.apply(this,arguments)}function P_(e){return C_(e).then((function(e){return e.persistence}))}function D_(e){return C_(e).then((function(e){return e.localStore}))}function R_(e){return N_(e).then((function(e){return e.remoteStore}))}function L_(e){return N_(e).then((function(e){return e.syncEngine}))}function M_(e){return F_.apply(this,arguments)}function F_(){return F_=lt(ht().mark((function e(t){var n,r;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N_(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=gE.bind(null,n.syncEngine),r.onUnlisten=xE.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),F_.apply(this,arguments)}function U_(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new fv;return e.asyncQueue.enqueueAndForget(lt(ht().mark((function i(){return ht().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new k_({next:function(a){t.enqueueAndForget((function(){return nE(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new lv(cv.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new lv(cv.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new uE(Gy(n.path),a,{includeMetadataChanges:!0,Sa:!0});return eE(e,o)},i.next=3,M_(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function j_(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new fv;return e.asyncQueue.enqueueAndForget(lt(ht().mark((function i(){return ht().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new k_({next:function(n){t.enqueueAndForget((function(){return nE(e,o)})),n.fromCache&&"server"===r.source?i.reject(new lv(cv.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new uE(n,a,{includeMetadataChanges:!0,Sa:!0});return eE(e,o)},i.next=3,M_(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var V_=new Map;function B_(e,t,n){if(!n)throw new lv(cv.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function z_(e,t,n,r){if(!0===t&&!0===r)throw new lv(cv.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function q_(e){if(!Yv.isDocumentKey(e))throw new lv(cv.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function H_(e){if(Yv.isDocumentKey(e))throw new lv(cv.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function W_(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":ov()}function G_(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new lv(cv.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=W_(e);throw new lv(cv.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function K_(e,t){if(t<=0)throw new lv(cv.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var Q_=function(){function e(t){var n;if(dt(this,e),void 0===t.host){if(void 0!==t.ssl)throw new lv(cv.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new lv(cv.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,z_("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return vt(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),Y_=function(){function e(t,n,r){dt(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Q_({}),this._settingsFrozen=!1,t instanceof Wv?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new lv(cv.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wv(e.options.projectId)}(t))}return vt(e,[{key:"app",get:function(){if(!this._app)throw new lv(cv.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new lv(cv.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Q_(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new dv;switch(e.type){case"gapi":var t=e.client;return uv(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new mv(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new lv(cv.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=V_.get(e);t&&(nv("ComponentProvider","Removing Datastore"),V_.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function X_(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=G_(e,Y_))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&iv("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=$p.MOCK_USER;else{o=Ut(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new lv(cv.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new $p(s)}e._authCredentials=new pv(new hv(o,u))}}var J_=function(){function e(t,n,r){dt(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return vt(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new Z_(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),$_=function(){function e(t,n,r){dt(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return vt(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),Z_=function(e){Et(n,e);var t=Ct(n);function n(e,r,i){var a;return dt(this,n),(a=t.call(this,e,r,Gy(i)))._path=i,a.type="collection",a}return vt(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new J_(this.firestore,null,new Yv(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}($_);function eS(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=on(e),B_("collection","path",t),e instanceof Y_){var a=Pv.fromString.apply(Pv,[t].concat(r));return H_(a),new Z_(e,null,a)}if(!(e instanceof J_||e instanceof Z_))throw new lv(cv.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Pv.fromString.apply(Pv,[t].concat(r)));return H_(o),new Z_(e.firestore,null,o)}function tS(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=on(e),1===arguments.length&&(t=xv.R()),B_("doc","path",t),e instanceof Y_){var a=Pv.fromString.apply(Pv,[t].concat(r));return q_(a),new J_(e,null,new Yv(a))}if(!(e instanceof J_||e instanceof Z_))throw new lv(cv.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Pv.fromString.apply(Pv,[t].concat(r)));return q_(o),new J_(e.firestore,e instanceof Z_?e.converter:null,new Yv(o))}function nS(e,t){return e=on(e),t=on(t),(e instanceof J_||e instanceof Z_)&&(t instanceof J_||t instanceof Z_)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function rS(e,t){return e=on(e),t=on(t),e instanceof $_&&t instanceof $_&&e.firestore===t.firestore&&tm(e._query,t._query)&&e.converter===t.converter}var iS=function(){function e(){var t=this;dt(this,e),this.Du=Promise.resolve(),this.Cu=[],this.xu=!1,this.Nu=[],this.ku=null,this.Mu=!1,this.Ou=!1,this.$u=[],this.vo=new Zw(this,"async_queue_retry"),this.Fu=function(){var e=Jw();e&&nv("AsyncQueue","Visibility state changed to "+e.visibilityState),t.vo.To()};var n=Jw();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Fu)}return vt(e,[{key:"isShuttingDown",get:function(){return this.xu}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Bu(),this.Lu(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.xu){this.xu=!0,this.Ou=e||!1;var t=Jw();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Fu)}}},{key:"enqueue",value:function(e){var t=this;if(this.Bu(),this.xu)return new Promise((function(){}));var n=new fv;return this.Lu((function(){return t.xu&&t.Ou?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Cu.push(e),t.qu()}))}},{key:"qu",value:function(){var e=lt(ht().mark((function e(){var t=this;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Cu.length){e.next=14;break}return e.prev=1,e.next=4,this.Cu[0]();case 4:this.Cu.shift(),this.vo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),_k(e.t0)){e.next=12;break}throw e.t0;case 12:nv("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Cu.length>0&&this.vo.po((function(){return t.qu()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Lu",value:function(e){var t=this,n=this.Du.then((function(){return t.Mu=!0,e().catch((function(e){t.ku=e,t.Mu=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw rv("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Mu=!1,e}))}));return this.Du=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Bu(),this.$u.indexOf(e)>-1&&(t=0);var i=Kx.createAndSchedule(this,e,t,n,(function(e){return r.Uu(e)}));return this.Nu.push(i),i}},{key:"Bu",value:function(){this.ku&&ov()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Ku",value:function(){var e=lt(ht().mark((function e(){var t;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Du,e.next=3,t;case 3:if(t!==this.Du){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Gu",value:function(e){var t,n=gt(this.Nu);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Qu",value:function(e){var t=this;return this.Ku().then((function(){t.Nu.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=gt(t.Nu);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Ku()}))}},{key:"ju",value:function(e){this.$u.push(e)}},{key:"Uu",value:function(e){var t=this.Nu.indexOf(e);this.Nu.splice(t,1)}}]),e}();function aS(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=gt(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var oS=function(){function e(){dt(this,e),this._progressObserver={},this._taskCompletionResolver=new fv,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return vt(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),uS=function(e){Et(n,e);var t=Ct(n);function n(e,r,i){var a;return dt(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new iS,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return vt(n,[{key:"_terminate",value:function(){return this._firestoreClient||cS(this),this._firestoreClient.terminate()}}]),n}(Y_);function sS(e){return e._firestoreClient||cS(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function cS(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Hv(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new E_(e._authCredentials,e._appCheckCredentials,e._queue,r)}function lS(e,t,n){var r=new fv;return e.asyncQueue.enqueue(lt(ht().mark((function i(){return ht().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,__(e,n);case 3:return i.next=5,I_(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===cv.FAILED_PRECONDITION||e.code===cv.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function fS(e){return function(e){return e.asyncQueue.enqueue(lt(ht().mark((function t(){var n,r;return ht().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P_(e);case 2:return n=t.sent,t.next=5,R_(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=sv(e);return t.ha.delete(0),ox(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(sS(e=G_(e,uS)))}function hS(e){return function(e){return e.asyncQueue.enqueue(lt(ht().mark((function t(){var n,r;return ht().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P_(e);case 2:return n=t.sent,t.next=5,R_(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=lt(ht().mark((function e(t){var n;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=sv(t)).ha.add(0),e.next=4,sx(n);case 4:n.da.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(sS(e=G_(e,uS)))}function dS(e,t){var n=sS(e=G_(e,uS)),r=new oS;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new b_(e,t)}(function(e,t){if(e instanceof Uint8Array)return g_(e,t);if(e instanceof ArrayBuffer)return g_(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,$w(t));e.asyncQueue.enqueueAndForget(lt(ht().mark((function t(){return ht().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=d_,t.next=3,L_(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function pS(e,t){return function(e,t){return e.asyncQueue.enqueue(lt(ht().mark((function n(){return ht().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=sv(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.fs.getNamedQuery(e,t)}))},n.next=3,D_(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(sS(e=G_(e,uS)),t).then((function(t){return t?new $_(e,null,t.query):null}))}function vS(e){if(e._initialized||e._terminated)throw new lv(cv.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var yS=function(){function e(){dt(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new lv(cv.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rv(n)}return vt(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var mS=function(){function e(t){dt(this,e),this._byteString=t}return vt(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Mv.fromBase64String(t))}catch(t){throw new lv(cv.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Mv.fromUint8Array(t))}}]),e}(),gS=vt((function e(t){dt(this,e),this._methodName=t})),kS=function(){function e(t,n){if(dt(this,e),!isFinite(t)||t<-90||t>90)throw new lv(cv.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new lv(cv.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return vt(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Ev(this._lat,e._lat)||Ev(this._long,e._long)}}]),e}(),bS=/^__.*__$/,wS=function(){function e(t,n,r){dt(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return vt(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Dm(e,this.data,this.fieldMask,t,this.fieldTransforms):new Pm(e,this.data,t,this.fieldTransforms)}}]),e}(),xS=function(){function e(t,n,r){dt(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return vt(e,[{key:"toMutation",value:function(e,t){return new Dm(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function ES(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ov()}}var _S=function(){function e(t,n,r,i,a,o){dt(this,e),this.settings=t,this.databaseId=n,this.M=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Wu(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return vt(e,[{key:"path",get:function(){return this.settings.path}},{key:"zu",get:function(){return this.settings.zu}},{key:"Hu",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Ju",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Hu({path:n,Yu:!1});return r.Xu(e),r}},{key:"Zu",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Hu({path:n,Yu:!1});return r.Wu(),r}},{key:"tc",value:function(e){return this.Hu({path:void 0,Yu:!0})}},{key:"ec",value:function(e){return HS(e,this.settings.methodName,this.settings.nc||!1,this.path,this.settings.sc)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Wu",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Xu(this.path.get(e))}},{key:"Xu",value:function(e){if(0===e.length)throw this.ec("Document fields must not be empty");if(ES(this.zu)&&bS.test(e))throw this.ec('Document fields cannot begin and end with "__"')}}]),e}(),SS=function(){function e(t,n,r){dt(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.M=r||$w(t)}return vt(e,[{key:"ic",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new _S({zu:e,methodName:t,sc:n,path:Rv.emptyPath(),Yu:!1,nc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}]),e}();function IS(e){var t=e._freezeSettings(),n=$w(e._databaseId);return new SS(e._databaseId,!!t.ignoreUndefinedProperties,n)}function TS(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.ic(a.merge||a.mergeFields?2:0,t,n,i);VS("Data must be an object, but it was:",o,r);var u,s,c=US(r,o);if(a.merge)u=new Lv(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=gt(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=BS(t,d,n);if(!o.contains(p))throw new lv(cv.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));WS(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new Lv(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new wS(new vy(c),u,s)}var CS=function(e){Et(n,e);var t=Ct(n);function n(){return dt(this,n),t.apply(this,arguments)}return vt(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.zu)throw 1===e.zu?e.ec("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ec("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(gS);function AS(e,t,n){return new _S({zu:3,sc:t.settings.sc,methodName:e._methodName,Yu:n},t.databaseId,t.M,t.ignoreUndefinedProperties)}var NS=function(e){Et(n,e);var t=Ct(n);function n(){return dt(this,n),t.apply(this,arguments)}return vt(n,[{key:"_toFieldTransform",value:function(e){return new xm(e.path,new pm)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(gS),OS=function(e){Et(n,e);var t=Ct(n);function n(e,r){var i;return dt(this,n),(i=t.call(this,e)).rc=r,i}return vt(n,[{key:"_toFieldTransform",value:function(e){var t=AS(this,e,!0),n=this.rc.map((function(e){return FS(e,t)})),r=new vm(n);return new xm(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(gS),PS=function(e){Et(n,e);var t=Ct(n);function n(e,r){var i;return dt(this,n),(i=t.call(this,e)).rc=r,i}return vt(n,[{key:"_toFieldTransform",value:function(e){var t=AS(this,e,!0),n=this.rc.map((function(e){return FS(e,t)})),r=new mm(n);return new xm(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(gS),DS=function(e){Et(n,e);var t=Ct(n);function n(e,r){var i;return dt(this,n),(i=t.call(this,e)).oc=r,i}return vt(n,[{key:"_toFieldTransform",value:function(e){var t=new km(e.M,cm(e.M,this.oc));return new xm(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(gS);function RS(e,t,n,r){var i=e.ic(1,t,n);VS("Data must be an object, but it was:",i,r);var a=[],o=vy.empty();Av(r,(function(e,r){var u=qS(t,e,n);r=on(r);var s=i.Zu(u);if(r instanceof CS)a.push(u);else{var c=FS(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new Lv(a);return new xS(o,u,i.fieldTransforms)}function LS(e,t,n,r,i,a){var o=e.ic(1,t,n),u=[BS(t,r,n)],s=[i];if(a.length%2!=0)throw new lv(cv.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(BS(t,a[c])),s.push(a[c+1]);for(var l=[],f=vy.empty(),h=u.length-1;h>=0;--h)if(!WS(l,u[h])){var d=u[h],p=s[h];p=on(p);var v=o.Zu(d);if(p instanceof CS)l.push(d);else{var y=FS(p,v);null!=y&&(l.push(d),f.set(d,y))}}var m=new Lv(l);return new xS(f,m,o.fieldTransforms)}function MS(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return FS(n,e.ic(r?4:3,t))}function FS(e,t){if(jS(e=on(e)))return VS("Unsupported field value:",t,e),US(e,t);if(e instanceof gS)return function(e,t){if(!ES(t.zu))throw t.ec("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ec("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Yu&&4!==t.zu)throw t.ec("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=gt(e);try{for(a.s();!(n=a.n()).done;){var o=FS(n.value,t.tc(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=on(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return cm(t.M,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Iv.fromDate(e);return{timestampValue:kg(t.M,n)}}if(e instanceof Iv){var r=new Iv(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:kg(t.M,r)}}if(e instanceof kS)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof mS)return{bytesValue:bg(t.M,e._byteString)};if(e instanceof J_){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ec("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Eg(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ec("Unsupported field value: ".concat(W_(e)))}(e,t)}function US(e,t){var n={};return Nv(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Av(e,(function(e,r){var i=FS(r,t.Ju(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function jS(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Iv||e instanceof kS||e instanceof mS||e instanceof J_||e instanceof gS)}function VS(e,t,n){if(!jS(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=W_(n);throw"an object"===r?t.ec(e+" a custom object"):t.ec(e+" "+r)}}function BS(e,t,n){if((t=on(t))instanceof yS)return t._internalPath;if("string"==typeof t)return qS(e,t);throw HS("Field path arguments must be of type string or ",e,!1,void 0,n)}var zS=new RegExp("[~\\*/\\[\\]]");function qS(e,t,n){if(t.search(zS)>=0)throw HS("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return At(yS,dn(t.split(".")))._internalPath}catch(r){throw HS("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function HS(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new lv(cv.INVALID_ARGUMENT,u+e+s)}function WS(e,t){return e.some((function(e){return e.isEqual(t)}))}var GS=function(){function e(t,n,r,i,a){dt(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return vt(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new J_(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new KS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(QS("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),KS=function(e){Et(n,e);var t=Ct(n);function n(){return dt(this,n),t.apply(this,arguments)}return vt(n,[{key:"data",value:function(){return Er(_t(n.prototype),"data",this).call(this)}}]),n}(GS);function QS(e,t){return"string"==typeof t?qS(e,t):t instanceof yS?t._internalPath:t._delegate._internalPath}var YS=function(){function e(t,n){dt(this,e),this.hasPendingWrites=t,this.fromCache=n}return vt(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),XS=function(e){Et(n,e);var t=Ct(n);function n(e,r,i,a,o,u){var s;return dt(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return vt(n,[{key:"exists",value:function(){return Er(_t(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new JS(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(QS("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(GS),JS=function(e){Et(n,e);var t=Ct(n);function n(){return dt(this,n),t.apply(this,arguments)}return vt(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Er(_t(n.prototype),"data",this).call(this,e)}}]),n}(XS),$S=function(){function e(t,n,r,i){dt(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new YS(i.hasPendingWrites,i.fromCache),this.query=r}return vt(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new JS(n._firestore,n._userDataWriter,r.key,r,new YS(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new lv(cv.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new JS(e._firestore,e._userDataWriter,t.doc.key,t.doc,new YS(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new JS(e._firestore,e._userDataWriter,t.doc.key,t.doc,new YS(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:ZS(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function ZS(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ov()}}function eI(e,t){return e instanceof XS&&t instanceof XS?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof $S&&t instanceof $S&&e._firestore===t._firestore&&rS(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function tI(e){if(Qy(e)&&0===e.explicitOrderBy.length)throw new lv(cv.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var nI=vt((function e(){dt(this,e)}));function rI(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var iI=function(e){Et(n,e);var t=Ct(n);function n(e,r,i){var a;return dt(this,n),(a=t.call(this)).ac=e,a.uc=r,a.cc=i,a.type="where",a}return vt(n,[{key:"_apply",value:function(e){var t=IS(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new lv(cv.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){vI(o,a);var s,c=[],l=gt(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(pI(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=pI(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||vI(o,a),u=MS(n,"where",o,"in"===a||"not-in"===a);var h=Ny.create(i,a,u);return function(e,t){if(t.S()){var n=Xy(e);if(null!==n&&!n.isEqual(t.field))throw new lv(cv.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=Yy(e);null!==r&&yI(e,t.field,r)}var i=function(e,t){var n,r=gt(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new lv(cv.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new lv(cv.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.ac,this.uc,this.cc);return new $_(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Hy(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(nI);var aI=function(e){Et(n,e);var t=Ct(n);function n(e,r){var i;return dt(this,n),(i=t.call(this)).ac=e,i.hc=r,i.type="orderBy",i}return vt(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new lv(cv.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new lv(cv.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Vy(t,n);return function(e,t){if(null===Yy(e)){var n=Xy(e);null!==n&&yI(e,n,t.field)}}(e,r),r}(e._query,this.ac,this.hc);return new $_(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Hy(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(nI);var oI=function(e){Et(n,e);var t=Ct(n);function n(e,r,i){var a;return dt(this,n),(a=t.call(this)).type=e,a.lc=r,a.fc=i,a}return vt(n,[{key:"_apply",value:function(e){return new $_(e.firestore,e.converter,em(e._query,this.lc,this.fc))}}]),n}(nI);var uI=function(e){Et(n,e);var t=Ct(n);function n(e,r,i){var a;return dt(this,n),(a=t.call(this)).type=e,a.dc=r,a._c=i,a}return vt(n,[{key:"_apply",value:function(e){var t=dI(e,this.type,this.dc,this._c);return new $_(e.firestore,e.converter,function(e,t){return new Hy(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(nI);function sI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new uI("startAt",t,!0)}function cI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new uI("startAfter",t,!1)}var lI=function(e){Et(n,e);var t=Ct(n);function n(e,r,i){var a;return dt(this,n),(a=t.call(this)).type=e,a.dc=r,a._c=i,a}return vt(n,[{key:"_apply",value:function(e){var t=dI(e,this.type,this.dc,this._c);return new $_(e.firestore,e.converter,function(e,t){return new Hy(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(nI);function fI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new lI("endBefore",t,!1)}function hI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new lI("endAt",t,!0)}function dI(e,t,n,r){if(n[0]=on(n[0]),n[0]instanceof GS)return function(e,t,n,r,i){if(!r)throw new lv(cv.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=gt($y(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(ay(t,r.key));else{var c=r.data.field(s.field);if(Bv(c))throw new lv(cv.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new lv(cv.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new jy(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=IS(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new lv(cv.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new lv(cv.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Jy(e)&&-1!==c.indexOf("/"))throw new lv(cv.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(Pv.fromString(c));if(!Yv.isDocumentKey(l))throw new lv(cv.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Yv(l);u.push(ay(t,f))}else{var h=MS(n,r,c);u.push(h)}}return new jy(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function pI(e,t,n){if("string"==typeof(n=on(n))){if(""===n)throw new lv(cv.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Jy(t)&&-1!==n.indexOf("/"))throw new lv(cv.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Pv.fromString(n));if(!Yv.isDocumentKey(r))throw new lv(cv.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return ay(e,new Yv(r))}if(n instanceof J_)return ay(e,n._key);throw new lv(cv.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(W_(n),"."))}function vI(e,t){if(!Array.isArray(e)||0===e.length)throw new lv(cv.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new lv(cv.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function yI(e,t,n){if(!n.isEqual(t))throw new lv(cv.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var mI=function(){function e(){dt(this,e)}return vt(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch($v(e)){case 0:return null;case 1:return e.booleanValue;case 2:return jv(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Vv(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ov()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return Av(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new kS(jv(e.latitude),jv(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=zv(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(qv(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Uv(e);return new Iv(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Pv.fromString(e);uv(Kg(n));var r=new Wv(n.get(1),n.get(3)),i=new Yv(n.popFirst(5));return r.isEqual(t)||rv("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function gI(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var kI=function(e){Et(n,e);var t=Ct(n);function n(e){var r;return dt(this,n),(r=t.call(this)).firestore=e,r}return vt(n,[{key:"convertBytes",value:function(e){return new mS(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new J_(this.firestore,null,t)}}]),n}(mI),bI=function(){function e(t,n){dt(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=IS(t)}return vt(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=wI(e,this._firestore),i=gI(r.converter,t,n),a=TS(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,_m.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=wI(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=on(t))||t instanceof yS?LS(this._dataReader,"WriteBatch.update",i._key,t,n,o):RS(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,_m.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=wI(e,this._firestore);return this._mutations=this._mutations.concat(new jm(t._key,_m.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new lv(cv.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function wI(e,t){if((e=on(e)).firestore!==t)throw new lv(cv.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var xI=function(e){Et(n,e);var t=Ct(n);function n(e){var r;return dt(this,n),(r=t.call(this)).firestore=e,r}return vt(n,[{key:"convertBytes",value:function(e){return new mS(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new J_(this.firestore,null,t)}}]),n}(mI);function EI(e){e=G_(e,J_);var t=G_(e.firestore,uS),n=sS(t),r=new xI(t);return function(e,t){var n=new fv;return e.asyncQueue.enqueueAndForget(lt(ht().mark((function r(){return ht().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=lt(ht().mark((function e(t,n,r){var i,a;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=sv(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.ui.Bs(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new lv(cv.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=Qx(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,D_(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new XS(t,r,e._key,n,new YS(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function _I(e){e=G_(e,$_);var t=G_(e.firestore,uS),n=sS(t),r=new xI(t);return function(e,t){var n=new fv;return e.asyncQueue.enqueueAndForget(lt(ht().mark((function r(){return ht().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=lt(ht().mark((function e(t,n,r){var i,a,o,u,s;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,vw(t,n,!0);case 3:i=e.sent,a=new pE(n,i.hi),o=a.La(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=Qx(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,D_(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new $S(t,r,e,n)}))}function SI(e,t,n){e=G_(e,J_);var r=G_(e.firestore,uS),i=gI(e.converter,t,n);return AI(r,[TS(IS(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,_m.none())])}function II(e,t,n){e=G_(e,J_);for(var r=G_(e.firestore,uS),i=IS(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return AI(r,[("string"==typeof(t=on(t))||t instanceof yS?LS(i,"updateDoc",e._key,t,n,o):RS(i,"updateDoc",e._key,t)).toMutation(e._key,_m.exists(!0))])}function TI(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=on(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||aS(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(aS(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof J_)l=G_(e.firestore,uS),f=Gy(e._key.path),c={next:function(t){n[s]&&n[s](NI(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=G_(e,$_);l=G_(p.firestore,uS),f=p._query;var v=new xI(l);c={next:function(e){n[s]&&n[s](new $S(l,v,p,e))},error:n[s+1],complete:n[s+2]},tI(e._query)}return function(e,t,n,r){var i=new k_(r),a=new uE(t,i,n);return e.asyncQueue.enqueueAndForget(lt(ht().mark((function t(){return ht().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=eE,t.next=3,M_(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.mu(),e.asyncQueue.enqueueAndForget(lt(ht().mark((function t(){return ht().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=nE,t.next=3,M_(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(sS(l),f,h,c)}function CI(e,t){return function(e,t){var n=new k_(t);return e.asyncQueue.enqueueAndForget(lt(ht().mark((function t(){return ht().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){sv(e).Ia.add(t),t.next()},t.next=3,M_(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.mu(),e.asyncQueue.enqueueAndForget(lt(ht().mark((function t(){return ht().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){sv(e).Ia.delete(t)},t.next=3,M_(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(sS(e=G_(e,uS)),aS(t)?t:{next:t})}function AI(e,t){return function(e,t){var n=new fv;return e.asyncQueue.enqueueAndForget(lt(ht().mark((function r(){return ht().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=_E,r.next=3,L_(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(sS(e),t)}function NI(e,t,n){var r=n.docs.get(t._key),i=new xI(e);return new XS(e,i,t._key,r,new YS(n.hasPendingWrites,n.fromCache),t.converter)}var OI=function(e){Et(n,e);var t=Ct(n);function n(e,r){var i;return dt(this,n),(i=t.call(this,e,r))._firestore=e,i}return vt(n,[{key:"get",value:function(e){var t=this,r=wI(e,this._firestore),i=new xI(this._firestore);return Er(_t(n.prototype),"get",this).call(this,e).then((function(e){return new XS(t._firestore,i,r._key,e._document,new YS(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){dt(this,e),this._firestore=t,this._transaction=n,this._dataReader=IS(t)}return vt(e,[{key:"get",value:function(e){var t=this,n=wI(e,this._firestore),r=new kI(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return ov();var i=e[0];if(i.isFoundDocument())return new GS(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new GS(t._firestore,r,n._key,null,n.converter);throw ov()}))}},{key:"set",value:function(e,t,n){var r=wI(e,this._firestore),i=gI(r.converter,t,n),a=TS(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=wI(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=on(t))||t instanceof yS?LS(this._dataReader,"Transaction.update",i._key,t,n,o):RS(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=wI(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function PI(e,t){return function(e,t){var n=new fv;return e.asyncQueue.enqueueAndForget(lt(ht().mark((function r(){var i;return ht().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,function(e){return N_(e).then((function(e){return e.datastore}))}(e);case 2:i=r.sent,new x_(e.asyncQueue,i,t,n).run();case 4:case"end":return r.stop()}}),r)})))),n.promise}(sS(e=G_(e,uS)),(function(n){return t(new OI(e,n))}))}function DI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new OS("arrayUnion",t)}function RI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new PS("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Zp=e}(Wn),Un(new pn("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new uS(i,new vv(e.getProvider("auth-internal")),new kv(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),Jn(Jp,"3.4.6",e),Jn(Jp,"3.4.6","esm2017")}();function LI(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new lv("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function MI(){if("undefined"===typeof Uint8Array)throw new lv("unimplemented","Uint8Arrays are not available in this environment.")}function FI(){if("undefined"==typeof atob)throw new lv("unimplemented","Blobs are unavailable in Firestore in this environment.")}var UI=function(){function e(t){dt(this,e),this._delegate=t}return vt(e,[{key:"toBase64",value:function(){return FI(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return MI(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return FI(),new e(mS.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return MI(),new e(mS.fromUint8Array(t))}}]),e}();function jI(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=gt(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var VI=function(){function e(){dt(this,e)}return vt(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){vS(e=G_(e,uS));var n=sS(e),r=e._freezeSettings(),i=new m_;return lS(n,i,new v_(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){vS(e=G_(e,uS));var t=sS(e),n=e._freezeSettings(),r=new m_;return lS(t,r,new y_(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new lv(cv.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new fv;return e._queue.enqueueAndForgetEvenWhileRestricted(lt(ht().mark((function n(){return ht().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=lt(ht().mark((function e(t){var n;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(wk.vt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,wk.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()($b(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),BI=function(){function e(t,n,r){var i=this;dt(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Wv||(this._appCompat=t)}return vt(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||iv("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};X_(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return fS(this._delegate)}},{key:"disableNetwork",value:function(){return hS(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&z_("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new fv;return e.asyncQueue.enqueueAndForget(lt(ht().mark((function n(){return ht().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=LE,n.next=3,L_(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(sS(e=G_(e,uS)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return CI(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new lv("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new tT(this,eS(this._delegate,e))}catch(t){throw KI(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new GI(this,tS(this._delegate,e))}catch(t){throw KI(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new $I(this,function(e,t){if(e=G_(e,Y_),B_("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new lv(cv.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new $_(e,null,function(e){return new Hy(Pv.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw KI(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return PI(this._delegate,(function(n){return e(new qI(t,n))}))}},{key:"batch",value:function(){var e=this;return sS(this._delegate),new HI(new bI(this._delegate,(function(t){return AI(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return dS(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return pS(this._delegate,e).then((function(e){return e?new $I(t,e):null}))}}]),e}(),zI=function(e){Et(n,e);var t=Ct(n);function n(e){var r;return dt(this,n),(r=t.call(this)).firestore=e,r}return vt(n,[{key:"convertBytes",value:function(e){return new UI(new mS(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return GI.forKey(t,this.firestore,null)}}]),n}(mI);var qI=function(){function e(t,n){dt(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new zI(t)}return vt(e,[{key:"get",value:function(e){var t=this,n=nT(e);return this._delegate.get(n).then((function(e){return new XI(t._firestore,new XS(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=nT(e);return n?(LI("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=nT(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=nT(e);return this._delegate.delete(t),this}}]),e}(),HI=function(){function e(t){dt(this,e),this._delegate=t}return vt(e,[{key:"set",value:function(e,t,n){var r=nT(e);return n?(LI("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=nT(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=nT(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),WI=function(){function e(t,n,r){dt(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return vt(e,[{key:"fromFirestore",value:function(e,t){var n=new JS(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new JI(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new zI(t),n),i.set(n,a)),a}}]),e}();WI.INSTANCES=new WeakMap;var GI=function(){function e(t,n){dt(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new zI(t)}return vt(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new tT(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new tT(this.firestore,eS(this._delegate,e))}catch(t){throw KI(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=on(e))instanceof J_&&nS(this._delegate,e)}},{key:"set",value:function(e,t){t=LI("DocumentReference.set",t);try{return t?SI(this._delegate,e,t):SI(this._delegate,e)}catch(n){throw KI(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?II(this._delegate,e):II.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw KI(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return AI(G_(e.firestore,uS),[new jm(e._key,_m.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=QI(n),a=YI(n,(function(t){return new XI(e.firestore,new XS(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return TI(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?EI(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=G_(e,J_);var t=G_(e.firestore,uS);return U_(sS(t),e._key,{source:"server"}).then((function(n){return NI(t,e,n)}))}(this._delegate):function(e){e=G_(e,J_);var t=G_(e.firestore,uS);return U_(sS(t),e._key).then((function(n){return NI(t,e,n)}))}(this._delegate),t.then((function(e){return new XI(n.firestore,new XS(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(WI.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new lv("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new J_(n._delegate,r,new Yv(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new J_(n._delegate,r,t))}}]),e}();function KI(e,t,n){return e.message=e.message.replace(t,n),e}function QI(e){var t,n=gt(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!jI(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function YI(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=jI(e[0])?e[0]:jI(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var XI=function(){function e(t,n){dt(this,e),this._firestore=t,this._delegate=n}return vt(e,[{key:"ref",get:function(){return new GI(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return eI(this._delegate,e._delegate)}}]),e}(),JI=function(e){Et(n,e);var t=Ct(n);function n(){return dt(this,n),t.apply(this,arguments)}return vt(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||ov()}(void 0!==t),t}}]),n}(XI),$I=function(){function e(t,n){dt(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new zI(t)}return vt(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,rI(this._delegate,function(e,t,n){var r=t,i=QS("where",e);return new iI(i,r,n)}(t,n,r)))}catch(i){throw KI(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,rI(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=QS("orderBy",e);return new aI(n,t)}(t,n)))}catch(r){throw KI(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,rI(this._delegate,function(e){return K_("limit",e),new oI("limit",e,"F")}(t)))}catch(n){throw KI(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,rI(this._delegate,function(e){return K_("limitToLast",e),new oI("limitToLast",e,"L")}(t)))}catch(n){throw KI(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,rI(this._delegate,sI.apply(void 0,arguments)))}catch(t){throw KI(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,rI(this._delegate,cI.apply(void 0,arguments)))}catch(t){throw KI(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,rI(this._delegate,fI.apply(void 0,arguments)))}catch(t){throw KI(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,rI(this._delegate,hI.apply(void 0,arguments)))}catch(t){throw KI(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return rS(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?_I(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=G_(e,$_);var t=G_(e.firestore,uS),n=sS(t),r=new xI(t);return j_(n,e._query,{source:"server"}).then((function(n){return new $S(t,r,e,n)}))}(this._delegate):function(e){e=G_(e,$_);var t=G_(e.firestore,uS),n=sS(t),r=new xI(t);return tI(e._query),j_(n,e._query).then((function(n){return new $S(t,r,e,n)}))}(this._delegate),t.then((function(e){return new eT(n.firestore,new $S(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=QI(n),a=YI(n,(function(t){return new eT(e.firestore,new $S(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return TI(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(WI.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),ZI=function(){function e(t,n){dt(this,e),this._firestore=t,this._delegate=n}return vt(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new JI(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),eT=function(){function e(t,n){dt(this,e),this._firestore=t,this._delegate=n}return vt(e,[{key:"query",get:function(){return new $I(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new JI(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new ZI(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new JI(n._firestore,r))}))}},{key:"isEqual",value:function(e){return eI(this._delegate,e._delegate)}}]),e}(),tT=function(e){Et(n,e);var t=Ct(n);function n(e,r){var i;return dt(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return vt(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new GI(this.firestore,e):null}},{key:"doc",value:function(e){try{return new GI(this.firestore,void 0===e?tS(this._delegate):tS(this._delegate,e))}catch(t){throw KI(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=G_(e.firestore,uS),r=tS(e),i=gI(e.converter,t);return AI(n,[TS(IS(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,_m.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new GI(t.firestore,e)}))}},{key:"isEqual",value:function(e){return nS(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(WI.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}($I);function nT(e){return G_(e,J_)}var rT=function(){function e(){dt(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=At(yS,n)}return vt(e,[{key:"isEqual",value:function(e){return(e=on(e))instanceof yS&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Rv.keyField().canonicalString())}}]),e}(),iT=function(){function e(t){dt(this,e),this._delegate=t}return vt(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new NS("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new CS("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=DI.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=RI.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new DS("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),aT={Firestore:BI,GeoPoint:kS,Timestamp:Iv,Blob:UI,Transaction:qI,WriteBatch:HI,DocumentReference:GI,DocumentSnapshot:XI,Query:$I,QueryDocumentSnapshot:JI,QuerySnapshot:eT,CollectionReference:tT,FieldPath:rT,FieldValue:iT,setLogLevel:function(e){!function(e){ev.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new pn("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},aT)))}(e,(function(e,t){return new BI(e,t,new VI)})),e.registerVersion("@firebase/firestore-compat","0.1.15")}(wr);var oT=wr.initializeApp({apiKey:"AIzaSyB_vEdLMXk3Fh649VwaLvg7iWCbwx0Jx08",authDomain:"ajbpos.firebaseapp.com",projectId:"ajbpos",storageBucket:"ajbpos.appspot.com",messagingSenderId:"955048515609",appId:"1:955048515609:web:01ad37f2cdcbf4016f7288",measurementId:"G-F0RFSFCFP6"}),uT=function(){var e=lt(ht().mark((function e(t,n){var r,i,a,o,u;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return r=fT.doc("users/".concat(t.uid)),e.next=5,r.get();case 5:if(i=e.sent,"",i.exists){e.next=18;break}return a=t.displayName,o=t.email,u=new Date,e.prev=10,e.next=13,r.set(Je({displayName:a,email:o,printer:"",createAt:u},n));case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(10),console.log("error creating user ",e.t0.message);case 18:return e.abrupt("return",r);case 19:case"end":return e.stop()}}),e,null,[[10,15]])})));return function(t,n){return e.apply(this,arguments)}}(),sT=function(){var e=lt(ht().mark((function e(t){var n;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("DELETE:",t.id),e.prev=1,n=fT.collection("products").doc(t.id),e.next=5,n.get();case 5:e.sent.exists&&n.delete(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),cT=function(){var e=lt(ht().mark((function e(t){var n;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("PRODUCT",t),e.prev=1,n=fT.collection("products").doc(t.name.toLowerCase()),e.next=5,n.get();case 5:if(!e.sent.exists){e.next=11;break}return e.next=9,n.update(t);case 9:e.next=13;break;case 11:return e.next=13,n.set(t);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),console.error(e.t0);case 18:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t){return e.apply(this,arguments)}}(),lT=wr.auth(oT),fT=wr.firestore(),hT=new wr.auth.GoogleAuthProvider;hT.setCustomParameters({prompt:"select_account"});var dT=function(e,t){return t.enable=!t.enable,cT(t),Je({},e)},pT=function(e,t){return sT(t),Je({},e)},vT={UPDATE_PRODUCTS:"UPDATE_PRODUCTS",UPDATE_PRODUCT:"UPDATE_PRODUCT",TOGGLE_PRODUCT:"TOGGLE_PRODUCT",DELETE_PRODUCT:"DELETE_PRODUCT"},yT={collections:null},mT=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yT,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case vT.UPDATE_PRODUCTS:return Je(Je({},e),{},{collections:t.payload});case vT.TOGGLE_PRODUCT:return Je(Je({},e),{},{collections:dT(e.collections,t.payload)});case vT.DELETE_PRODUCT:return Je(Je({},e),{},{collections:pT(e.collections,t.payload)});default:return e}},gT={UPDATE_CATEGORIES:"UPDATE_CATEGORIES"},kT={categories:null},bT=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kT,t=arguments.length>1?arguments[1]:void 0;return t.type===gT.UPDATE_CATEGORIES?Je(Je({},e),{},{categories:t.payload}):e},wT={TOGGLE_PRODUCT_EDIT_HIDDEN:"TOGGLE_PRODUCT_EDIT_HIDDEN",UPDATE_PRODUCT:"UPDATE_PRODUCT",CLEAR_PRODUCT:"CLEAR_PRODUCT"},xT={hidden:!0},ET=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xT,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case wT.TOGGLE_PRODUCT_EDIT_HIDDEN:return Je(Je({},e),{},{hidden:!e.hidden});case wT.UPDATE_PRODUCT:return Je(Je({},e),{},{product:t.payload});case wT.CLEAR_PRODUCT:return console.log("Que esta pasando?"),Je(Je({},e),{},{product:null});default:return e}},_T="UPDATE_STOCK",ST="ADD_STOCK_ITEM",IT=function(e,t){return e.find((function(e){return e.id===t.id}))?Je({},e):[].concat(dn(e),[Je({},t)])},TT={stock:null},CT=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:TT,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _T:return Je(Je({},e),{},{stock:t.payload});case ST:return Je(Je({},e),{},{stock:IT(e.stock,t.payload)});default:return e}},AT=function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var a,o=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:tt.INIT}))throw new Error($e(12));if("undefined"===typeof n(void 0,{type:tt.PROBE_UNKNOWN_ACTION()}))throw new Error($e(13))}))}(n)}catch(u){a=u}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,i={},u=0;u<o.length;u++){var s=o[u],c=n[s],l=e[s],f=c(l,t);if("undefined"===typeof f){t&&t.type;throw new Error($e(14))}i[s]=f,r=r||f!==l}return(r=r||o.length!==Object.keys(e).length)?i:e}}({user:st,shop:mT,category:bT,product:ET,stock:CT}),NT=[at()],OT=function e(t,n,r){var i;if("function"===typeof n&&"function"===typeof r||"function"===typeof r&&"function"===typeof arguments[3])throw new Error($e(0));if("function"===typeof n&&"undefined"===typeof r&&(r=n,n=void 0),"undefined"!==typeof r){if("function"!==typeof r)throw new Error($e(1));return r(e)(t,n)}if("function"!==typeof t)throw new Error($e(2));var a=t,o=n,u=[],s=u,c=!1;function l(){s===u&&(s=u.slice())}function f(){if(c)throw new Error($e(3));return o}function h(e){if("function"!==typeof e)throw new Error($e(4));if(c)throw new Error($e(5));var t=!0;return l(),s.push(e),function(){if(t){if(c)throw new Error($e(6));t=!1,l();var n=s.indexOf(e);s.splice(n,1),u=null}}}function d(e){if(!nt(e))throw new Error($e(7));if("undefined"===typeof e.type)throw new Error($e(8));if(c)throw new Error($e(9));try{c=!0,o=a(o,e)}finally{c=!1}for(var t=u=s,n=0;n<t.length;n++){(0,t[n])()}return e}function p(e){if("function"!==typeof e)throw new Error($e(10));a=e,d({type:tt.REPLACE})}function v(){var e,t=h;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error($e(11));function n(){e.next&&e.next(f())}return n(),{unsubscribe:t(n)}}})[Ze]=function(){return this},e}return d({type:tt.INIT}),(i={dispatch:d,subscribe:h,getState:f,replaceReducer:p})[Ze]=v,i}(AT,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error($e(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return r=rt.apply(void 0,a)(n.dispatch),Je(Je({},n),{},{dispatch:r})}}}.apply(void 0,NT)),PT=OT;function DT(e,t){if(null==e)return{};var n,r,i=z(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function RT(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var LT=n(613),MT=n.n(LT);var FT=function(e){function t(e,r,s,c,h){for(var d,p,v,y,b,x=0,E=0,_=0,S=0,I=0,P=0,R=v=d=0,M=0,F=0,U=0,j=0,V=s.length,B=V-1,z="",q="",H="",W="";M<V;){if(p=s.charCodeAt(M),M===B&&0!==E+S+_+x&&(0!==E&&(p=47===E?10:47),S=_=x=0,V++,B++),0===E+S+_+x){if(M===B&&(0<F&&(z=z.replace(f,"")),0<z.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:z+=s.charAt(M)}p=59}switch(p){case 123:for(d=(z=z.trim()).charCodeAt(0),v=1,j=++M;M<V;){switch(p=s.charCodeAt(M)){case 123:v++;break;case 125:v--;break;case 47:switch(p=s.charCodeAt(M+1)){case 42:case 47:e:{for(R=M+1;R<B;++R)switch(s.charCodeAt(R)){case 47:if(42===p&&42===s.charCodeAt(R-1)&&M+2!==R){M=R+1;break e}break;case 10:if(47===p){M=R+1;break e}}M=R}}break;case 91:p++;case 40:p++;case 34:case 39:for(;M++<B&&s.charCodeAt(M)!==p;);}if(0===v)break;M++}if(v=s.substring(j,M),0===d&&(d=(z=z.replace(l,"").trim()).charCodeAt(0)),64===d){switch(0<F&&(z=z.replace(f,"")),p=z.charCodeAt(1)){case 100:case 109:case 115:case 45:F=r;break;default:F=O}if(j=(v=t(r,F,v,p,h+1)).length,0<D&&(b=u(3,v,F=n(O,z,U),r,C,T,j,p,h,c),z=F.join(""),void 0!==b&&0===(j=(v=b.trim()).length)&&(p=0,v="")),0<j)switch(p){case 115:z=z.replace(w,o);case 100:case 109:case 45:v=z+"{"+v+"}";break;case 107:v=(z=z.replace(m,"$1 $2"))+"{"+v+"}",v=1===N||2===N&&a("@"+v,3)?"@-webkit-"+v+"@"+v:"@"+v;break;default:v=z+v,112===c&&(q+=v,v="")}else v=""}else v=t(r,n(r,z,U),v,c,h+1);H+=v,v=U=F=R=d=0,z="",p=s.charCodeAt(++M);break;case 125:case 59:if(1<(j=(z=(0<F?z.replace(f,""):z).trim()).length))switch(0===R&&(d=z.charCodeAt(0),45===d||96<d&&123>d)&&(j=(z=z.replace(" ",":")).length),0<D&&void 0!==(b=u(1,z,r,e,C,T,q.length,c,h,c))&&0===(j=(z=b.trim()).length)&&(z="\0\0"),d=z.charCodeAt(0),p=z.charCodeAt(1),d){case 0:break;case 64:if(105===p||99===p){W+=z+s.charAt(M);break}default:58!==z.charCodeAt(j-1)&&(q+=i(z,d,p,z.charCodeAt(2)))}U=F=R=d=0,z="",p=s.charCodeAt(++M)}}switch(p){case 13:case 10:47===E?E=0:0===1+d&&107!==c&&0<z.length&&(F=1,z+="\0"),0<D*L&&u(0,z,r,e,C,T,q.length,c,h,c),T=1,C++;break;case 59:case 125:if(0===E+S+_+x){T++;break}default:switch(T++,y=s.charAt(M),p){case 9:case 32:if(0===S+x+E)switch(I){case 44:case 58:case 9:case 32:y="";break;default:32!==p&&(y=" ")}break;case 0:y="\\0";break;case 12:y="\\f";break;case 11:y="\\v";break;case 38:0===S+E+x&&(F=U=1,y="\f"+y);break;case 108:if(0===S+E+x+A&&0<R)switch(M-R){case 2:112===I&&58===s.charCodeAt(M-3)&&(A=I);case 8:111===P&&(A=P)}break;case 58:0===S+E+x&&(R=M);break;case 44:0===E+_+S+x&&(F=1,y+="\r");break;case 34:case 39:0===E&&(S=S===p?0:0===S?p:S);break;case 91:0===S+E+_&&x++;break;case 93:0===S+E+_&&x--;break;case 41:0===S+E+x&&_--;break;case 40:if(0===S+E+x){if(0===d)if(2*I+3*P===533);else d=1;_++}break;case 64:0===E+_+S+x+R+v&&(v=1);break;case 42:case 47:if(!(0<S+x+_))switch(E){case 0:switch(2*p+3*s.charCodeAt(M+1)){case 235:E=47;break;case 220:j=M,E=42}break;case 42:47===p&&42===I&&j+2!==M&&(33===s.charCodeAt(j+2)&&(q+=s.substring(j,M+1)),y="",E=0)}}0===E&&(z+=y)}P=I,I=p,M++}if(0<(j=q.length)){if(F=r,0<D&&(void 0!==(b=u(2,q,F,e,C,T,j,c,h,c))&&0===(q=b).length))return W+q+H;if(q=F.join(",")+"{"+q+"}",0!==N*A){switch(2!==N||a(q,2)||(A=0),A){case 111:q=q.replace(k,":-moz-$1")+q;break;case 112:q=q.replace(g,"::-webkit-input-$1")+q.replace(g,"::-moz-$1")+q.replace(g,":-ms-input-$1")+q}A=0}}return W+q+H}function n(e,t,n){var i=t.trim().split(v);t=i;var a=i.length,o=e.length;switch(o){case 0:case 1:var u=0;for(e=0===o?"":e[0]+" ";u<a;++u)t[u]=r(e,t[u],n).trim();break;default:var s=u=0;for(t=[];u<a;++u)for(var c=0;c<o;++c)t[s++]=r(e[c]+" ",i[u],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(y,"$1"+e.trim());case 58:return e.trim()+t.replace(y,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(y,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var o=e+";",u=2*t+3*n+4*r;if(944===u){e=o.indexOf(":",9)+1;var s=o.substring(e,o.length-1).trim();return s=o.substring(0,e).trim()+s+";",1===N||2===N&&a(s,1)?"-webkit-"+s+s:s}if(0===N||2===N&&!a(o,1))return o;switch(u){case 1015:return 97===o.charCodeAt(10)?"-webkit-"+o+o:o;case 951:return 116===o.charCodeAt(3)?"-webkit-"+o+o:o;case 963:return 110===o.charCodeAt(5)?"-webkit-"+o+o:o;case 1009:if(100!==o.charCodeAt(4))break;case 969:case 942:return"-webkit-"+o+o;case 978:return"-webkit-"+o+"-moz-"+o+o;case 1019:case 983:return"-webkit-"+o+"-moz-"+o+"-ms-"+o+o;case 883:if(45===o.charCodeAt(8))return"-webkit-"+o+o;if(0<o.indexOf("image-set(",11))return o.replace(I,"$1-webkit-$2")+o;break;case 932:if(45===o.charCodeAt(4))switch(o.charCodeAt(5)){case 103:return"-webkit-box-"+o.replace("-grow","")+"-webkit-"+o+"-ms-"+o.replace("grow","positive")+o;case 115:return"-webkit-"+o+"-ms-"+o.replace("shrink","negative")+o;case 98:return"-webkit-"+o+"-ms-"+o.replace("basis","preferred-size")+o}return"-webkit-"+o+"-ms-"+o+o;case 964:return"-webkit-"+o+"-ms-flex-"+o+o;case 1023:if(99!==o.charCodeAt(8))break;return"-webkit-box-pack"+(s=o.substring(o.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+o+"-ms-flex-pack"+s+o;case 1005:return d.test(o)?o.replace(h,":-webkit-")+o.replace(h,":-moz-")+o:o;case 1e3:switch(t=(s=o.substring(13).trim()).indexOf("-")+1,s.charCodeAt(0)+s.charCodeAt(t)){case 226:s=o.replace(b,"tb");break;case 232:s=o.replace(b,"tb-rl");break;case 220:s=o.replace(b,"lr");break;default:return o}return"-webkit-"+o+"-ms-"+s+o;case 1017:if(-1===o.indexOf("sticky",9))break;case 975:switch(t=(o=e).length-10,u=(s=(33===o.charCodeAt(t)?o.substring(0,t):o).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|s.charCodeAt(7))){case 203:if(111>s.charCodeAt(8))break;case 115:o=o.replace(s,"-webkit-"+s)+";"+o;break;case 207:case 102:o=o.replace(s,"-webkit-"+(102<u?"inline-":"")+"box")+";"+o.replace(s,"-webkit-"+s)+";"+o.replace(s,"-ms-"+s+"box")+";"+o}return o+";";case 938:if(45===o.charCodeAt(5))switch(o.charCodeAt(6)){case 105:return s=o.replace("-items",""),"-webkit-"+o+"-webkit-box-"+s+"-ms-flex-"+s+o;case 115:return"-webkit-"+o+"-ms-flex-item-"+o.replace(E,"")+o;default:return"-webkit-"+o+"-ms-flex-line-pack"+o.replace("align-content","").replace(E,"")+o}break;case 973:case 989:if(45!==o.charCodeAt(3)||122===o.charCodeAt(4))break;case 931:case 953:if(!0===S.test(e))return 115===(s=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):o.replace(s,"-webkit-"+s)+o.replace(s,"-moz-"+s.replace("fill-",""))+o;break;case 962:if(o="-webkit-"+o+(102===o.charCodeAt(5)?"-ms-"+o:"")+o,211===n+r&&105===o.charCodeAt(13)&&0<o.indexOf("transform",10))return o.substring(0,o.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+o}return o}function a(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),R(2!==t?r:r.replace(_,"$1"),n,t)}function o(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(x," or ($1)").substring(4):"("+t+")"}function u(e,t,n,r,i,a,o,u,s,l){for(var f,h=0,d=t;h<D;++h)switch(f=P[h].call(c,e,d,n,r,i,a,o,u,s,l)){case void 0:case!1:case!0:case null:break;default:d=f}if(d!==t)return d}function s(e){return void 0!==(e=e.prefix)&&(R=null,e?"function"!==typeof e?N=1:(N=2,R=e):N=0),s}function c(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<D){var i=u(-1,n,r,r,C,T,0,0,0,0);void 0!==i&&"string"===typeof i&&(n=i)}var a=t(O,r,n,0,0);return 0<D&&(void 0!==(i=u(-2,a,r,r,C,T,a.length,0,0,0))&&(a=i)),"",A=0,T=C=1,a}var l=/^\0+/g,f=/[\0\r\f]/g,h=/: */g,d=/zoo|gra/,p=/([,: ])(transform)/g,v=/,\r+?/g,y=/([\t\r\n ])*\f?&/g,m=/@(k\w+)\s*(\S*)\s*/,g=/::(place)/g,k=/:(read-only)/g,b=/[svh]\w+-[tblr]{2}/,w=/\(\s*(.*)\s*\)/g,x=/([\s\S]*?);/g,E=/-self|flex-/g,_=/[^]*?(:[rp][el]a[\w-]+)[^]*/,S=/stretch|:\s*\w+\-(?:conte|avail)/,I=/([^-])(image-set\()/,T=1,C=1,A=0,N=1,O=[],P=[],D=0,R=null,L=0;return c.use=function e(t){switch(t){case void 0:case null:D=P.length=0;break;default:if("function"===typeof t)P[D++]=t;else if("object"===typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else L=0|!!t}return e},c.set=s,void 0!==e&&s(e),c},UT={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var jT=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},VT=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,BT=jT((function(e){return VT.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));function zT(){return(zT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var qT=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},HT=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!(0,ke.typeOf)(e)},WT=Object.freeze([]),GT=Object.freeze({});function KT(e){return"function"==typeof e}function QT(e){return e.displayName||e.name||"Component"}function YT(e){return e&&"string"==typeof e.styledComponentId}var XT="undefined"!=typeof process&&({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_ATTR)||"data-styled",JT="undefined"!=typeof window&&"HTMLElement"in window,$T=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY));function ZT(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var eC=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)(i<<=1)<0&&ZT(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var a=r;a<i;a++)this.groupSizes[a]=0}for(var o=this.indexOfGroup(e+1),u=0,s=t.length;u<s;u++)this.tag.insertRule(o,t[u])&&(this.groupSizes[e]++,o++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,a=r;a<i;a++)t+=this.tag.getRule(a)+"/*!sc*/\n";return t},e}(),tC=new Map,nC=new Map,rC=1,iC=function(e){if(tC.has(e))return tC.get(e);for(;nC.has(rC);)rC++;var t=rC++;return tC.set(e,t),nC.set(t,e),t},aC=function(e){return nC.get(e)},oC=function(e,t){t>=rC&&(rC=t+1),tC.set(e,t),nC.set(t,e)},uC="style["+XT+'][data-styled-version="5.3.3"]',sC=new RegExp("^"+XT+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),cC=function(e,t,n){for(var r,i=n.split(","),a=0,o=i.length;a<o;a++)(r=i[a])&&e.registerName(t,r)},lC=function(e,t){for(var n=(t.textContent||"").split("/*!sc*/\n"),r=[],i=0,a=n.length;i<a;i++){var o=n[i].trim();if(o){var u=o.match(sC);if(u){var s=0|parseInt(u[1],10),c=u[2];0!==s&&(oC(c,s),cC(e,c,u[3]),e.getTag().insertRules(s,r)),r.length=0}else r.push(o)}}},fC=function(){return"undefined"!=typeof window&&void 0!==window.__webpack_nonce__?window.__webpack_nonce__:null},hC=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(XT))return r}}(n),a=void 0!==i?i.nextSibling:null;r.setAttribute(XT,"active"),r.setAttribute("data-styled-version","5.3.3");var o=fC();return o&&r.setAttribute("nonce",o),n.insertBefore(r,a),r},dC=function(){function e(e){var t=this.element=hC(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}ZT(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),pC=function(){function e(e){var t=this.element=hC(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),vC=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),yC=JT,mC={isServer:!JT,useCSSOMInjection:!$T},gC=function(){function e(e,t,n){void 0===e&&(e=GT),void 0===t&&(t={}),this.options=zT({},mC,{},e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&JT&&yC&&(yC=!1,function(e){for(var t=document.querySelectorAll(uC),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(XT)&&(lC(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return iC(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(zT({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,i=t.target,e=n?new vC(i):r?new dC(i):new pC(i),new eC(e)));var e,t,n,r,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(iC(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(iC(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(iC(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++){var a=aC(i);if(void 0!==a){var o=e.names.get(a),u=t.getGroup(i);if(o&&u&&o.size){var s=XT+".g"+i+'[id="'+a+'"]',c="";void 0!==o&&o.forEach((function(e){e.length>0&&(c+=e+",")})),r+=""+u+s+'{content:"'+c+'"}/*!sc*/\n'}}}return r}(this)},e}(),kC=/(a)(d)/gi,bC=function(e){return String.fromCharCode(e+(e>25?39:97))};function wC(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=bC(t%52)+n;return(bC(t%52)+n).replace(kC,"$1-$2")}var xC=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},EC=function(e){return xC(5381,e)};function _C(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(KT(n)&&!YT(n))return!1}return!0}var SC=EC("5.3.3"),IC=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&_C(e),this.componentId=t,this.baseHash=xC(SC,t),this.baseStyle=n,gC.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var a=HC(this.rules,e,t,n).join(""),o=wC(xC(this.baseHash,a)>>>0);if(!t.hasNameForId(r,o)){var u=n(a,"."+o,void 0,r);t.insertRules(r,o,u)}i.push(o),this.staticRulesId=o}else{for(var s=this.rules.length,c=xC(this.baseHash,n.hash),l="",f=0;f<s;f++){var h=this.rules[f];if("string"==typeof h)l+=h;else if(h){var d=HC(h,e,t,n),p=Array.isArray(d)?d.join(""):d;c=xC(c,p+f),l+=p}}if(l){var v=wC(c>>>0);if(!t.hasNameForId(r,v)){var y=n(l,"."+v,void 0,r);t.insertRules(r,v,y)}i.push(v)}}return i.join(" ")},e}(),TC=/^\s*\/\/.*$/gm,CC=[":","[",".","#"];function AC(e){var t,n,r,i,a=void 0===e?GT:e,o=a.options,u=void 0===o?GT:o,s=a.plugins,c=void 0===s?WT:s,l=new FT(u),f=[],h=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,i,a,o,u,s,c,l,f){switch(n){case 1:if(0===l&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===c)return r+"/*|*/";break;case 3:switch(c){case 102:case 112:return e(i[0]+r),"";default:return r+(0===f?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){f.push(e)})),d=function(e,r,a){return 0===r&&-1!==CC.indexOf(a[n.length])||a.match(i)?e:"."+t};function p(e,a,o,u){void 0===u&&(u="&");var s=e.replace(TC,""),c=a&&o?o+" "+a+" { "+s+" }":s;return t=u,n=a,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),l(o||!a?"":a,c)}return l.use([].concat(c,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,d))},h,function(e){if(-2===e){var t=f;return f=[],t}}])),p.hash=c.length?c.reduce((function(e,t){return t.name||ZT(15),xC(e,t.name)}),5381).toString():"",p}var NC=t.createContext(),OC=(NC.Consumer,t.createContext()),PC=(OC.Consumer,new gC),DC=AC();function RC(){return(0,t.useContext)(NC)||PC}function LC(){return(0,t.useContext)(OC)||DC}function MC(e){var n=(0,t.useState)(e.stylisPlugins),r=n[0],i=n[1],a=RC(),o=(0,t.useMemo)((function(){var t=a;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target]),u=(0,t.useMemo)((function(){return AC({options:{prefix:!e.disableVendorPrefixes},plugins:r})}),[e.disableVendorPrefixes,r]);return(0,t.useEffect)((function(){MT()(r,e.stylisPlugins)||i(e.stylisPlugins)}),[e.stylisPlugins]),t.createElement(NC.Provider,{value:o},t.createElement(OC.Provider,{value:u},e.children))}var FC=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=DC);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return ZT(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=DC),this.name+e.hash},e}(),UC=/([A-Z])/,jC=/([A-Z])/g,VC=/^ms-/,BC=function(e){return"-"+e.toLowerCase()};function zC(e){return UC.test(e)?e.replace(jC,BC).replace(VC,"-ms-"):e}var qC=function(e){return null==e||!1===e||""===e};function HC(e,t,n,r){if(Array.isArray(e)){for(var i,a=[],o=0,u=e.length;o<u;o+=1)""!==(i=HC(e[o],t,n,r))&&(Array.isArray(i)?a.push.apply(a,i):a.push(i));return a}return qC(e)?"":YT(e)?"."+e.styledComponentId:KT(e)?"function"!=typeof(s=e)||s.prototype&&s.prototype.isReactComponent||!t?e:HC(e(t),t,n,r):e instanceof FC?n?(e.inject(n,r),e.getName(r)):e:HT(e)?function e(t,n){var r,i,a=[];for(var o in t)t.hasOwnProperty(o)&&!qC(t[o])&&(Array.isArray(t[o])&&t[o].isCss||KT(t[o])?a.push(zC(o)+":",t[o],";"):HT(t[o])?a.push.apply(a,e(t[o],o)):a.push(zC(o)+": "+(r=o,(null==(i=t[o])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in UT?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(a,["}"]):a}(e):e.toString();var s}var WC=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function GC(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return KT(e)||HT(e)?WC(HC(qT(WT,[e].concat(n)))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:WC(HC(qT(e,n)))}new Set;var KC=function(e,t,n){return void 0===n&&(n=GT),e.theme!==n.theme&&e.theme||t||n.theme},QC=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,YC=/(^-|-$)/g;function XC(e){return e.replace(QC,"-").replace(YC,"")}var JC=function(e){return wC(EC(e)>>>0)};function $C(e){return"string"==typeof e&&!0}var ZC=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},eA=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function tA(e,t,n){var r=e[n];ZC(t)&&ZC(r)?nA(r,t):e[n]=t}function nA(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];if(ZC(o))for(var u in o)eA(u)&&tA(e,o[u],u)}return e}var rA=t.createContext();rA.Consumer;var iA={};function aA(e,n,r){var i=YT(e),a=!$C(e),o=n.attrs,u=void 0===o?WT:o,s=n.componentId,c=void 0===s?function(e,t){var n="string"!=typeof e?"sc":XC(e);iA[n]=(iA[n]||0)+1;var r=n+"-"+JC("5.3.3"+n+iA[n]);return t?t+"-"+r:r}(n.displayName,n.parentComponentId):s,l=n.displayName,f=void 0===l?function(e){return $C(e)?"styled."+e:"Styled("+QT(e)+")"}(e):l,h=n.displayName&&n.componentId?XC(n.displayName)+"-"+n.componentId:n.componentId||c,d=i&&e.attrs?Array.prototype.concat(e.attrs,u).filter(Boolean):u,p=n.shouldForwardProp;i&&e.shouldForwardProp&&(p=n.shouldForwardProp?function(t,r,i){return e.shouldForwardProp(t,r,i)&&n.shouldForwardProp(t,r,i)}:e.shouldForwardProp);var v,y=new IC(r,h,i?e.componentStyle:void 0),m=y.isStatic&&0===u.length,g=function(e,n){return function(e,n,r,i){var a=e.attrs,o=e.componentStyle,u=e.defaultProps,s=e.foldedComponentIds,c=e.shouldForwardProp,l=e.styledComponentId,f=e.target,h=function(e,t,n){void 0===e&&(e=GT);var r=zT({},t,{theme:e}),i={};return n.forEach((function(e){var t,n,a,o=e;for(t in KT(o)&&(o=o(r)),o)r[t]=i[t]="className"===t?(n=i[t],a=o[t],n&&a?n+" "+a:n||a):o[t]})),[r,i]}(KC(n,(0,t.useContext)(rA),u)||GT,n,a),d=h[0],p=h[1],v=function(e,t,n,r){var i=RC(),a=LC();return t?e.generateAndInjectStyles(GT,i,a):e.generateAndInjectStyles(n,i,a)}(o,i,d),y=r,m=p.$as||n.$as||p.as||n.as||f,g=$C(m),k=p!==n?zT({},n,{},p):n,b={};for(var w in k)"$"!==w[0]&&"as"!==w&&("forwardedAs"===w?b.as=k[w]:(c?c(w,BT,m):!g||BT(w))&&(b[w]=k[w]));return n.style&&p.style!==n.style&&(b.style=zT({},n.style,{},p.style)),b.className=Array.prototype.concat(s,l,v!==l?v:null,n.className,p.className).filter(Boolean).join(" "),b.ref=y,(0,t.createElement)(m,b)}(v,e,n,m)};return g.displayName=f,(v=t.forwardRef(g)).attrs=d,v.componentStyle=y,v.displayName=f,v.shouldForwardProp=p,v.foldedComponentIds=i?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):WT,v.styledComponentId=h,v.target=i?e.target:e,v.withComponent=function(e){var t=n.componentId,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(n,["componentId"]),a=t&&t+"-"+($C(e)?e:XC(QT(e)));return aA(e,zT({},i,{attrs:d,componentId:a}),r)},Object.defineProperty(v,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=i?nA({},e.defaultProps,t):t}}),v.toString=function(){return"."+v.styledComponentId},a&&H()(v,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),v}var oA=function(e){return function e(t,n,r){if(void 0===r&&(r=GT),!(0,ke.isValidElementType)(n))return ZT(1,String(n));var i=function(){return t(n,r,GC.apply(void 0,arguments))};return i.withConfig=function(i){return e(t,n,zT({},r,{},i))},i.attrs=function(i){return e(t,n,zT({},r,{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},i}(aA,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){oA[e]=oA(e)}));!function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=_C(e),gC.registerId(this.componentId+1)}var t=e.prototype;t.createStyles=function(e,t,n,r){var i=r(HC(this.rules,t,n,r).join(""),""),a=this.componentId+e;n.insertRules(a,a,i)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,r){e>2&&gC.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)}}();!function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var n=fC();return"<style "+[n&&'nonce="'+n+'"',XT+'="true"','data-styled-version="5.3.3"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?ZT(2):e._emitSheetCSS()},this.getStyleElement=function(){var n;if(e.sealed)return ZT(2);var r=((n={})[XT]="",n["data-styled-version"]="5.3.3",n.dangerouslySetInnerHTML={__html:e.instance.toString()},n),i=fC();return i&&(r.nonce=i),[t.createElement("style",zT({},r,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new gC({isServer:!0}),this.sealed=!1}var n=e.prototype;n.collectStyles=function(e){return this.sealed?ZT(2):t.createElement(MC,{sheet:this.instance},e)},n.interleaveWithNodeStream=function(e){return ZT(3)}}();var uA,sA,cA=oA,lA=cA.div(uA||(uA=RT(["\n  height: 60vh;\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),fA=cA.div(sA||(sA=RT(["\n  display: inline-block;\n  width: 50px;\n  height: 50px;\n  border: 3px solid rgba(195, 195, 195, 0.6);\n  border-radius: 50%;\n  border-top-color: #636767;\n  animation: spin 1s ease-in-out infinite;\n  -webkit-animation: spin 1s ease-in-out infinite;\n  @keyframes spin {\n    to {\n      -webkit-transform: rotate(360deg);\n    }\n  }\n  @-webkit-keyframes spin {\n    to {\n      -webkit-transform: rotate(360deg);\n    }\n  }\n"]))),hA=n(184),dA=["isLoading"],pA=function(e){return function(t){var n=t.isLoading,r=DT(t,dA);return n?(0,hA.jsx)(lA,{children:(0,hA.jsx)(fA,{})}):(0,hA.jsx)(e,Je({},r))}},vA="NOT_FOUND";var yA=function(e,t){return e===t};function mA(e,t){var n="object"===typeof t?t:{equalityCheck:t},r=n.equalityCheck,i=void 0===r?yA:r,a=n.maxSize,o=void 0===a?1:a,u=n.resultEqualityCheck,s=function(e){return function(t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,i=0;i<r;i++)if(!e(t[i],n[i]))return!1;return!0}}(i),c=1===o?function(e){var t;return{get:function(n){return t&&e(t.key,n)?t.value:vA},put:function(e,n){t={key:e,value:n}},getEntries:function(){return t?[t]:[]},clear:function(){t=void 0}}}(s):function(e,t){var n=[];function r(e){var r=n.findIndex((function(n){return t(e,n.key)}));if(r>-1){var i=n[r];return r>0&&(n.splice(r,1),n.unshift(i)),i.value}return vA}return{get:r,put:function(t,i){r(t)===vA&&(n.unshift({key:t,value:i}),n.length>e&&n.pop())},getEntries:function(){return n},clear:function(){n=[]}}}(o,s);function l(){var t=c.get(arguments);if(t===vA){if(t=e.apply(null,arguments),u){var n=c.getEntries(),r=n.find((function(e){return u(e.value,t)}));r&&(t=r.value)}c.put(arguments,t)}return t}return l.clearCache=function(){return c.clear()},l}function gA(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"===typeof e}))){var n=t.map((function(e){return"function"===typeof e?"function "+(e.name||"unnamed")+"()":typeof e})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return t}function kA(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];var a,o=0,u={memoizeOptions:void 0},s=r.pop();if("object"===typeof s&&(u=s,s=r.pop()),"function"!==typeof s)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof s+"]");var c=u,l=c.memoizeOptions,f=void 0===l?n:l,h=Array.isArray(f)?f:[f],d=gA(r),p=e.apply(void 0,[function(){return o++,s.apply(null,arguments)}].concat(h)),v=e((function(){for(var e=[],t=d.length,n=0;n<t;n++)e.push(d[n].apply(null,arguments));return a=p.apply(null,e)}));return Object.assign(v,{resultFunc:s,memoizedResultFunc:p,dependencies:d,lastResult:function(){return a},recomputations:function(){return o},resetRecomputations:function(){return o=0}}),v};return i}var bA,wA,xA,EA,_A,SA,IA,TA,CA,AA=kA(mA),NA=function(e,t){if(void 0===t&&(t=AA),"object"!==typeof e)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);var n=Object.keys(e),r=t(n.map((function(t){return e[t]})),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce((function(e,t,r){return e[n[r]]=t,e}),{})}));return r},OA=AA([function(e){return e.shop}],(function(e){return e.collections})),PA=AA([OA],(function(e){return e?Object.keys(e).map((function(t){return e[t]})):[]})),DA=AA([PA],(function(e){return e?e.sort((function(e,t){return e.category.toLowerCase()>t.category.toLowerCase()?-1:1})):null})),RA=GC(bA||(bA=RT(["\n  background-color: black;\n  color: white;\n  border: none;\n  &:hover {\n    background-color: white;\n    color: black;\n    border: 1px solid black;\n  }\n"]))),LA=GC(wA||(wA=RT(["\n  background-color: white;\n  color: black;\n  border: 1px solid black;\n  &:hover {\n    background-color: black;\n    color: white;\n    border: none;\n  }\n"]))),MA=GC(xA||(xA=RT(["\n  background-color: #4285f4;\n  color: white;\n  &:hover {\n    background-color: #357ae8;\n    border: none;\n  }\n"]))),FA=cA.button(EA||(EA=RT(["\n  min-width: 145px;\n  width: auto;\n  height: 50px;\n  letter-spacing: 0.5px;\n  line-height: 50px;\n  padding: 0 35px 0 35px;\n  font-size: 15px;\n  text-transform: uppercase;\n  font-family: 'Open Sans Condensed';\n  font-weight: bolder;\n  cursor: pointer;\n  display: flex;\n  justify-content: center;\n  ","\n"])),(function(e){return e.isGoogleSignIn?MA:e.inverted?LA:RA})),UA=["children"],jA=function(e){var t=e.children,n=DT(e,UA);return(0,hA.jsx)(FA,Je(Je({},n),{},{children:t}))},VA=cA.div(_A||(_A=RT(["\n    width: 100%\n"]))),BA=cA.div(SA||(SA=RT(["\n    margin: auto;\n    width: 60%;\n    padding: 10px;\n"]))),zA=["title","titleId"];function qA(){return qA=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qA.apply(this,arguments)}function HA(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function WA(e,n){var r=e.title,i=e.titleId,a=HA(e,zA);return t.createElement("svg",qA({xmlns:"http://www.w3.org/2000/svg",className:"ionicon",viewBox:"0 0 512 512",ref:n,"aria-labelledby":i},a),void 0===r?t.createElement("title",{id:i},"Trash"):r?t.createElement("title",{id:i},r):null,IA||(IA=t.createElement("path",{d:"M112 112l20 320c.95 18.49 14.4 32 32 32h184c17.67 0 30.87-13.51 32-32l20-320",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:32})),TA||(TA=t.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeMiterlimit:10,strokeWidth:32,d:"M80 112h352"})),CA||(CA=t.createElement("path",{d:"M192 112V72h0a23.93 23.93 0 0124-24h80a23.93 23.93 0 0124 24h0v40M256 176v224M184 176l8 224M328 176l-8 224",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:32})))}var GA,KA,QA=t.forwardRef(WA),YA=(n.p,["title","titleId"]);function XA(){return XA=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},XA.apply(this,arguments)}function JA(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function $A(e,n){var r=e.title,i=e.titleId,a=JA(e,YA);return t.createElement("svg",XA({xmlns:"http://www.w3.org/2000/svg",className:"ionicon",viewBox:"0 0 512 512",ref:n,"aria-labelledby":i},a),void 0===r?t.createElement("title",{id:i},"Create"):r?t.createElement("title",{id:i},r):null,GA||(GA=t.createElement("path",{d:"M384 224v184a40 40 0 01-40 40H104a40 40 0 01-40-40V168a40 40 0 0140-40h167.48",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:32})),KA||(KA=t.createElement("path",{d:"M459.94 53.25a16.06 16.06 0 00-23.22-.56L424.35 65a8 8 0 000 11.31l11.34 11.32a8 8 0 0011.34 0l12.06-12c6.1-6.09 6.67-16.01.85-22.38zM399.34 90L218.82 270.2a9 9 0 00-2.31 3.93L208.16 299a3.91 3.91 0 004.86 4.86l24.85-8.35a9 9 0 003.93-2.31L422 112.66a9 9 0 000-12.66l-9.95-10a9 9 0 00-12.71 0z"})))}var ZA,eN=t.forwardRef($A),tN=(n.p,["title","titleId"]);function nN(){return nN=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nN.apply(this,arguments)}function rN(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function iN(e,n){var r=e.title,i=e.titleId,a=rN(e,tN);return t.createElement("svg",nN({xmlns:"http://www.w3.org/2000/svg",className:"ionicon",viewBox:"0 0 512 512",ref:n,"aria-labelledby":i},a),void 0===r?t.createElement("title",{id:i},"Checkmark"):r?t.createElement("title",{id:i},r):null,ZA||(ZA=t.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:32,d:"M416 128L192 384l-96-96"})))}var aN,oN=t.forwardRef(iN),uN=(n.p,["title","titleId"]);function sN(){return sN=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sN.apply(this,arguments)}function cN(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function lN(e,n){var r=e.title,i=e.titleId,a=cN(e,uN);return t.createElement("svg",sN({xmlns:"http://www.w3.org/2000/svg",className:"ionicon",viewBox:"0 0 512 512",ref:n,"aria-labelledby":i},a),void 0===r?t.createElement("title",{id:i},"Close"):r?t.createElement("title",{id:i},r):null,aN||(aN=t.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:32,d:"M368 368L144 144M368 144L144 368"})))}var fN,hN,dN,pN,vN,yN,mN,gN,kN,bN,wN,xN,EN,_N,SN,IN,TN,CN,AN,NN,ON,PN,DN,RN,LN,MN,FN,UN,jN,VN,BN,zN,qN,HN,WN,GN,KN,QN,YN,XN,JN,$N=t.forwardRef(lN),ZN=(n.p,cA.div(fN||(fN=RT(["\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    ","\n"])),"")),eO=cA.span(hN||(hN=RT(["\n    width: 30%;\n    text-align:left;\n"]))),tO=cA.span(dN||(dN=RT(["\n    width: 30%;\n    text-align:left;\n"]))),nO=cA.span(pN||(pN=RT(["\n    width: 10%;\n    text-align:right;\n"]))),rO=(cA.span(vN||(vN=RT(["\n    width: 10%;\n    text-align:right;\n    cursor: pointer;    \n"]))),GC(yN||(yN=RT(["\n    cursor: pointer;    \n    &:hover {\n        background-color: lightgrey;\n        border: none\n    }\n"])))),iO=cA.span(mN||(mN=RT(["\n    width:20px;\n    alig-text: center;\n\n    ","\n"])),(function(e){if(e.isClickeable)return rO})),aO=function(){return{type:wT.TOGGLE_PRODUCT_EDIT_HIDDEN}},oO=Ke(null,(function(e){return{toggleProductEditHidden:function(){return e(aO())},updateProduct:function(t){return e(function(e){return{type:wT.UPDATE_PRODUCT,payload:e}}(t))},deleteProduct:function(t){return e(function(e){return{type:vT.DELETE_PRODUCT,payload:e}}(t))}}}))((function(e){var t=e.product,n=e.updateProduct,r=e.toggleProductEditHidden,i=e.deleteProduct;return(0,hA.jsxs)(ZN,{children:[(0,hA.jsx)(eO,{children:t.category.toUpperCase()}),(0,hA.jsx)(tO,{children:t.name.toUpperCase()}),(0,hA.jsxs)(nO,{children:["$",t.price]}),(0,hA.jsx)(iO,{children:t.enable?(0,hA.jsx)(oN,{}):(0,hA.jsx)($N,{})}),(0,hA.jsx)(iO,{isClickeable:!0,children:(0,hA.jsx)(eN,{onClick:function(){n(t),r()}})}),(0,hA.jsx)(iO,{isClickeable:!0,children:(0,hA.jsx)(QA,{onClick:function(){console.log("DELETE!"),window.confirm("QUIERE ELIMINAR EL PRODUCTO: "+t.name+"?")?i(t):console.log("CANCEL")}})})]})})),uO=function(e){return e.product},sO=AA([uO],(function(e){return e.hidden})),cO=AA([uO],(function(e){return e.product})),lO="grey",fO=GC(gN||(gN=RT(["\n  top: -14px;\n  font-size: 12px;\n  color: ",";\n"])),"black"),hO=cA.div(kN||(kN=RT(["\n  position: relative;\n  margin: 25px 0;\n  input[type='password'] {\n    letter-spacing: 0.3em;\n  }\n"]))),dO=cA.input(bN||(bN=RT(["\n  background: none;\n  background-color: white;\n  color: ",";\n  font-size: 18px;\n  padding: 5px 5px 5px 5px;\n  display: block;\n  width: 100%;\n  border: none;\n  border-radius: 0;\n  border-bottom: 1px solid ",";\n  margin: 15px 0;\n  &:focus {\n    outline: none;\n  }\n  &:focus ~ label {\n    ","\n  }\n"])),lO,lO,fO),pO=cA.label(wN||(wN=RT(["\n  color: ",";\n  font-size: 16px;\n  font-weight: normal;\n  position: absolute;\n  pointer-events: none;\n  left: 5px;\n  top: 10px;\n  transition: 300ms ease all;\n  &.shrink {\n    ","\n  }\n"])),lO,fO),vO=["handleChange","label"],yO=function(e){var t=e.handleChange,n=e.label,r=DT(e,vO);return(0,hA.jsxs)(hO,{children:[(0,hA.jsx)(dO,Je({onChange:t},r)),n?(0,hA.jsx)(pO,{className:r.value.length||"number"===r.type?"shrink":"",children:n}):null]})},mO=cA.div(xN||(xN=RT(["\n    position: absolute;\n    width:340px;\n    height:550px;\n    display: flex;\n    flex-direction: column;\n    padding: 20px;\n    border: 1px solid black;\n    background-color: white;\n    top:90px;\n    right: 70px;\n    z-index: 5;\n    border-radius: 10px;\n"]))),gO=cA.div(EN||(EN=RT(["\n    display: flex;\n    justify-content: space-between;    \n    padding-top:20px;\n"]))),kO=function(e){Et(n,e);var t=Ct(n);function n(e){var r;dt(this,n),(r=t.call(this,e)).handleChange=function(e){var t=e.target,n=t.value,i=t.name;r.setState(Ye({},i,n))},r.updateProducts=lt(ht().mark((function e(){var t,n,i,a,o,u,s,c,l,f,h;return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.state,n=t.id,i=t.category,a=t.name,o=t.price,u=t.enable,s=t.stock,c=t.warninglevel,l=t.stoplevel,f=t.enablestop,h={id:n,category:i,name:a,price:o,enable:u,stock:s,warninglevel:c,stoplevel:l,enablestop:f},console.log("ADD",h),e.next=5,cT(h);case 5:case"end":return e.stop()}}),e)})));var i=r.props.product,a=i&&i.id?i.id:null,o=i&&i.category?i.category:"",u=i&&i.name?i.name:"",s=i&&i.price?i.price:0,c=!(!i||!i.enable)&&i.enable,l=i&&i.stock?i.stock:0,f=i&&i.warninglevel?i.warninglevel:0,h=i&&i.stoplevel?i.stoplevel:0,d=!(!i||!i.enablestop)&&i.enablestop;return r.state={id:a,category:o,name:u,price:s,enable:c,stock:l,warninglevel:f,stoplevel:h,enablestop:d,disabled:!1},r}return vt(n,[{key:"render",value:function(){var e=this,t=this.props.toggleProductEditHidden,n=this.state,r=n.category,i=n.name,a=n.price,o=n.enable,u=n.stock,s=n.warninglevel,c=n.stoplevel,l=n.enablestop;return(0,hA.jsxs)(mO,{children:[(0,hA.jsx)("h2",{children:"Producto"}),(0,hA.jsxs)("form",{onSubmit:this.handleOnSubmit,children:[(0,hA.jsx)(yO,{name:"category",label:"Categoria",type:"text",value:r,handleChange:this.handleChange,required:!0}),(0,hA.jsx)(yO,{name:"name",label:"Nombre",type:"text",value:i,handleChange:this.handleChange,required:!0}),(0,hA.jsx)(yO,{name:"price",label:"Precio",type:"number",value:a,handleChange:this.handleChange,required:!0}),(0,hA.jsx)(yO,{name:"stock",label:"Stock",type:"number",value:u||0,handleChange:this.handleChange}),(0,hA.jsx)(yO,{name:"wraninglevel",label:"Stock Minimo",type:"number",value:s,handleChange:this.handleChange}),(0,hA.jsx)(yO,{name:"stoplevel",label:"Stock Critico",type:"number",value:c,handleChange:this.handleChange}),(0,hA.jsxs)("div",{children:[(0,hA.jsx)("label",{children:"DETENCION AUTOMATICA"}),(0,hA.jsx)("input",{type:"checkbox",name:"enablestop",defaultChecked:l,onClick:function(){e.setState(Je(Je({},e.state),{},{enablestop:!l}))}})]}),(0,hA.jsxs)("div",{children:[(0,hA.jsx)("label",{children:"HABILITADO"}),(0,hA.jsx)("input",{type:"checkbox",name:"enable",defaultChecked:o,onClick:function(){e.setState(Je(Je({},e.state),{},{enable:!o}))}})]}),(0,hA.jsxs)(gO,{children:[(0,hA.jsx)(jA,{type:"button",onClick:function(){t()},children:"CANCELAR"}),(0,hA.jsx)(jA,{type:"button",onClick:function(){e.state.disabled||(e.setState(Je(Je({},e.state),{},{disabled:!0})),e.updateProducts(),e.props.toggleProductEditHidden())},children:"ACEPTAR"})]})]})]})}}]),n}(t.Component),bO=Ke(NA({product:cO}),(function(e){return{toggleProductEditHidden:function(){return e(aO())}}}))(kO),wO=Ke(NA({shopCollection:DA,productEditHidden:sO}),(function(e){return{toggleProductEditHidden:function(){return e(aO())},clearProduct:function(){return e({type:wT.CLEAR_PRODUCT})}}}))((function(e){var t=e.shopCollection,n=e.productEditHidden,r=e.toggleProductEditHidden,i=e.clearProduct;return(0,hA.jsxs)(VA,{children:[(0,hA.jsx)("h2",{children:"PRODUCTOS"}),(0,hA.jsx)(BA,{children:t.map((function(e){return(0,hA.jsx)(oO,{product:e},e.id)}))}),(0,hA.jsx)("div",{children:(0,hA.jsx)(jA,{type:"button",onClick:function(){i(),r()},children:"Agregar"})}),n?null:(0,hA.jsx)(bO,{})]})})),xO=cA.div(_N||(_N=RT(["\n    width:100%\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    padding: 5px 20px;\n"]))),EO=pA(wO),_O=function(e){Et(n,e);var t=Ct(n);function n(){var e;dt(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).state={loading:!0},e.unsubscribeFromSnapshot=null,e}return vt(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.updateProducts;fT.collection("products").onSnapshot(function(){var n=lt(ht().mark((function n(r){var i;return ht().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.docs.map((function(e){var t=e.data(),n=t.name,r=t.category,i=t.price,a=t.enable,o=t.stock,u=t.warninglevel,s=t.stoplevel,c=t.enablestop;return{id:e.id,name:n,price:i,category:r,enable:a,stock:o,warninglevel:u,stoplevel:s,enablestop:c}})).reduce((function(e,t){return e[t.name.toLowerCase()]=t,e}),{});case 2:i=n.sent,t(i),e.setState(Je(Je({},e.state),{},{loading:!1}));case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())}},{key:"render",value:function(){return(0,hA.jsx)(xO,{children:(0,hA.jsx)(EO,{})})}}]),n}(t.Component),SO=(Ke(null,(function(e){return{updateProducts:function(t){return e(function(e){return{type:vT.UPDATE_PRODUCTS,payload:e}}(t))}}}))(_O),n(76)),IO=AA([function(e){return e.user}],(function(e){return e.currentUser})),TO=cA.div(SN||(SN=RT(["\n    height: 70px;\n    width: 100%;\n    display: flex;\n    justify-content: space-between;\n    margin-bottom: 5px;\n"]))),CO=cA(ce)(IN||(IN=RT(["\n    height: 100%;\n    width:75px;\n    padding: 5px;\n"]))),AO=cA.img(TN||(TN=RT(["\n    width:60px;\n"]))),NO=cA.div(CN||(CN=RT(["\n    width: 85%;\n    height: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: flex-end;\n"]))),OO=cA(ce)(AN||(AN=RT(["\n    padding: 10px 15px;\n    cursor: pointer;\n"]))),PO=Ke(NA({currentUser:IO}))((function(e){var t=e.currentUser;return(0,hA.jsxs)(TO,{children:[(0,hA.jsx)(CO,{to:"/",children:(0,hA.jsx)(AO,{src:SO,alt:"logo"})}),(0,hA.jsxs)(NO,{children:[(0,hA.jsx)(OO,{to:"/help",children:"AYUDA"}),(0,hA.jsx)(OO,{to:"/products",children:"PRODUCTOS"}),(0,hA.jsx)(OO,{to:"/stock",children:"STOCK"}),(0,hA.jsx)(OO,{to:"/config",children:"CONF"}),t?(0,hA.jsx)(OO,{as:"div",onClick:function(){return lT.signOut()},children:"SALIR"}):(0,hA.jsx)(OO,{to:"/signin",children:"INGRESAR"})]})]})})),DO=cA.div(NN||(NN=RT(["\n  width: 380px;\n  display: flex;\n  flex-direction: column;\n"]))),RO=cA.h2(ON||(ON=RT(["\n  margin: 10px 0;\n"]))),LO=cA.div(PN||(PN=RT(["\n  display: flex;\n  justify-content: space-between;\n"]))),MO=(t.Component,cA.div(DN||(DN=RT(["\n    display: flex;\n    flex-direction: column;\n    width: 380px;\n"])))),FO=cA.h2(RN||(RN=RT(["\n    margin: 10px 0;\n"]))),UO=cA.form(LN||(LN=RT(["\n"]))),jO=(t.Component,cA.div(MN||(MN=RT(["\n    width: 850px;\n    display: flex;\n    justify-content: space-between;\n    margin: 30px auto;\n"]))),cA.div(FN||(FN=RT(["\n    width:100%;\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n"])))),VO=cA.span(UN||(UN=RT(["\n    width: 20%;\n    text-align: left;\n    ","\n"])),""),BO=cA.span(jN||(jN=RT(["\n    width: 10%;\n    text-align: right;\n"]))),zO=cA.span(VN||(VN=RT(["\n    width: 10%;\n    text-align: right;\n"]))),qO=cA.span(BN||(BN=RT(["\n    width: 10%;\n    text-align: right;\n"]))),HO=(cA.span(zN||(zN=RT(["\n    width: 20%;\n    text-align: center;\n"]))),cA.span(qN||(qN=RT(["\n    width: 10%;\n    text-align: center;\n"]))),cA.span(HN||(HN=RT(["\n    width: 10%;\n    text-align: center;\n"]))),cA.span(WN||(WN=RT(["\n    width: 15%;\n    text-align: center;\n"]))),cA.span(GN||(GN=RT(["\n    width: 5%;\n    text-align: center;\n"]))),GC(KN||(KN=RT(["\n    cursor: pointer;    \n    &:hover {\n        background-color: lightgrey;\n        border: none\n    }\n"])))),WO=cA.span(QN||(QN=RT(["\n    width:20px;\n    text-align: center;\n\n    ","\n"])),(function(e){if(e.isClickeable)return HO})),GO=(GC(YN||(YN=RT(["\n    text-decoration: line-through;\n"]))),function(e){var t=e.stockItem;return(0,hA.jsxs)(jO,{children:[(0,hA.jsx)(VO,{disable:t.disable,children:t.id}),(0,hA.jsx)(BO,{children:t.stock}),(0,hA.jsx)(zO,{children:t.warning}),(0,hA.jsx)(WO,{children:t.autostop_enable?(0,hA.jsx)(oN,{}):(0,hA.jsx)($N,{})}),(0,hA.jsx)(qO,{children:t.autostop}),(0,hA.jsx)(WO,{isClickeable:!0,children:t.enable?(0,hA.jsx)(oN,{}):(0,hA.jsx)($N,{})}),(0,hA.jsx)(WO,{isClickeable:!0,children:(0,hA.jsx)(eN,{})})]})}),KO=cA.div(XN||(XN=RT(["\n    width:100%\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    padding: 5px 20px;\n"]))),QO=cA.div(JN||(JN=RT(["\n    width: 700px;\n"]))),YO=(Ke(NA({stockItems:DA}))((function(e){var t=e.stockItems;return console.log("STOCK_ITEMS:",t),(0,hA.jsxs)(KO,{children:[(0,hA.jsx)("h2",{children:"STOCK"}),(0,hA.jsx)(QO,{children:t.map((function(e){return console.log(e),(0,hA.jsx)(GO,{stockItem:e},e.id)}))})]})})),function(e){Et(n,e);var t=Ct(n);function n(){var e;dt(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).unsubscribeFromAuth=null,e}return vt(n,[{key:"componentDidMount",value:function(){var e=this.props.setCurrentUser;this.unsubscribeFromAuth=lT.onAuthStateChanged(function(){var t=lt(ht().mark((function t(n){return ht().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=5;break}return t.next=3,uT(n);case 3:t.sent.onSnapshot((function(t){e(Je({id:t.id},t.data()))}));case 5:e(n);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"componentWillUnmount",value:function(){this.unsubscribeFromAuth()}},{key:"render",value:function(){this.props.currentUser;return(0,hA.jsx)("div",{children:(0,hA.jsx)(PO,{})})}}]),n}(t.Component)),XO=Ke(NA({currentUser:IO}),(function(e){return{setCurrentUser:function(t){return e(function(e){return{type:ot,payload:e}}(t))}}}))(YO);r.render((0,hA.jsx)(ge,{store:PT,children:(0,hA.jsx)(re,{children:(0,hA.jsx)(XO,{})})}),document.getElementById("root"))}()}();
//# sourceMappingURL=main.fd9e75e4.js.map